/*
 RequireJS 1.0.2 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/
(function(){var e=Math,f=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",h="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,g="ontouchstart"in window,l=f+"Transform"in document.documentElement.style,d=/iphone|ipad/gi.test(navigator.appVersion),j=/playbook/gi.test(navigator.appVersion),c=d||j,n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),o=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,b="onorientationchange"in window?"orientationchange":"resize",i=g?"touchstart":"mousedown",t=g?"touchmove":"mousemove",q=g?"touchend":"mouseup",y=g?"touchcancel":"mouseup",r="translate"+(h?"3d(":"("),v=h?",0)":")",h=function(a,
p){var s;this.wrapper="object"==typeof a?a:document.getElementById(a);this.wrapper.style.overflow="hidden";this.scroller=this.wrapper.children[0];this.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(s in p)this.options[s]=
p[s];this.x=this.options.x;this.y=this.options.y;this.options.useTransform=l?this.options.useTransform:!1;this.options.hScrollbar=this.options.hScroll&&this.options.hScrollbar;this.options.vScrollbar=this.options.vScroll&&this.options.vScrollbar;this.options.useTransition=c&&this.options.useTransition;this.scroller.style[f+"TransitionProperty"]=this.options.useTransform?"-"+f.toLowerCase()+"-transform":"top left";this.scroller.style[f+"TransitionDuration"]="0";this.scroller.style[f+"TransformOrigin"]=
"0 0";this.options.useTransition&&(this.scroller.style[f+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");this.options.useTransform?this.scroller.style[f+"Transform"]=r+this.x+"px,"+this.y+"px"+v:this.scroller.style.cssText+=";position:absolute;top:"+this.y+"px;left:"+this.x+"px";this.refresh();this._bind(b,window);this._bind(i);g||this._bind("mouseout",this.wrapper)};h.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(a){switch(a.type){case i:if(!g&&0!==a.button)break;
this._start(a);break;case t:this._move(a);break;case q:case y:this._end(a);break;case b:this._resize();break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_resize:function(){this.refresh()},_pos:function(a,p){a=this.hScroll?a:0;p=this.vScroll?p:0;this.options.useTransform?this.scroller.style[f+"Transform"]=r+a+"px,"+p+"px"+v+" scale("+this.scale+")":(a=e.round(a),p=e.round(p),this.scroller.style.left=a+"px",this.scroller.style.top=p+"px");this.x=a;this.y=
p},_start:function(a){var p=g?a.touches[0]:a,s,b;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,a);this.options.useTransition&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum&&(this.options.useTransform?(s=getComputedStyle(this.scroller,null)[f+"Transform"].replace(/[^0-9-.,]/g,"").split(","),b=1*s[4],s=1*s[5]):(b=1*getComputedStyle(this.scroller,
null).left.replace(/[^0-9-]/g,""),s=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),b!=this.x||s!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):o(this.aniTime),this.steps=[],this._pos(b,s);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=p.pageX;this.pointY=p.pageY;this.startTime=a.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,a);this._bind(t);this._bind(q);this._bind(y)}},
_move:function(a){var p=g?a.touches[0]:a,s=p.pageX-this.pointX,b=p.pageY-this.pointY,c=this.x+s,i=this.y+b,d=a.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,a);this.pointX=p.pageX;this.pointY=p.pageY;if(0<c||c<this.maxScrollX)c=this.options.bounce?this.x+s/2:0<=c||0<=this.maxScrollX?0:this.maxScrollX;if(0<i||i<this.maxScrollY)i=this.options.bounce?this.y+b/2:0<=i||0<=this.maxScrollY?0:this.maxScrollY;if(6>this.absDistX&&6>this.absDistY)this.distX+=
s,this.distY+=b,this.absDistX=e.abs(this.distX),this.absDistY=e.abs(this.distY);else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)i=this.y,b=0;else if(this.absDistY>this.absDistX+5)c=this.x,s=0;this.moved=!0;this._pos(c,i);this.dirX=0<s?-1:0>s?1:0;this.dirY=0<b?-1:0>b?1:0;if(300<d-this.startTime)this.startTime=d,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}},_end:function(a){if(!(g&&0!=a.touches.length)){var p=g?a.changedTouches[0]:
a,b,c,i={dist:0,time:0},d={dist:0,time:0},f=(a.timeStamp||Date.now())-this.startTime;b=this.x;c=this.y;this._unbind(t);this._unbind(q);this._unbind(y);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,a);if(this.moved){if(300>f&&this.options.momentum){i=b?this._momentum(b-this.startX,f,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):i;d=c?this._momentum(c-this.startY,f,-this.y,0>this.maxScrollY?this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?
this.wrapperH:0):d;b=this.x+i.dist;c=this.y+d.dist;if(0<this.x&&0<b||this.x<this.maxScrollX&&b<this.maxScrollX)i={dist:0,time:0};if(0<this.y&&0<c||this.y<this.maxScrollY&&c<this.maxScrollY)d={dist:0,time:0}}i.dist||d.dist?(p=e.max(e.max(i.time,d.time),10),this.scrollTo(b,c,p)):this._resetPos(200)}else{if(g){for(b=p.target;1!=b.nodeType;)b=b.parentNode;if("SELECT"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName)c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,p.screenX,
p.screenY,p.clientX,p.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._fake=!0,b.dispatchEvent(c)}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,a)}},_resetPos:function(a){var b=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,c=0<=this.y||0<this.maxScrollY?0:this.y<this.maxScrollY?this.maxScrollY:this.y;if(b==this.x&&c==this.y){if(this.moved)this.options.onScrollEnd&&this.options.onScrollEnd.call(this),this.moved=!1}else this.scrollTo(b,c,a||0)},
_mouseout:function(a){var b=a.relatedTarget;if(b)for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,b=a.x,c=a.y,i=Date.now(),d,g,f;if(!a.animating)if(a.steps.length){d=a.steps.shift();if(d.x==b&&d.y==c)d.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(d.time),a._pos(d.x,d.y),a.animating=!1,d.time?a._bind("webkitTransitionEnd"):
a._resetPos(0)):(f=function(){var j=Date.now();if(j>=i+d.time)a._pos(d.x,d.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();else if(j=(j-i)/d.time-1,g=e.sqrt(1-j*j),j=(d.x-b)*g+b,a._pos(j,(d.y-c)*g+c),a.animating)a.aniTime=n(f)},f())}else a._resetPos(400)},_transitionTime:function(a){this.scroller.style[f+"TransitionDuration"]=a+"ms"},_momentum:function(a,b,c,d,i){var b=e.abs(a)/b,g=b*b/0.0012,f=0,f=0;0<a&&g>c?(c+=i/(6/(6.0E-4*(g/b))),b=b*c/g,g=c):0>a&&g>
d&&(d+=i/(6/(6.0E-4*(g/b))),b=b*d/g,g=d);return{dist:g*(0>a?-1:1),time:e.round(b/6.0E-4)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){this.scroller.style[f+"Transform"]="";this._unbind(b,window);this._unbind(i);this._unbind(t);this._unbind(q);this._unbind(y);
this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a;this.wrapperW=this.wrapper.clientWidth;this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.hScroll=this.options.hScroll&&0>this.maxScrollX;
this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;this.scroller.style[f+"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(a,b,c,d){var i=a;this.stop();i.length||(i=[{x:a,y:b,time:c,relative:d}]);for(a=0,b=i.length;a<b;a++){if(i[a].relative)i[a].x=this.x-i[a].x,i[a].y=this.y-i[a].y;this.steps.push({x:i[a].x,y:i[a].y,time:i[a].time||0})}this._startAni()},
scrollToElement:function(a,b){var c;if(a=a.nodeType?a:this.scroller.querySelector(a))c=this._offset(a),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,c.left=0<c.left?0:c.left<this.maxScrollX?this.maxScrollX:c.left,c.top=0<c.top?0:c.top<this.maxScrollY?this.maxScrollY:c.top,b=void 0===b?e.max(2*e.abs(c.left),2*e.abs(c.top)):b,this.scrollTo(c.left,c.top,b)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(t);this._unbind(q);this._unbind(y)},enable:function(){this.enabled=
!0},stop:function(){o(this.aniTime);this.steps=[];this.animating=this.moved=!1}};"undefined"!==typeof exports?exports.iScroll=h:window.iScroll=h})();var requirejs,require,define;
(function(){function e(a){return"[object Function]"===t.call(a)}function f(a){return"[object Array]"===t.call(a)}function h(a,b,c){for(var d in b)if(!(d in F)&&(!(d in a)||c))a[d]=b[d];return m}function g(a,b,c){a=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);if(c)a.originalError=c;return a}function l(a,c,d){var g,f,e;for(g=0;e=c[g];g++){e="string"===typeof e?{name:e}:e;f=e.location;if(d&&(!f||0!==f.indexOf("/")&&-1===f.indexOf(":")))f=d+"/"+(f||e.name);a[e.name]={name:e.name,location:f||
e.name,main:(e.main||"main").replace(b,"").replace(i,"")}}}function d(a,b){a.holdReady?a.holdReady(b):b?a.readyWait+=1:a.ready(!0)}function j(b){function c(a,b){var i,d;if(a&&"."===a.charAt(0))if(b){w.pkgs[b]?b=[b]:(b=b.split("/"),b=b.slice(0,b.length-1));i=a=b.concat(a.split("/"));var g;for(d=0;g=i[d];d++)if("."===g)i.splice(d,1),d-=1;else if(".."===g)if(1===d&&(".."===i[2]||".."===i[0]))break;else 0<d&&(i.splice(d-1,2),d-=2);d=w.pkgs[i=a[0]];a=a.join("/");d&&a===i+"/"+d.main&&(a=i)}else 0===a.indexOf("./")&&
(a=a.substring(2));return a}function i(a,b){var d=a?a.indexOf("!"):-1,g=null,e=b?b.name:null,f=a,j,h;-1!==d&&(g=a.substring(0,d),a=a.substring(d+1,a.length));g&&(g=c(g,e));a&&(g?j=(d=u[g])&&d.normalize?d.normalize(a,function(a){return c(a,e)}):c(a,e):(j=c(a,e),h=H[j],h||(h=k.nameToUrl(j,null,b),H[j]=h)));return{prefix:g,name:j,parentMap:b,url:h,originalName:f,fullName:g?g+"!"+(j||""):j}}function f(){var a=!0,b=w.priorityWait,c,d;if(b){for(d=0;c=b[d];d++)if(!C[c]){a=!1;break}a&&delete w.priorityWait}return a}
function j(a,b,c){return function(){var d=y.call(arguments,0),i;if(c&&e(i=d[d.length-1]))i.__requireJsBuild=!0;d.push(b);return a.apply(null,d)}}function p(a,b){var c=j(k.require,a,b);h(c,{nameToUrl:j(k.nameToUrl,a),toUrl:j(k.toUrl,a),defined:j(k.requireDefined,a),specified:j(k.requireSpecified,a),isBrowser:m.isBrowser});return c}function o(a){var b,c,d,f=a.callback,j=a.map,h=j.fullName,r=a.deps;d=a.listeners;if(f&&e(f)){if(w.catchError.define)try{c=m.execCb(h,a.callback,r,u[h])}catch(v){b=v}else c=
m.execCb(h,a.callback,r,u[h]);if(h)(f=a.cjsModule)&&void 0!==f.exports&&f.exports!==u[h]?c=u[h]=a.cjsModule.exports:void 0===c&&a.usingExports?c=u[h]:(u[h]=c,L[h]&&(S[h]=!0))}else h&&(c=u[h]=f,L[h]&&(S[h]=!0));if(J[a.id])delete J[a.id],a.isDone=!0,k.waitCount-=1,0===k.waitCount&&(K=[]);delete T[h];if(m.onResourceLoad&&!a.placeholder)m.onResourceLoad(k,j,a.depArray);if(b)return c=(h?i(h).url:"")||b.fileName||b.sourceURL,d=b.moduleTree,b=g("defineerror",'Error evaluating module "'+h+'" at location "'+
c+'":\n'+b+"\nfileName:"+c+"\nlineNumber: "+(b.lineNumber||b.line),b),b.moduleName=h,b.moduleTree=d,m.onError(b);for(b=0;f=d[b];b++)f(c)}function n(a,b){return function(c){a.depDone[b]||(a.depDone[b]=!0,a.deps[b]=c,a.depCount-=1,a.depCount||o(a))}}function s(a,b){var c=b.map,d=c.fullName,i=c.name,g=O[a]||(O[a]=u[a]),f;if(!b.loading)b.loading=!0,f=function(a){b.callback=function(){return a};o(b);C[b.id]=!0;x()},f.fromText=function(a,b){var c=P;C[a]=!1;k.scriptCount+=1;k.fake[a]=!0;c&&(P=!1);m.exec(b);
c&&(P=!0);k.completeLoad(a)},d in u?f(u[d]):g.load(i,p(c.parentMap,!0),f,w)}function t(a){J[a.id]||(J[a.id]=a,K.push(a),k.waitCount+=1)}function q(a){this.listeners.push(a)}function z(a,b){var c=a.fullName,d=a.prefix,g=d?O[d]||(O[d]=u[d]):null,f,e;c&&(f=T[c]);if(!f&&(e=!0,f={id:(d&&!g?X++ +"__p@:":"")+(c||"__r@"+X++),map:a,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:q},E[f.id]=!0,c&&(!d||O[d])))T[c]=f;d&&!g?(c=z(i(d),!0),c.add(function(){var b=i(a.originalName,a.parentMap),b=z(b,
!0);f.placeholder=!0;b.add(function(a){f.callback=function(){return a};o(f)})})):e&&b&&(C[f.id]=!1,k.paused.push(f),t(f));return f}function G(a,b,c,d){var a=i(a,d),f=a.name,g=a.fullName,e=z(a),h=e.id,j=e.deps,r;if(g){if(g in u||!0===C[h]||"jquery"===g&&w.jQuery&&w.jQuery!==c().fn.jquery)return;E[h]=!0;C[h]=!0;"jquery"===g&&c&&U(c())}e.depArray=b;e.callback=c;for(c=0;c<b.length;c++)if(h=b[c])h=i(h,f?a:d),r=h.fullName,b[c]=r,"require"===r?j[c]=p(a):"exports"===r?(j[c]=u[g]={},e.usingExports=!0):"module"===
r?e.cjsModule=j[c]={id:f,uri:f?k.nameToUrl(f,null,d):void 0,exports:u[g]}:r in u&&!(r in J)&&(!(g in L)||g in L&&S[r])?j[c]=u[r]:(g in L&&(L[r]=!0,delete u[r],V[h.url]=!1),e.depCount+=1,e.depCallbacks[c]=n(e,c),z(h,!0).add(e.depCallbacks[c]));e.depCount?t(e):o(e)}function A(a){G.apply(null,a)}function N(a,b){if(!a.isDone){var c=a.map.fullName,d=a.depArray,f,g,e,h;if(c){if(b[c])return u[c];b[c]=!0}if(d)for(f=0;f<d.length;f++)if(g=d[f])if((e=i(g).prefix)&&(h=J[e])&&N(h,b),(e=J[g])&&!e.isDone&&C[g])g=
N(e,b),a.depCallbacks[f](g);return c?u[c]:void 0}}function D(){var b=1E3*w.waitSeconds,c=b&&k.startTime+b<(new Date).getTime(),b="",d=!1,i=!1,e;if(!(0<k.pausedCount)){if(w.priorityWait)if(f())x();else return;for(e in C)if(!(e in F)&&(d=!0,!C[e]))if(c)b+=e+" ";else{i=!0;break}if(d||k.waitCount){if(c&&b)return e=g("timeout","Load timeout for modules: "+b),e.requireType="timeout",e.requireModules=b,m.onError(e);if(i||k.scriptCount){if((v||a)&&!W)W=setTimeout(function(){W=0;D()},50)}else{if(k.waitCount){for(M=
0;b=K[M];M++)N(b,{});k.paused.length&&x();5>R&&(R+=1,D())}R=0;m.checkReadyState()}}}}var k,x,w={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},B=[],E={require:!0,exports:!0,module:!0},H={},u={},C={},J={},K=[],V={},X=0,T={},O={},L={},S={},Q=0;U=function(a){if(!k.jQuery&&(a=a||("undefined"!==typeof jQuery?jQuery:null))&&!(w.jQuery&&a.fn.jquery!==w.jQuery)&&("holdReady"in a||"readyWait"in a))if(k.jQuery=a,A(["jquery",[],function(){return jQuery}]),k.scriptCount)d(a,!0),k.jQueryIncremented=
!0};x=function(){var a,b,c,d,i,e;Q+=1;if(0>=k.scriptCount)k.scriptCount=0;for(;B.length;){a=B.shift();if(null===a[0])return m.onError(g("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));A(a)}if(!w.priorityWait||f())for(;k.paused.length;){i=k.paused;k.pausedCount+=i.length;k.paused=[];for(d=0;a=i[d];d++)b=a.map,c=b.url,e=b.fullName,b.prefix?s(b.prefix,a):!V[c]&&!C[e]&&(m.load(k,e,c),0!==c.indexOf("empty:")&&(V[c]=!0));k.startTime=(new Date).getTime();k.pausedCount-=i.length}1===Q&&
D();Q-=1};k={contextName:b,config:w,defQueue:B,waiting:J,waitCount:0,specified:E,loaded:C,urlMap:H,urlFetched:V,scriptCount:0,defined:u,paused:[],pausedCount:0,plugins:O,needFullExec:L,fake:{},fullExec:S,managerCallbacks:T,makeModuleMap:i,normalize:c,configure:function(a){var b,c,d;a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");b=w.paths;d=w.pkgs;h(w,a,!0);if(a.paths){for(c in a.paths)c in F||(b[c]=a.paths[c]);w.paths=b}if((b=a.packagePaths)||a.packages){if(b)for(c in b)c in
F||l(d,b[c],c);a.packages&&l(d,a.packages);w.pkgs=d}if(a.priority)c=k.requireWait,k.requireWait=!1,k.takeGlobalQueue(),x(),k.require(a.priority),x(),k.requireWait=c,w.priorityWait=a.priority;if(a.deps||a.callback)k.require(a.deps||[],a.callback)},requireDefined:function(a,b){return i(a,b).fullName in u},requireSpecified:function(a,b){return i(a,b).fullName in E},require:function(a,c,d){if("string"===typeof a){if(e(c))return m.onError(g("requireargs","Invalid require call"));if(m.get)return m.get(k,
a,c);c=i(a,c);a=c.fullName;return!(a in u)?m.onError(g("notloaded","Module name '"+c.fullName+"' has not been loaded yet for context: "+b)):u[a]}(a&&a.length||c)&&G(null,a,c,d);if(!k.requireWait)for(;!k.scriptCount&&k.paused.length;)k.takeGlobalQueue(),x();return k.require},takeGlobalQueue:function(){I.length&&(r.apply(k.defQueue,[k.defQueue.length-1,0].concat(I)),I=[])},completeLoad:function(a){var b;for(k.takeGlobalQueue();B.length;)if(b=B.shift(),null===b[0]){b[0]=a;break}else if(b[0]===a)break;
else A(b),b=null;b?A(b):A([a,[],"jquery"===a&&"undefined"!==typeof jQuery?function(){return jQuery}:null]);U();m.isAsync&&(k.scriptCount-=1);x();m.isAsync||(k.scriptCount-=1)},toUrl:function(a,b){var c=a.lastIndexOf("."),d=null;-1!==c&&(d=a.substring(c,a.length),a=a.substring(0,c));return k.nameToUrl(a,d,b)},nameToUrl:function(a,b,d){var i,e,f,g,h=k.config,a=c(a,d&&d.fullName);if(m.jsExtRegExp.test(a))b=a+(b?b:"");else{i=h.paths;e=h.pkgs;d=a.split("/");for(g=d.length;0<g;g--)if(f=d.slice(0,g).join("/"),
i[f]){d.splice(0,g,i[f]);break}else if(f=e[f]){a=a===f.name?f.location+"/"+f.main:f.location;d.splice(0,g,a);break}b=d.join("/")+(b||".js");b=("/"===b.charAt(0)||b.match(/^\w+:/)?"":h.baseUrl)+b}return h.urlArgs?b+((-1===b.indexOf("?")?"?":"&")+h.urlArgs):b}};k.jQueryCheck=U;k.resume=x;return k}function c(){var a,b,c;if(G&&"interactive"===G.readyState)return G;a=document.getElementsByTagName("script");for(b=a.length-1;-1<b&&(c=a[b]);b--)if("interactive"===c.readyState)return G=c;return null}var n=
/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,o=/require\(\s*["']([^'"\s]+)["']\s*\)/g,b=/^\.\//,i=/\.js$/,t=Object.prototype.toString,q=Array.prototype,y=q.slice,r=q.splice,v=!!("undefined"!==typeof window&&navigator&&document),a=!v&&"undefined"!==typeof importScripts,p=v&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,s="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),F={},z={},I=[],G=null,R=0,P=!1,m,q={},N,A,D,K,x,E,H,M,B,U,W;if("undefined"===typeof define){if("undefined"!==
typeof requirejs){if(e(requirejs))return;q=requirejs;requirejs=void 0}"undefined"!==typeof require&&!e(require)&&(q=require,require=void 0);m=requirejs=function(a,b,c){var d="_",i;!f(a)&&"string"!==typeof a&&(i=a,f(b)?(a=b,b=c):a=[]);if(i&&i.context)d=i.context;c=z[d]||(z[d]=j(d));i&&c.configure(i);return c.require(a,b)};m.config=function(a){return m(a)};require||(require=m);m.toUrl=function(a){return z._.toUrl(a)};m.version="1.0.2";m.jsExtRegExp=/^\/|:|\?|\.js$/;A=m.s={contexts:z,skipAsync:{}};if(m.isAsync=
m.isBrowser=v)if(D=A.head=document.getElementsByTagName("head")[0],K=document.getElementsByTagName("base")[0])D=A.head=K.parentNode;m.onError=function(a){throw a;};m.load=function(a,b,c){m.resourcesReady(!1);a.scriptCount+=1;m.attach(c,a,b);if(a.jQuery&&!a.jQueryIncremented)d(a.jQuery,!0),a.jQueryIncremented=!0};define=function(a,b,d){var i,g;"string"!==typeof a&&(d=b,b=a,a=null);f(b)||(d=b,b=[]);!b.length&&e(d)&&d.length&&(d.toString().replace(n,"").replace(o,function(a,c){b.push(c)}),b=(1===d.length?
["require"]:["require","exports","module"]).concat(b));if(P&&(i=N||c()))a||(a=i.getAttribute("data-requiremodule")),g=z[i.getAttribute("data-requirecontext")];(g?g.defQueue:I).push([a,b,d])};define.amd={multiversion:!0,plugins:!0,jQuery:!0};m.exec=function(a){return eval(a)};m.execCb=function(a,b,c,d){return b.apply(d,c)};m.addScriptToDom=function(a){N=a;K?D.insertBefore(a,K):D.appendChild(a);N=null};m.onScriptLoad=function(a){var b=a.currentTarget||a.srcElement,c;if("load"===a.type||b&&p.test(b.readyState))G=
null,a=b.getAttribute("data-requirecontext"),c=b.getAttribute("data-requiremodule"),z[a].completeLoad(c),b.detachEvent&&!s?b.detachEvent("onreadystatechange",m.onScriptLoad):b.removeEventListener("load",m.onScriptLoad,!1)};m.attach=function(b,c,d,i,f,g){var e;if(v)return i=i||m.onScriptLoad,e=c&&c.config&&c.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),e.type=f||"text/javascript",e.charset="utf-8",e.async=!A.skipAsync[b],c&&e.setAttribute("data-requirecontext",
c.contextName),e.setAttribute("data-requiremodule",d),e.attachEvent&&!s?(P=!0,g?e.onreadystatechange=function(){if("loaded"===e.readyState)e.onreadystatechange=null,e.attachEvent("onreadystatechange",i),g(e)}:e.attachEvent("onreadystatechange",i)):e.addEventListener("load",i,!1),e.src=b,g||m.addScriptToDom(e),e;a&&(importScripts(b),c.completeLoad(d));return null};if(v){x=document.getElementsByTagName("script");for(M=x.length-1;-1<M&&(E=x[M]);M--){if(!D)D=E.parentNode;if(H=E.getAttribute("data-main")){if(!q.baseUrl)x=
H.split("/"),E=x.pop(),x=x.length?x.join("/")+"/":"./",q.baseUrl=x,H=E.replace(i,"");q.deps=q.deps?q.deps.concat(H):[H];break}}}m.checkReadyState=function(){var a=A.contexts,b;for(b in a)if(!(b in F)&&a[b].waitCount)return;m.resourcesReady(!0)};m.resourcesReady=function(a){var b,c;m.resourcesDone=a;if(m.resourcesDone)for(c in a=A.contexts,a)if(!(c in F)&&(b=a[c],b.jQueryIncremented))d(b.jQuery,!1),b.jQueryIncremented=!1};m.pageLoaded=function(){if("complete"!==document.readyState)document.readyState=
"complete"};if(v&&document.addEventListener&&!document.readyState)document.readyState="loading",window.addEventListener("load",m.pageLoaded,!1);m(q);if(m.isAsync&&"undefined"!==typeof setTimeout)B=A.contexts[q.context||"_"],B.requireWait=!0,setTimeout(function(){B.requireWait=!1;B.takeGlobalQueue();B.jQueryCheck();B.scriptCount||B.resume();m.checkReadyState()},0)}})();define("requireLib",function(){});
(function(){var e,f,h,g,l,d,j,c,n,o,b,i,t=Array.prototype.slice,q=Object.prototype.hasOwnProperty,y=function(b,c){function a(){this.constructor=b}for(var d in c)q.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};e="function"===typeof("undefined"!==typeof console&&null!==console?console.error:void 0)&&function(b){return console.error(b)}||function(){};l=this;h=l.document||{createElement:function(){}};n="object"===typeof Node?function(b){return b instanceof
Node}:function(b){return"object"===typeof b&&"number"===typeof b.nodeType&&"string"===typeof b.nodeName};c=Array.isArray?Array.isArray:function(){return function(b){return b.push===push&&null!=b.length}}();d=Function.prototype.bind?function(b,c){return b.bind(c)}:function(b,c){return function(){return b.apply(c,arguments)}};j=function(){return h.createElement("div")};i=j();b=function(b,d){for(var a,i;0<d.length;)if(null!=(a=d.shift()))n(a)?b.appendChild(a):"string"===(i=typeof a)||"number"===i?b.appendChild(h.createTextNode(a)):
c(a)?Array.prototype.unshift.apply(d,a):e("renderNodes: unsupported child type = "+a);return b};l.cell=f=function(){function g(i){var a,e,f,h,j,o,l;this.options=null!=i?i:{};if(null!=this.options.model)this.model=this.options.model;"function"===typeof this.init&&this.init(this.options);this.$el=jQuery(this.el=this._tag());if(i=this.options.id)this.el.id=i;l=[this.cell.prototype.name,this["class"],this.options["class"]];for(i=0,o=l.length;i<o;i++)if(j=l[i])this.el.className+=i&&" "+j||j;b(this.el,
c(f="function"===typeof this.render?this.render(this.$R):void 0)&&f||[]);i=this.on;for(a in i)if(f=i[a],"function"===typeof f&&(h=/^([A-z]+)(\s(.*))?$/.exec(a))&&(e=h[1]))this.$el.on(e,h[3],d(f,this));"function"===typeof this.afterRender&&this.afterRender()}g.prototype.$=function(b){return jQuery(b,this.el)};g.prototype.$R=function(){var c,a,d,f,g,j,o,l;c=arguments[0];a=arguments[1];d=3<=arguments.length?t.call(arguments,2):[];if(c){if((null!=a?a.constructor:void 0)!==Object)d.unshift(a),a=void 0;
return(o=function(){if("string"===typeof c){if(j=/^(\w+)?(#([\w\-]+))*(\.[\w\.\-]+)?$/.exec(c)){f=h.createElement(j[1]||"div");if(l=j[3])f.id=l;if(a)for(g in"class"in a&&(f.className+=a["class"],delete a["class"]),a)l=a[g],f.setAttribute(g,l);if(l=j[4])f.className+=l.replace(/\./g," ");return f}return/^<[A-z]/.test(c)?(i.innerHTML=c,i.children[0]):e("renderParent: unsupported parent string = '"+c+"'")}return c.prototype.cell===c?(new c(a)).el:n(c)?c:e("renderParent: unsupported parent type = "+c)}())&&
b(o,d)}};return g}();f.extend=function(b){var c,a,d,e,g;null==b&&(b={});if("object"!==typeof b)throw"cell.extend(): expects an object {render,init,name}";if(b.init&&"function"!==typeof b.init||b.render&&"function"!==typeof b.render)throw"cell.extend(): expects {render,init} to be functions";c=function(){function a(){a.__super__.constructor.apply(this,arguments)}y(a,f);return a}();for(a in b)g=b[a],c.prototype[a]=g;c.prototype.cell=c;c.prototype._tag="string"===(e=typeof b.tag)?function(){i.innerHTML=
b.tag;return i.children[0]||j()}:"function"===e?function(){i.innerHTML=this.tag();return i.children[0]||j()}:j;if("string"===typeof(a=b.css))d=h.createElement("style"),d.innerHTML=a;else if("string"===typeof(a=b.css_href))d=h.createElement("link"),d.href=a,d.rel="stylesheet";if(d)d.type="text/css",$("head")[0].appendChild(d);return c};"function"===typeof define&&"function"===typeof require&&(o=/(.*\/)?(.*)$/,define("cell",[],g={pluginBuilder:"cell-builder-plugin",load:function(b,c,a){c([b],function(d){var i;
if("object"!==typeof d)e("Couldn't load "+b+" cell. cell definitions should be objects, but instead was "+typeof d);else{d.name=o.exec(b)[2];if(null==(null!=(i=g.__preinstalledCells__)?i[b]:void 0)&&null==d.css_href)d.css_href=c.toUrl(""+b+".css");"string"===typeof d["extends"]?c(["cell!"+d["extends"]],function(b){b.prototype.name&&(d["class"]=b.prototype.name+(" "+d["class"])||"");a(b.extend(d))}):a(f.extend(d))}})}}),jQuery(h).ready(function(){jQuery("[data-cell]").each(function(){var b,c,a,d,i=
this;if(a=this.getAttribute("data-cell")){d={};b=/(^\?cachebust)|(&cachebust)/.test(l.location.search);if((null!==(c=this.getAttribute("data-cell-cachebust"))||b)&&"false"!==c)d.urlArgs="bust="+(new Date).getTime();if(b=this.getAttribute("data-cell-baseurl"))d.baseUrl=b;require(d,["cell!"+a],function(a){jQuery(i).append((new a).el)})}})}))}).call(this);
define("AppConfig",["cell!pages/schedule/Schedule"],function(){return{contexts:{Schedule:{defaultPagePath:"pages/schedule/Schedule"},Watch:{defaultPagePath:"pages/watch/Watch"},Search:{defaultPagePath:"pages/watch/Watch"}},defaultContext:"Schedule"}});var __slice=Array.prototype.slice;
define("data/JSONP",[],function(){var e,f,h,g;f=function(e){return e};g=0;h=function(e){var d,f;d="__jsonp"+ ++g;window[d]=function(c){e.success(c);window[d]=void 0;return $("#"+d).remove()};if(null==e.callback)e.callback="callback";f=document.createElement("script");f.id=d;f.setAttribute("type","text/javascript");f.setAttribute("src",""+e.url+(-1===e.url.indexOf("?")&&"?"||"&")+e.callback+"="+d);return $("head").append(f)};e=-1<window.location.search.indexOf("mock-service=true")?function(e,d){var f,
c;f=e.mock;c=e.real;return setTimeout(function(){return require([f],function(e){return d("function"===typeof e?e(c):e)})},0)}:function(e,d){return h({callback:"jsonp",url:e.real,success:d||function(){}})};return{JSONPService:function(){return function(g,d){var h,c,n,o,b,i,t=this;h=d.baseURL;b=d.process;c=d.methods;null==b&&(b=f);i=function(c,d){var i,o,a;o=b;i=f;if("object"===(a=typeof d)&&"function"!==a){if(null!=d.process)o=d.process;d=d.path;if(null!=d.getCache)i=d.getCache}"string"===typeof d&&
function(){var a;a=d;return d=function(){return a}}();return t[c]=function(){var a,b,n,t;a=2<=arguments.length?__slice.call(arguments,0,t=arguments.length-1):(t=0,[]);n=arguments[t++];null==n&&(n=f);void 0!==(b=i())?n(b):e({mock:"data/mock/"+g+"/"+c,real:h+d.apply(null,a)},function(a){a=o(a);n(a)})}};for(n in c)o=c[n],i(n,o)}}()}});
define("data/UserService",["data/JSONP"],function(e){return new e.JSONPService("users",{baseURL:"api/users/",methods:{getWatchedShows:function(){return"pwong/watched-shows"},getShows:function(e){return"pwong/schedule/"+(e.getYear()+1900)+"-"+e.getMonth()+"-"+e.getDate()}}})});define("data/ActorService",["data/JSONP"],function(e){return new e.JSONPService("actors",{baseURL:"api/actors/",methods:{getDetails:function(e){return""+e}}})});
define("data/ShowService",["data/JSONP"],function(e){return new e.JSONPService("shows",{baseURL:"api/shows/",methods:{getDetails:function(e){return""+e}}})});define("Services",["data/UserService","data/ActorService","data/ShowService"],function(e,f,h){return{user:e,show:h,actor:f}});
define("shared/DateHelper",[],function(){var e,f,h;h=new Date;f=["Today","Yesterday"].concat(function(){var f;f=[];for(e=2;7>e;e++)f.push(""+e+" days ago");return f}(),"a week ago");return{getDisplayable:function(e){return h.getYear()===e.getYear()&&h.getMonth()===e.getMonth()?f[h.getDate()-e.getDate()]:e.toLocaleDateString()}}});
define("pages/schedule/Schedule",["require","Services","shared/DateHelper","cell!shared/ListView"],function(e,f,h,g){return{init:function(){var e=this;return this.model.bind({activate:function(){e.model.set({title:h.getDisplayable(new Date)});return e.$("#ShowList").trigger("resetActive")}})},render:function(h){var d=this;return f.user.getShows(new Date,function(f){var c;d.$el.append(h(g,{id:"ShowList",list:function(){var d,e,b;b=[];for(d=0,e=f.length;d<e;d++)c=f[d],b.push({link:this.pageURI("pages/showdetails/ShowDetails",
{id:c.id,title:c.title}),text:c.title});return b}.call(d)}));d.model.trigger("refreshScroller");return e(["pages/showdetails/ShowDetails"],function(){})})}}});
define("shared/ListView",{tag:"<ul>",render:function(e){var f,h,g,l,d,j,c,n;if(g=this.options.list){n=[];for(d=0,j=g.length;d<j;d++)if(c=g[d],l=c.text,h=c.link,f=c.dividerText,l||f)l?n.push(e("<li data-navto='"+h+"'>",e("div"),l)):n.push(e("li.divider",f));return n}},on:{resetActive:function(){return this.$("li.active").removeClass("active").addClass("deactive")},"webkitAnimationEnd li > div":function(){return this.$("li.deactive").removeClass("deactive")},"click li":function(e){e=e.target;this.$("li.active").removeClass("active");
return $(e).closest("li").addClass("active")}}});define("HashDelegate",{set:function(e){return window.location.hash=e},get:function(){return window.location.hash},onChange:function(e){return $(window).on("hashchange",e)}});
define("framework/Model",[],function(){var e,f;e=/^change:(.*)/;f=function(e,f){var l,d,j;for(d=0,j=e.length;d<j;d++)if(l=e[d],l===f)return;return e.unshift(f)};return function(){function h(d){var e,c;this._ls={};for(e in d)c=d[e],this[e]=c}var g,l;h.pathObj=l=function(d,e){var c,f;if(d){f=e.length;for(c=0;c<f&&null!=(d=d[e[c++]]););return d}};h.parsePropChange=g=function(d){var f,c;return null!=(f=e.exec(d))?null!=(c=f[1])?c.split("."):void 0:void 0};h.prototype.set=function(d,e){var c,f,g;for(c in d)if(g=
d[c],this[c]!==g){f=this[c];try{this.trigger({cur:this[c]=g,prev:f,property:c,type:"change:"+c,data:e})}catch(b){}}};h.prototype.trigger=function(d,e){var c,f,g,b,i;c="string"===typeof d?{type:d,data:e}:d;c.model=this;if(g=this._ls[c.type])for(b=0,i=g.length;b<i;b++){f=g[b];try{f(c)}catch(h){}}};h.prototype.bindAndCall=function(d){var e,c,n,o;c=this;o=function(b){var d,e,j,o,r,v,a,p,s,F,z;if(v=g(n)){e=v.length-1;s=v[e];r=v.slice(0,e);a=function(a,b){var c,d,e;return f(null!=(e=(c=b._ls)[d="change:"+
v[a]])?e:c[d]=[],p[a])};j=c;p=[];F=function(c){p[c]=function(d){for(var f=c,i=d.cur,g=d.prev,j=d.model;f++<e;i=(j=i)&&i[v[f]],g=g&&g[v[f]])i instanceof h&&a(f,i);f={cur:i,prev:g,property:s,type:"change:"+s,model:j,data:d.data};if(c!==e)f.parentEvent=d;return b(f)};if(j instanceof h)return a(c,j),j=j[o]};for(d=0,z=v.length;d<z;d++)o=v[d],F(d);try{return b({cur:j,property:s,type:n,model:l(c,r)})}catch(I){return console.error((null!=I?I.stack:void 0)||I)}}else{f(null!=(r=(d=c._ls)[n])?r:d[n]=[],b);try{return b({type:n,
model:c})}catch(G){}}};for(n in d)e=d[n],o(e)};h.prototype.bind=function(d){var e,c,l,o,b,i,t,q,y,r;for(o in d){c=d[o];if(e=g(o)){y=e.slice(0,-1);for(t=0,q=y.length;t<q;t++)if(l=y[t],(b=this[l])instanceof h)e={},e["change:"+l]=function(){},b.bind(e)}f(null!=(r=(i=this._ls)[o])?r:i[o]=[],c)}};h.prototype.unbind=function(d){var e,c,f,g,b,i;for(b in d)if(e=d[b],g=this._ls[b])for(c=0,i=g.length;c<i;c++)f=g[c],f===e&&delete g[c]};return h}()});
define("framework/Nav",["AppConfig","HashDelegate","./Model"],function(e,f,h){var g,l,d,j,c,n,o;j=/^\#([^!^?]+)(!([^?]+))?(\?(.+))?/;c=!1;g=new h({_toHash:o=function(b){var c,d;c=b.context;d=b.page;b=b.data;c=e.contexts[c]&&c||e.defaultContext;return"#"+c+"!"+(d||e.contexts[c].defaultPagePath)+(b&&"?"+encodeURIComponent(JSON.stringify(b))||"")},_parseHash:n=function(b){var c,d,f,g,h;h=j.exec(b);return{hash:b,context:c=(d=null!=h?h[1]:void 0)&&e.contexts[d]&&d||e.defaultContext,page:(g=null!=h?h[3]:
void 0)&&"/"!==g.substr(-1)&&g||e.contexts[c].defaultPagePath,data:(f=null!=h?h[5]:void 0)&&JSON.parse(decodeURIComponent(f))}},current:function(){var b,d;d=n(f.get());if(d.hash!==(b=o(d)))d.hash=b,c=!0;return new h(d)}(),canBack:function(){var b;return 1<(null!=(b=l[g.current.context])?b.length:void 0)},goBack:function(){var b,c;if(b=null!=(c=l[g.current.context][1])?c.hash:void 0)return f.set(b)},pageHash:function(b,c){return o({context:g.current.context,page:b,data:c})},switchContext:function(b){var c;
if("string"===typeof b&&(c=l[b])&&g.current.context!==b)return f.set(o(c[0]||{context:b,page:e.contexts[b].defaultPage}))}});l={};for(d in e.contexts)l[d]=[];l[g.current.context].push(g.current);g.bind({"change:current":function(b){var c,d,e;c={};for(d in b)e=b[d],c[d]=e;c.type="change:current[context="+b.cur.context+"]";return g.trigger(c)}});f.onChange(function(){var b,d,e;if(c)c=!1;else if(d=n(f.get()),b=l[d.context],g.current.context!==d.context)g.set({current:b.length?b[0]:(b.unshift(d=new h(d)),
d)},{isBack:!1,isContextSwitch:!0});else if(d.hash===(null!=(e=b[1])?e.hash:void 0))d=b[1],b.shift(),g.set({current:d},{isBack:!0,isContextSwitch:!1});else if(0===b.length||b[0].hash!==d.hash)b.unshift(d=new h(d)),g.set({current:d},{isBack:!1,isContextSwitch:!1})});c&&f.set(g.current.hash);return g});
var __hasProp=Object.prototype.hasOwnProperty,__extends=function(e,f){function h(){this.constructor=e}for(var g in f)__hasProp.call(f,g)&&(e[g]=f[g]);h.prototype=f.prototype;e.prototype=new h;e.__super__=f.prototype;return e};
define("framework/ContextModel",["./Model"],function(e){return function(){function f(h){var g,l,d,j,c,n=this;d=h.id;j=h.initialHash;l=h.hashManager;h=h.defaultPagePath;f.__super__.constructor.call(this,{id:d,defaultPagePath:h,currentPageModel:g=new e(j),pageHistory:c=[g]});(g={})["change:current[context="+d+"]"]=function(d){var b,f;b=d.cur;d=d.prev;if(!(d=b.context!==(null!=d?d.context:void 0)))(null!=(f=c[1])?f.hash:void 0)===b.hash?c.splice(0,1):c.unshift(new e(b));return n.set({currentPageModel:c[0]},
{isContextSwitch:d})};l.bind(g)}__extends(f,e);return f}()});
define("framework/Context",["require","./Model","./Nav","cell!./Page"],function(e,f,h,g){return{tag:function(){return"<div data-ctxid='"+this.options.contextid+"'>"},afterRender:function(){var e,d,f,c,n;n={};f=null;e=this.$el;c=(d={})["change:current[context="+this.options.contextid+"]"]=function(c){var b,d,h,q,y,r;b=c.cur;q=c.prev;h=c.data,c=h.isBack,d=h.isContextSwitch;if(!d){h=n[b.hash];if((y=q&&n[q.hash])&&c)n[q.hash]=void 0,y.$el.bind("webkitAnimationEnd",function(){return y.$el.remove()});h||
(h=n[b.hash]=new g({model:b}));h.$el.prependTo(e);b="Page animate "+((null!=q?q.context:void 0)===b.context?(r=c&&"-reverse"||"",null!=f&&f.$el.attr("class","Page animate headingOut"+r),null!=f&&f.model.trigger("deactivate"),"headingIn"+r):"fadeIn");h.$el.attr("class",b);return(f=h).model.trigger({type:"activate",isback:c})}};h.bind(d);return c({cur:this.options.initialHash,data:{isBack:!1}})}}});
define("framework/Page",["require","./Nav"],function(e,f){return{tag:function(){return"<div data-cellpath='"+this.model.page+"'>"},render:function(h){var g=this;return e(["cell!"+this.model.page],function(e){e.prototype.pageURI=f.pageHash;g.$el.append(h(e,{model:g.model}));return g.pageRendered()})},pageRendered:function(){var e,f,l=this;e=!0;this.model.bind({deactivate:function(){return e=!1}});this.model.bind({activate:function(){e=!0;return l.$el.css("visibility","visible")}});this.$el.bind("webkitAnimationEnd",
function(){if(!e)return l.$el.css("visibility","hidden")});f=new iScroll(this.el);return this.model.bindAndCall({refreshScroller:function(){return f.refresh()}})}}});require(["cell"],function(e){e.__preinstalledCells__={"framework/App":0,"pages/schedule/Schedule":0,"shared/ListView":0,"framework/Context":0,"framework/ContextNavBar":0,"framework/Page":0,"framework/TitleBar":0}});var hideAddressBar,ua;document.addEventListener("touchmove",function(e){return e.preventDefault()});
hideAddressBar=function(){var e,f;e=0;setTimeout(f=function(){if(1===++e)return window.scrollTo(0,1)},500);return $(window).bind("resize",function(){e=0;return f()})};$("body").attr("class",(ua=navigator.userAgent).match(/iPhone/i)||ua.match(/iPod/i)||ua.match(/iPad/i)?window.navigator.standalone?"IOSFullScreen":(hideAddressBar(),"IOS"):(hideAddressBar(),"ANDROID"));
define("framework/App","./Nav,./Model,./ContextModel,cell!./Context,cell!./ContextNavBar,cell!./TitleBar".split(","),function(e,f,h,g,l,d){var j;j={};return{render:function(c){return[c(d),c("#content"),c(l)]},afterRender:function(){var c,d=this;c=this.$("#content");return e.bindAndCall({"change:current":function(e){var b,f,h;b=e.cur;f=e.prev;e=e.data;if(!e||null!=e&&e.isContextSwitch){if(!(e=j[b.context]))e=j[b.context]=new g({contextid:b.context,initialHash:b}),c.append(e.$el);e.$el.toggle(!0);if(f=
null!=f?f.context:void 0)null!=(h=j[f])&&h.$el.toggle(!1);e?(d.$("#content > .activeTab").removeClass("activeTab"),e.$el.toggle(!0).toggleClass("activeTab",!0)):"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log("Could not switch to context = '"+b.context+"'")}}})},on:{"click [data-navto]":function(c){return location.hash=$(c.target).closest("[data-navto]").data("navto")}}}});
define("framework/ContextNavBar",["AppConfig","./Nav"],function(e,f){return{tag:"<ul>",render:function(f){var g,l,d,j;d=e.contexts;j=[];for(g in d)l=d[g].text,j.push(f("<li data-ctxid='"+g+"'>",l||g));return[j]},on:{"click li":function(e){e=e.target;$("li.active").removeClass("active");return f.switchContext($(e).addClass("active").data("ctxid"))}}}});
define("framework/TitleBar",["framework/Nav"],function(e){return{render:function(e){return[e("#backbutton",e("span","Back")),e("#titles",e("#title"),e("#prevtitle")),e("#gobutton",e("span","Do It"))]},afterRender:function(){var f,h,g,l;l=!1;f=this.$("#backbutton");this.$("#backbutton > span");g=this.$("#title");h=this.$("#prevtitle");g.bind("webkitAnimationEnd",function(){g.attr("class","");h.attr("class","");return l=!1});return e.bindAndCall({"change:current.title":function(d){var j,c;j=d.cur;c=
d.prev;d=d.data;d=null!=d?d.isBack:void 0;g.html(j||"");if(!l)return f.css("visibility",e.canBack()&&"visible"||"hidden"),j=d&&"-reverse"||"",c&&h.html(c).attr("class","animate headingOut"+j),g.attr("class","animate headingIn"+j),l=!0}})},on:{"click #backbutton":function(){return e.goBack()}}}});
