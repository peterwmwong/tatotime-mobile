/*
 RequireJS 1.0.2 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/
(function(){var e=Math,b=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",h="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,d="ontouchstart"in window,l=b+"Transform"in document.documentElement.style,g=/iphone|ipad/gi.test(navigator.appVersion),j=/playbook/gi.test(navigator.appVersion),f=g||j,p=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),o=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,c="onorientationchange"in window?"orientationchange":"resize",i=d?"touchstart":"mousedown",s=d?"touchmove":"mousemove",t=d?"touchend":"mouseup",y=d?"touchcancel":"mouseup",z="translate"+(h?"3d(":"("),r=h?",0)":")",h=function(a,
q){var m;this.wrapper="object"==typeof a?a:document.getElementById(a);this.wrapper.style.overflow="hidden";this.scroller=this.wrapper.children[0];this.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(m in q)this.options[m]=
q[m];this.x=this.options.x;this.y=this.options.y;this.options.useTransform=l?this.options.useTransform:!1;this.options.hScrollbar=this.options.hScroll&&this.options.hScrollbar;this.options.vScrollbar=this.options.vScroll&&this.options.vScrollbar;this.options.useTransition=f&&this.options.useTransition;this.scroller.style[b+"TransitionProperty"]=this.options.useTransform?"-"+b.toLowerCase()+"-transform":"top left";this.scroller.style[b+"TransitionDuration"]="0";this.scroller.style[b+"TransformOrigin"]=
"0 0";this.options.useTransition&&(this.scroller.style[b+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");this.options.useTransform?this.scroller.style[b+"Transform"]=z+this.x+"px,"+this.y+"px"+r:this.scroller.style.cssText+=";position:absolute;top:"+this.y+"px;left:"+this.x+"px";this.refresh();this._bind(c,window);this._bind(i);d||this._bind("mouseout",this.wrapper)};h.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(a){switch(a.type){case i:if(!d&&0!==a.button)break;
this._start(a);break;case s:this._move(a);break;case t:case y:this._end(a);break;case c:this._resize();break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_resize:function(){this.refresh()},_pos:function(a,q){a=this.hScroll?a:0;q=this.vScroll?q:0;this.options.useTransform?this.scroller.style[b+"Transform"]=z+a+"px,"+q+"px"+r+" scale("+this.scale+")":(a=e.round(a),q=e.round(q),this.scroller.style.left=a+"px",this.scroller.style.top=q+"px");this.x=a;this.y=
q},_start:function(a){var q=d?a.touches[0]:a,m,c;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,a);this.options.useTransition&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum&&(this.options.useTransform?(m=getComputedStyle(this.scroller,null)[b+"Transform"].replace(/[^0-9-.,]/g,"").split(","),c=1*m[4],m=1*m[5]):(c=1*getComputedStyle(this.scroller,
null).left.replace(/[^0-9-]/g,""),m=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),c!=this.x||m!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):o(this.aniTime),this.steps=[],this._pos(c,m);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=q.pageX;this.pointY=q.pageY;this.startTime=a.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,a);this._bind(s);this._bind(t);this._bind(y)}},
_move:function(a){var q=d?a.touches[0]:a,m=q.pageX-this.pointX,c=q.pageY-this.pointY,i=this.x+m,b=this.y+c,f=a.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,a);this.pointX=q.pageX;this.pointY=q.pageY;if(0<i||i<this.maxScrollX)i=this.options.bounce?this.x+m/2:0<=i||0<=this.maxScrollX?0:this.maxScrollX;if(0<b||b<this.maxScrollY)b=this.options.bounce?this.y+c/2:0<=b||0<=this.maxScrollY?0:this.maxScrollY;if(6>this.absDistX&&6>this.absDistY)this.distX+=
m,this.distY+=c,this.absDistX=e.abs(this.distX),this.absDistY=e.abs(this.distY);else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)b=this.y,c=0;else if(this.absDistY>this.absDistX+5)i=this.x,m=0;this.moved=!0;this._pos(i,b);this.dirX=0<m?-1:0>m?1:0;this.dirY=0<c?-1:0>c?1:0;if(300<f-this.startTime)this.startTime=f,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}},_end:function(a){if(!(d&&0!=a.touches.length)){var q=d?a.changedTouches[0]:
a,m,c,i={dist:0,time:0},b={dist:0,time:0},f=(a.timeStamp||Date.now())-this.startTime;m=this.x;c=this.y;this._unbind(s);this._unbind(t);this._unbind(y);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,a);if(this.moved){if(300>f&&this.options.momentum){i=m?this._momentum(m-this.startX,f,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):i;b=c?this._momentum(c-this.startY,f,-this.y,0>this.maxScrollY?this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?
this.wrapperH:0):b;m=this.x+i.dist;c=this.y+b.dist;if(0<this.x&&0<m||this.x<this.maxScrollX&&m<this.maxScrollX)i={dist:0,time:0};if(0<this.y&&0<c||this.y<this.maxScrollY&&c<this.maxScrollY)b={dist:0,time:0}}i.dist||b.dist?(q=e.max(e.max(i.time,b.time),10),this.scrollTo(m,c,q)):this._resetPos(200)}else{if(d){for(m=q.target;1!=m.nodeType;)m=m.parentNode;if("SELECT"!=m.tagName&&"INPUT"!=m.tagName&&"TEXTAREA"!=m.tagName)c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,q.screenX,
q.screenY,q.clientX,q.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._fake=!0,m.dispatchEvent(c)}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,a)}},_resetPos:function(a){var c=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,m=0<=this.y||0<this.maxScrollY?0:this.y<this.maxScrollY?this.maxScrollY:this.y;if(c==this.x&&m==this.y){if(this.moved)this.options.onScrollEnd&&this.options.onScrollEnd.call(this),this.moved=!1}else this.scrollTo(c,m,a||0)},
_mouseout:function(a){var c=a.relatedTarget;if(c)for(;c=c.parentNode;)if(c==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,c=a.x,m=a.y,i=Date.now(),b,f,d;if(!a.animating)if(a.steps.length){b=a.steps.shift();if(b.x==c&&b.y==m)b.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(b.time),a._pos(b.x,b.y),a.animating=!1,b.time?a._bind("webkitTransitionEnd"):
a._resetPos(0)):(d=function(){var g=Date.now();if(g>=i+b.time)a._pos(b.x,b.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();else if(g=(g-i)/b.time-1,f=e.sqrt(1-g*g),g=(b.x-c)*f+c,a._pos(g,(b.y-m)*f+m),a.animating)a.aniTime=p(d)},d())}else a._resetPos(400)},_transitionTime:function(a){this.scroller.style[b+"TransitionDuration"]=a+"ms"},_momentum:function(a,c,b,i,f){var c=e.abs(a)/c,d=c*c/0.0012,g=0,g=0;0<a&&d>b?(b+=f/(6/(6.0E-4*(d/c))),c=c*b/d,d=b):0>a&&d>
i&&(i+=f/(6/(6.0E-4*(d/c))),c=c*i/d,d=i);return{dist:d*(0>a?-1:1),time:e.round(c/6.0E-4)}},_offset:function(a){for(var c=-a.offsetLeft,b=-a.offsetTop;a=a.offsetParent;)c-=a.offsetLeft,b-=a.offsetTop;return{left:c,top:b}},_bind:function(a,c,b){(c||this.scroller).addEventListener(a,this,!!b)},_unbind:function(a,c,b){(c||this.scroller).removeEventListener(a,this,!!b)},destroy:function(){this.scroller.style[b+"Transform"]="";this._unbind(c,window);this._unbind(i);this._unbind(s);this._unbind(t);this._unbind(y);
this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a;this.wrapperW=this.wrapper.clientWidth;this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.hScroll=this.options.hScroll&&0>this.maxScrollX;
this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;this.scroller.style[b+"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(a,c,b,i){var d=a;this.stop();d.length||(d=[{x:a,y:c,time:b,relative:i}]);for(a=0,c=d.length;a<c;a++){if(d[a].relative)d[a].x=this.x-d[a].x,d[a].y=this.y-d[a].y;this.steps.push({x:d[a].x,y:d[a].y,time:d[a].time||0})}this._startAni()},
scrollToElement:function(a,c){var b;if(a=a.nodeType?a:this.scroller.querySelector(a))b=this._offset(a),b.left+=this.wrapperOffsetLeft,b.top+=this.wrapperOffsetTop,b.left=0<b.left?0:b.left<this.maxScrollX?this.maxScrollX:b.left,b.top=0<b.top?0:b.top<this.maxScrollY?this.maxScrollY:b.top,c=void 0===c?e.max(2*e.abs(b.left),2*e.abs(b.top)):c,this.scrollTo(b.left,b.top,c)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(s);this._unbind(t);this._unbind(y)},enable:function(){this.enabled=
!0},stop:function(){o(this.aniTime);this.steps=[];this.animating=this.moved=!1}};"undefined"!==typeof exports?exports.iScroll=h:window.iScroll=h})();var requirejs,require,define;
(function(){function e(a){return"[object Function]"===s.call(a)}function b(a){return"[object Array]"===s.call(a)}function h(a,c,b){for(var d in c)if(!(d in F)&&(!(d in a)||b))a[d]=c[d];return n}function d(a,c,b){a=Error(c+"\nhttp://requirejs.org/docs/errors.html#"+a);if(b)a.originalError=b;return a}function l(a,b,d){var f,g,e;for(f=0;e=b[f];f++){e="string"===typeof e?{name:e}:e;g=e.location;if(d&&(!g||0!==g.indexOf("/")&&-1===g.indexOf(":")))g=d+"/"+(g||e.name);a[e.name]={name:e.name,location:g||
e.name,main:(e.main||"main").replace(c,"").replace(i,"")}}}function g(a,c){a.holdReady?a.holdReady(c):c?a.readyWait+=1:a.ready(!0)}function j(c){function b(a,c){var d,i;if(a&&"."===a.charAt(0))if(c){v.pkgs[c]?c=[c]:(c=c.split("/"),c=c.slice(0,c.length-1));d=a=c.concat(a.split("/"));var f;for(i=0;f=d[i];i++)if("."===f)d.splice(i,1),i-=1;else if(".."===f)if(1===i&&(".."===d[2]||".."===d[0]))break;else 0<i&&(d.splice(i-1,2),i-=2);i=v.pkgs[d=a[0]];a=a.join("/");i&&a===d+"/"+i.main&&(a=d)}else 0===a.indexOf("./")&&
(a=a.substring(2));return a}function i(a,c){var d=a?a.indexOf("!"):-1,f=null,e=c?c.name:null,g=a,j,h;-1!==d&&(f=a.substring(0,d),a=a.substring(d+1,a.length));f&&(f=b(f,e));a&&(f?j=(d=u[f])&&d.normalize?d.normalize(a,function(a){return b(a,e)}):b(a,e):(j=b(a,e),h=H[j],h||(h=k.nameToUrl(j,null,c),H[j]=h)));return{prefix:f,name:j,parentMap:c,url:h,originalName:g,fullName:f?f+"!"+(j||""):j}}function f(){var a=!0,c=v.priorityWait,b,d;if(c){for(d=0;b=c[d];d++)if(!C[b]){a=!1;break}a&&delete v.priorityWait}return a}
function j(a,c,b){return function(){var d=y.call(arguments,0),i;if(b&&e(i=d[d.length-1]))i.__requireJsBuild=!0;d.push(c);return a.apply(null,d)}}function q(a,c){var b=j(k.require,a,c);h(b,{nameToUrl:j(k.nameToUrl,a),toUrl:j(k.toUrl,a),defined:j(k.requireDefined,a),specified:j(k.requireSpecified,a),isBrowser:n.isBrowser});return b}function m(a){var c,b,f,g=a.callback,j=a.map,h=j.fullName,r=a.deps;f=a.listeners;if(g&&e(g)){if(v.catchError.define)try{b=n.execCb(h,a.callback,r,u[h])}catch(q){c=q}else b=
n.execCb(h,a.callback,r,u[h]);if(h)(g=a.cjsModule)&&void 0!==g.exports&&g.exports!==u[h]?b=u[h]=a.cjsModule.exports:void 0===b&&a.usingExports?b=u[h]:(u[h]=b,L[h]&&(S[h]=!0))}else h&&(b=u[h]=g,L[h]&&(S[h]=!0));if(J[a.id])delete J[a.id],a.isDone=!0,k.waitCount-=1,0===k.waitCount&&(K=[]);delete T[h];if(n.onResourceLoad&&!a.placeholder)n.onResourceLoad(k,j,a.depArray);if(c)return b=(h?i(h).url:"")||c.fileName||c.sourceURL,f=c.moduleTree,c=d("defineerror",'Error evaluating module "'+h+'" at location "'+
b+'":\n'+c+"\nfileName:"+b+"\nlineNumber: "+(c.lineNumber||c.line),c),c.moduleName=h,c.moduleTree=f,n.onError(c);for(c=0;g=f[c];c++)g(b)}function o(a,c){return function(b){a.depDone[c]||(a.depDone[c]=!0,a.deps[c]=b,a.depCount-=1,a.depCount||m(a))}}function p(a,c){var b=c.map,d=b.fullName,i=b.name,f=O[a]||(O[a]=u[a]),g;if(!c.loading)c.loading=!0,g=function(a){c.callback=function(){return a};m(c);C[c.id]=!0;w()},g.fromText=function(a,c){var b=P;C[a]=!1;k.scriptCount+=1;k.fake[a]=!0;b&&(P=!1);n.exec(c);
b&&(P=!0);k.completeLoad(a)},d in u?g(u[d]):f.load(i,q(b.parentMap,!0),g,v)}function s(a){J[a.id]||(J[a.id]=a,K.push(a),k.waitCount+=1)}function t(a){this.listeners.push(a)}function x(a,c){var b=a.fullName,d=a.prefix,f=d?O[d]||(O[d]=u[d]):null,g,e;b&&(g=T[b]);if(!g&&(e=!0,g={id:(d&&!f?X++ +"__p@:":"")+(b||"__r@"+X++),map:a,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:t},E[g.id]=!0,b&&(!d||O[d])))T[b]=g;d&&!f?(b=x(i(d),!0),b.add(function(){var c=i(a.originalName,a.parentMap),c=x(c,
!0);g.placeholder=!0;c.add(function(a){g.callback=function(){return a};m(g)})})):e&&c&&(C[g.id]=!1,k.paused.push(g),s(g));return g}function G(a,c,b,d){var a=i(a,d),g=a.name,f=a.fullName,e=x(a),h=e.id,j=e.deps,r;if(f){if(f in u||!0===C[h]||"jquery"===f&&v.jQuery&&v.jQuery!==b().fn.jquery)return;E[h]=!0;C[h]=!0;"jquery"===f&&b&&U(b())}e.depArray=c;e.callback=b;for(b=0;b<c.length;b++)if(h=c[b])h=i(h,g?a:d),r=h.fullName,c[b]=r,"require"===r?j[b]=q(a):"exports"===r?(j[b]=u[f]={},e.usingExports=!0):"module"===
r?e.cjsModule=j[b]={id:g,uri:g?k.nameToUrl(g,null,d):void 0,exports:u[f]}:r in u&&!(r in J)&&(!(f in L)||f in L&&S[r])?j[b]=u[r]:(f in L&&(L[r]=!0,delete u[r],V[h.url]=!1),e.depCount+=1,e.depCallbacks[b]=o(e,b),x(h,!0).add(e.depCallbacks[b]));e.depCount?s(e):m(e)}function A(a){G.apply(null,a)}function N(a,c){if(!a.isDone){var b=a.map.fullName,d=a.depArray,f,g,e,h;if(b){if(c[b])return u[b];c[b]=!0}if(d)for(f=0;f<d.length;f++)if(g=d[f])if((e=i(g).prefix)&&(h=J[e])&&N(h,c),(e=J[g])&&!e.isDone&&C[g])g=
N(e,c),a.depCallbacks[f](g);return b?u[b]:void 0}}function D(){var c=1E3*v.waitSeconds,b=c&&k.startTime+c<(new Date).getTime(),c="",g=!1,i=!1,e;if(!(0<k.pausedCount)){if(v.priorityWait)if(f())w();else return;for(e in C)if(!(e in F)&&(g=!0,!C[e]))if(b)c+=e+" ";else{i=!0;break}if(g||k.waitCount){if(b&&c)return e=d("timeout","Load timeout for modules: "+c),e.requireType="timeout",e.requireModules=c,n.onError(e);if(i||k.scriptCount){if((r||a)&&!W)W=setTimeout(function(){W=0;D()},50)}else{if(k.waitCount){for(M=
0;c=K[M];M++)N(c,{});k.paused.length&&w();5>R&&(R+=1,D())}R=0;n.checkReadyState()}}}}var k,w,v={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},B=[],E={require:!0,exports:!0,module:!0},H={},u={},C={},J={},K=[],V={},X=0,T={},O={},L={},S={},Q=0;U=function(a){if(!k.jQuery&&(a=a||("undefined"!==typeof jQuery?jQuery:null))&&!(v.jQuery&&a.fn.jquery!==v.jQuery)&&("holdReady"in a||"readyWait"in a))if(k.jQuery=a,A(["jquery",[],function(){return jQuery}]),k.scriptCount)g(a,!0),k.jQueryIncremented=
!0};w=function(){var a,c,b,g,i,e;Q+=1;if(0>=k.scriptCount)k.scriptCount=0;for(;B.length;){a=B.shift();if(null===a[0])return n.onError(d("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));A(a)}if(!v.priorityWait||f())for(;k.paused.length;){i=k.paused;k.pausedCount+=i.length;k.paused=[];for(g=0;a=i[g];g++)c=a.map,b=c.url,e=c.fullName,c.prefix?p(c.prefix,a):!V[b]&&!C[e]&&(n.load(k,e,b),0!==b.indexOf("empty:")&&(V[b]=!0));k.startTime=(new Date).getTime();k.pausedCount-=i.length}1===Q&&
D();Q-=1};k={contextName:c,config:v,defQueue:B,waiting:J,waitCount:0,specified:E,loaded:C,urlMap:H,urlFetched:V,scriptCount:0,defined:u,paused:[],pausedCount:0,plugins:O,needFullExec:L,fake:{},fullExec:S,managerCallbacks:T,makeModuleMap:i,normalize:b,configure:function(a){var c,b,d;a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");c=v.paths;d=v.pkgs;h(v,a,!0);if(a.paths){for(b in a.paths)b in F||(c[b]=a.paths[b]);v.paths=c}if((c=a.packagePaths)||a.packages){if(c)for(b in c)b in
F||l(d,c[b],b);a.packages&&l(d,a.packages);v.pkgs=d}if(a.priority)b=k.requireWait,k.requireWait=!1,k.takeGlobalQueue(),w(),k.require(a.priority),w(),k.requireWait=b,v.priorityWait=a.priority;if(a.deps||a.callback)k.require(a.deps||[],a.callback)},requireDefined:function(a,c){return i(a,c).fullName in u},requireSpecified:function(a,c){return i(a,c).fullName in E},require:function(a,b,g){if("string"===typeof a){if(e(b))return n.onError(d("requireargs","Invalid require call"));if(n.get)return n.get(k,
a,b);b=i(a,b);a=b.fullName;return!(a in u)?n.onError(d("notloaded","Module name '"+b.fullName+"' has not been loaded yet for context: "+c)):u[a]}(a&&a.length||b)&&G(null,a,b,g);if(!k.requireWait)for(;!k.scriptCount&&k.paused.length;)k.takeGlobalQueue(),w();return k.require},takeGlobalQueue:function(){I.length&&(z.apply(k.defQueue,[k.defQueue.length-1,0].concat(I)),I=[])},completeLoad:function(a){var c;for(k.takeGlobalQueue();B.length;)if(c=B.shift(),null===c[0]){c[0]=a;break}else if(c[0]===a)break;
else A(c),c=null;c?A(c):A([a,[],"jquery"===a&&"undefined"!==typeof jQuery?function(){return jQuery}:null]);U();n.isAsync&&(k.scriptCount-=1);w();n.isAsync||(k.scriptCount-=1)},toUrl:function(a,c){var b=a.lastIndexOf("."),d=null;-1!==b&&(d=a.substring(b,a.length),a=a.substring(0,b));return k.nameToUrl(a,d,c)},nameToUrl:function(a,c,d){var g,i,e,f,h=k.config,a=b(a,d&&d.fullName);if(n.jsExtRegExp.test(a))c=a+(c?c:"");else{g=h.paths;i=h.pkgs;d=a.split("/");for(f=d.length;0<f;f--)if(e=d.slice(0,f).join("/"),
g[e]){d.splice(0,f,g[e]);break}else if(e=i[e]){a=a===e.name?e.location+"/"+e.main:e.location;d.splice(0,f,a);break}c=d.join("/")+(c||".js");c=("/"===c.charAt(0)||c.match(/^\w+:/)?"":h.baseUrl)+c}return h.urlArgs?c+((-1===c.indexOf("?")?"?":"&")+h.urlArgs):c}};k.jQueryCheck=U;k.resume=w;return k}function f(){var a,c,b;if(G&&"interactive"===G.readyState)return G;a=document.getElementsByTagName("script");for(c=a.length-1;-1<c&&(b=a[c]);c--)if("interactive"===b.readyState)return G=b;return null}var p=
/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,o=/require\(\s*["']([^'"\s]+)["']\s*\)/g,c=/^\.\//,i=/\.js$/,s=Object.prototype.toString,t=Array.prototype,y=t.slice,z=t.splice,r=!!("undefined"!==typeof window&&navigator&&document),a=!r&&"undefined"!==typeof importScripts,q=r&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,m="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),F={},x={},I=[],G=null,R=0,P=!1,n,t={},N,A,D,K,w,E,H,M,B,U,W;if("undefined"===typeof define){if("undefined"!==
typeof requirejs){if(e(requirejs))return;t=requirejs;requirejs=void 0}"undefined"!==typeof require&&!e(require)&&(t=require,require=void 0);n=requirejs=function(a,c,d){var e="_",g;!b(a)&&"string"!==typeof a&&(g=a,b(c)?(a=c,c=d):a=[]);if(g&&g.context)e=g.context;d=x[e]||(x[e]=j(e));g&&d.configure(g);return d.require(a,c)};n.config=function(a){return n(a)};require||(require=n);n.toUrl=function(a){return x._.toUrl(a)};n.version="1.0.2";n.jsExtRegExp=/^\/|:|\?|\.js$/;A=n.s={contexts:x,skipAsync:{}};if(n.isAsync=
n.isBrowser=r)if(D=A.head=document.getElementsByTagName("head")[0],K=document.getElementsByTagName("base")[0])D=A.head=K.parentNode;n.onError=function(a){throw a;};n.load=function(a,c,b){n.resourcesReady(!1);a.scriptCount+=1;n.attach(b,a,c);if(a.jQuery&&!a.jQueryIncremented)g(a.jQuery,!0),a.jQueryIncremented=!0};define=function(a,c,d){var g,i;"string"!==typeof a&&(d=c,c=a,a=null);b(c)||(d=c,c=[]);!c.length&&e(d)&&d.length&&(d.toString().replace(p,"").replace(o,function(a,b){c.push(b)}),c=(1===d.length?
["require"]:["require","exports","module"]).concat(c));if(P&&(g=N||f()))a||(a=g.getAttribute("data-requiremodule")),i=x[g.getAttribute("data-requirecontext")];(i?i.defQueue:I).push([a,c,d])};define.amd={multiversion:!0,plugins:!0,jQuery:!0};n.exec=function(a){return eval(a)};n.execCb=function(a,c,b,d){return c.apply(d,b)};n.addScriptToDom=function(a){N=a;K?D.insertBefore(a,K):D.appendChild(a);N=null};n.onScriptLoad=function(a){var c=a.currentTarget||a.srcElement,b;if("load"===a.type||c&&q.test(c.readyState))G=
null,a=c.getAttribute("data-requirecontext"),b=c.getAttribute("data-requiremodule"),x[a].completeLoad(b),c.detachEvent&&!m?c.detachEvent("onreadystatechange",n.onScriptLoad):c.removeEventListener("load",n.onScriptLoad,!1)};n.attach=function(c,b,d,g,e,i){var f;if(r)return g=g||n.onScriptLoad,f=b&&b.config&&b.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),f.type=e||"text/javascript",f.charset="utf-8",f.async=!A.skipAsync[c],b&&f.setAttribute("data-requirecontext",
b.contextName),f.setAttribute("data-requiremodule",d),f.attachEvent&&!m?(P=!0,i?f.onreadystatechange=function(){if("loaded"===f.readyState)f.onreadystatechange=null,f.attachEvent("onreadystatechange",g),i(f)}:f.attachEvent("onreadystatechange",g)):f.addEventListener("load",g,!1),f.src=c,i||n.addScriptToDom(f),f;a&&(importScripts(c),b.completeLoad(d));return null};if(r){w=document.getElementsByTagName("script");for(M=w.length-1;-1<M&&(E=w[M]);M--){if(!D)D=E.parentNode;if(H=E.getAttribute("data-main")){if(!t.baseUrl)w=
H.split("/"),E=w.pop(),w=w.length?w.join("/")+"/":"./",t.baseUrl=w,H=E.replace(i,"");t.deps=t.deps?t.deps.concat(H):[H];break}}}n.checkReadyState=function(){var a=A.contexts,c;for(c in a)if(!(c in F)&&a[c].waitCount)return;n.resourcesReady(!0)};n.resourcesReady=function(a){var c,b;n.resourcesDone=a;if(n.resourcesDone)for(b in a=A.contexts,a)if(!(b in F)&&(c=a[b],c.jQueryIncremented))g(c.jQuery,!1),c.jQueryIncremented=!1};n.pageLoaded=function(){if("complete"!==document.readyState)document.readyState=
"complete"};if(r&&document.addEventListener&&!document.readyState)document.readyState="loading",window.addEventListener("load",n.pageLoaded,!1);n(t);if(n.isAsync&&"undefined"!==typeof setTimeout)B=A.contexts[t.context||"_"],B.requireWait=!0,setTimeout(function(){B.requireWait=!1;B.takeGlobalQueue();B.jQueryCheck();B.scriptCount||B.resume();n.checkReadyState()},0)}})();define("requireLib",function(){});
(function(){var e,b,h,d,l,g,j,f,p,o,c,i,s=Array.prototype.slice,t=Object.prototype.hasOwnProperty,y=function(c,b){function a(){this.constructor=c}for(var d in b)t.call(b,d)&&(c[d]=b[d]);a.prototype=b.prototype;c.prototype=new a;c.__super__=b.prototype;return c};e="function"===typeof("undefined"!==typeof console&&null!==console?console.error:void 0)&&function(c){return console.error(c)}||function(){};l=this;h=l.document||{createElement:function(){}};p="object"===typeof Node?function(c){return c instanceof
Node}:function(c){return"object"===typeof c&&"number"===typeof c.nodeType&&"string"===typeof c.nodeName};f=Array.isArray?Array.isArray:function(){return function(c){return c.push===push&&null!=c.length}}();g=Function.prototype.bind?function(c,b){return c.bind(b)}:function(c,b){return function(){return c.apply(b,arguments)}};j=function(){return h.createElement("div")};i=j();c=function(c,b){for(var a,d;0<b.length;)if(null!=(a=b.shift()))p(a)?c.appendChild(a):"string"===(d=typeof a)||"number"===d?c.appendChild(h.createTextNode(a)):
f(a)?Array.prototype.unshift.apply(b,a):e("renderNodes: unsupported child type = "+a);return c};l.cell=b=function(){function b(d){var a,e,i,h,j,o,l;this.options=null!=d?d:{};if(null!=this.options.model)this.model=this.options.model;"function"===typeof this.init&&this.init(this.options);this.$el=jQuery(this.el=this._tag());if(d=this.options.id)this.el.id=d;l=[this.cell.prototype.name,this["class"],this.options["class"]];for(d=0,o=l.length;d<o;d++)if(j=l[d])this.el.className+=d&&" "+j||j;c(this.el,
f(i="function"===typeof this.render?this.render(this.$R):void 0)&&i||[]);d=this.on;for(a in d)if(i=d[a],"function"===typeof i&&(h=/^([A-z]+)(\s(.*))?$/.exec(a))&&(e=h[1]))this.$el.on(e,h[3],g(i,this));"function"===typeof this.afterRender&&this.afterRender()}b.prototype.$=function(c){return jQuery(c,this.el)};b.prototype.$R=function(){var b,a,d,g,f,j,o,l;b=arguments[0];a=arguments[1];d=3<=arguments.length?s.call(arguments,2):[];if(b){if((null!=a?a.constructor:void 0)!==Object)d.unshift(a),a=void 0;
return(o=function(){if("string"===typeof b){if(j=/^(\w+)?(#([\w\-]+))*(\.[\w\.\-]+)?$/.exec(b)){g=h.createElement(j[1]||"div");if(l=j[3])g.id=l;if(a)for(f in"class"in a&&(g.className+=a["class"],delete a["class"]),a)l=a[f],g.setAttribute(f,l);if(l=j[4])g.className+=l.replace(/\./g," ");return g}return/^<[A-z]/.test(b)?(i.innerHTML=b,i.children[0]):e("renderParent: unsupported parent string = '"+b+"'")}return b.prototype.cell===b?(new b(a)).el:p(b)?b:e("renderParent: unsupported parent type = "+b)}())&&
c(o,d)}};return b}();b.extend=function(c){var d,a,g,f,e;null==c&&(c={});if("object"!==typeof c)throw"cell.extend(): expects an object {render,init,name}";if(c.init&&"function"!==typeof c.init||c.render&&"function"!==typeof c.render)throw"cell.extend(): expects {render,init} to be functions";d=function(){function a(){a.__super__.constructor.apply(this,arguments)}y(a,b);return a}();for(a in c)e=c[a],d.prototype[a]=e;d.prototype.cell=d;d.prototype._tag="string"===(f=typeof c.tag)?function(){i.innerHTML=
c.tag;return i.children[0]||j()}:"function"===f?function(){i.innerHTML=this.tag();return i.children[0]||j()}:j;if("string"===typeof(a=c.css))g=h.createElement("style"),g.innerHTML=a;else if("string"===typeof(a=c.css_href))g=h.createElement("link"),g.href=a,g.rel="stylesheet";if(g)g.type="text/css",$("head")[0].appendChild(g);return d};"function"===typeof define&&"function"===typeof require&&(o=/(.*\/)?(.*)$/,define("cell",[],d={pluginBuilder:"cell-builder-plugin",load:function(c,g,a){g([c],function(f){var i;
if("object"!==typeof f)e("Couldn't load "+c+" cell. cell definitions should be objects, but instead was "+typeof f);else{f.name=o.exec(c)[2];if(null==(null!=(i=d.__preinstalledCells__)?i[c]:void 0)&&null==f.css_href)f.css_href=g.toUrl(""+c+".css");"string"===typeof f["extends"]?g(["cell!"+f["extends"]],function(c){c.prototype.name&&(f["class"]=c.prototype.name+(" "+f["class"])||"");a(c.extend(f))}):a(b.extend(f))}})}}),jQuery(h).ready(function(){jQuery("[data-cell]").each(function(){var c,b,a,d,g=
this;if(a=this.getAttribute("data-cell")){d={};c=/(^\?cachebust)|(&cachebust)/.test(l.location.search);if((null!==(b=this.getAttribute("data-cell-cachebust"))||c)&&"false"!==b)d.urlArgs="bust="+(new Date).getTime();if(c=this.getAttribute("data-cell-baseurl"))d.baseUrl=c;require(d,["cell!"+a],function(a){jQuery(g).append((new a).el)})}})}))}).call(this);
define("AppConfig",["cell!pages/schedule/Schedule"],function(){return{contexts:{Schedule:{defaultPagePath:"pages/schedule/Schedule"},Watch:{defaultPagePath:"pages/watch/Watch"},Search:{defaultPagePath:"pages/watch/Watch"}},defaultContext:"Schedule"}});var __slice=Array.prototype.slice;
define("data/JSONP",[],function(){var e,b,h,d;b=function(b){return b};d=0;h=function(b){var g,e;g="__jsonp"+ ++d;window[g]=function(d){b.success(d);window[g]=void 0;return $("#"+g).remove()};if(null==b.callback)b.callback="callback";e=document.createElement("script");e.id=g;e.setAttribute("type","text/javascript");e.setAttribute("src",""+b.url+(-1===b.url.indexOf("?")&&"?"||"&")+b.callback+"="+g);return $("head").append(e)};e=-1<window.location.search.indexOf("mock-service=true")?function(b,d){var e,
f;e=b.mock;f=b.real;return setTimeout(function(){return require([e],function(b){return d("function"===typeof b?b(f):b)})},0)}:function(b,d){return h({callback:"jsonp",url:b.real,success:d||function(){}})};return{JSONPService:function(){return function(d,g){var h,f,p,o,c,i,s=this;h=g.baseURL;c=g.process;f=g.methods;null==c&&(c=b);i=function(g,f){var i,o,a;o=c;i=b;if("object"===(a=typeof f)&&"function"!==a){if(null!=f.process)o=f.process;f=f.path;if(null!=f.getCache)i=f.getCache}"string"===typeof f&&
function(){var a;a=f;return f=function(){return a}}();return s[g]=function(){var a,c,p,s;a=2<=arguments.length?__slice.call(arguments,0,s=arguments.length-1):(s=0,[]);p=arguments[s++];null==p&&(p=b);void 0!==(c=i())?p(c):e({mock:"data/mock/"+d+"/"+g,real:h+f.apply(null,a)},function(a){a=o(a);p(a)})}};for(p in f)o=f[p],i(p,o)}}()}});
define("data/UserService",["data/JSONP"],function(e){return new e.JSONPService("users",{baseURL:"api/users/",methods:{getWatchedShows:function(){return"pwong/watched-shows"},getShows:function(b){return"pwong/schedule/"+(b.getYear()+1900)+"-"+b.getMonth()+"-"+b.getDate()}}})});define("data/ActorService",["data/JSONP"],function(e){return new e.JSONPService("actors",{baseURL:"api/actors/",methods:{getDetails:function(b){return""+b}}})});
define("data/ShowService",["data/JSONP"],function(e){return new e.JSONPService("shows",{baseURL:"api/shows/",methods:{getDetails:function(b){return""+b}}})});define("Services",["data/UserService","data/ActorService","data/ShowService"],function(e,b,h){return{user:e,show:h,actor:b}});
define("shared/DateHelper",[],function(){var e,b,h;h=new Date;b=["Today","Yesterday"].concat(function(){var b;b=[];for(e=2;7>e;e++)b.push(""+e+" days ago");return b}(),"a week ago");return{getDisplayable:function(d){return h.getYear()===d.getYear()&&h.getMonth()===d.getMonth()?b[h.getDate()-d.getDate()]:d.toLocaleDateString()}}});
define("pages/schedule/Schedule",["require","Services","shared/DateHelper","cell!shared/ListView"],function(e,b,h,d){return{init:function(){var b=this;return this.model.bind({activate:function(){b.model.set({title:h.getDisplayable(new Date)});return b.$("#ShowList").trigger("resetActive")}})},render:function(h){var g=this;return b.user.getShows(new Date,function(b){var f;g.$el.append(h(d,{id:"ShowList",list:function(){var d,g,c;c=[];for(d=0,g=b.length;d<g;d++)f=b[d],c.push({link:"pages/showdetails/ShowDetails?id="+
f.id+"&title="+f.title,text:f.title});return c}()}));g.model.trigger("refreshScroller");return e(["pages/showdetails/ShowDetails"],function(){})})}}});
define("shared/ListView",{tag:"<ul>",render:function(e){var b,h,d,l,g,j,f,p;if(d=this.options.list){p=[];for(g=0,j=d.length;g<j;g++)if(f=d[g],l=f.text,h=f.link,b=f.dividerText,l||b)l?p.push(e("<li data-navto='"+h+"'>",e("div"),l)):p.push(e("li.divider",b));return p}},on:{resetActive:function(){return this.$("li.active").removeClass("active").addClass("deactive")},"webkitAnimationEnd li > div":function(){return this.$("li.deactive").removeClass("deactive")},"click li":function(e){e=e.target;this.$("li.active").removeClass("active");
return $(e).closest("li").addClass("active")}}});define("HashDelegate",{set:function(e){return window.location.hash=e},get:function(){return window.location.hash},onChange:function(e){return $(window).on("hashchange",e)}});
define("framework/Model",[],function(){var e,b;e=/^change:(.*)/;b=function(b,d){var e,g,j;for(g=0,j=b.length;g<j;g++)if(e=b[g],e===d)return;return b.unshift(d)};return function(){function h(b){var d,f;this._ls={};for(d in b)f=b[d],this[d]=f}var d,l;h.pathObj=l=function(b,d){var f,e;if(b){e=d.length;for(f=0;f<e&&null!=(b=b[d[f++]]););return b}};h.parsePropChange=d=function(b){var d,f;return null!=(d=e.exec(b))?null!=(f=d[1])?f.split("."):void 0:void 0};h.prototype.set=function(b,d){var f,e,h;for(f in b)if(h=
b[f],this[f]!==h){e=this[f];try{this.trigger({cur:this[f]=h,prev:e,property:f,type:"change:"+f,data:d})}catch(c){}}};h.prototype.trigger=function(b,d){var f,e,h,c,i;f="string"===typeof b?{type:b,data:d}:b;f.model=this;if(h=this._ls[f.type])for(c=0,i=h.length;c<i;c++){e=h[c];try{e(f)}catch(s){}}};h.prototype.bindAndCall=function(e){var j,f,p,o;f=this;o=function(c){var e,g,j,o,z,r,a,q,m,F,x;if(r=d(p)){g=r.length-1;m=r[g];z=r.slice(0,g);a=function(a,c){var d,e,f;return b(null!=(f=(d=c._ls)[e="change:"+
r[a]])?f:d[e]=[],q[a])};j=f;q=[];F=function(b){q[b]=function(d){for(var e=b,f=d.cur,i=d.prev,j=d.model;e++<g;f=(j=f)&&f[r[e]],i=i&&i[r[e]])f instanceof h&&a(e,f);e={cur:f,prev:i,property:m,type:"change:"+m,model:j,data:d.data};if(b!==g)e.parentEvent=d;return c(e)};if(j instanceof h)return a(b,j),j=j[o]};for(e=0,x=r.length;e<x;e++)o=r[e],F(e);try{return c({cur:j,property:m,type:p,model:l(f,z)})}catch(I){return console.error((null!=I?I.stack:void 0)||I)}}else{b(null!=(z=(e=f._ls)[p])?z:e[p]=[],c);try{return c({type:p,
model:f})}catch(G){}}};for(p in e)j=e[p],o(j)};h.prototype.bind=function(e){var j,f,l,o,c,i,s,t,y,z;for(o in e){f=e[o];if(j=d(o)){y=j.slice(0,-1);for(s=0,t=y.length;s<t;s++)if(l=y[s],(c=this[l])instanceof h)j={},j["change:"+l]=function(){},c.bind(j)}b(null!=(z=(i=this._ls)[o])?z:i[o]=[],f)}};h.prototype.unbind=function(b){var d,e,h,o,c,i;for(c in b)if(d=b[c],o=this._ls[c])for(e=0,i=o.length;e<i;e++)h=o[e],h===d&&delete o[e]};return h}()});
define("framework/Nav",["AppConfig","HashDelegate","./Model"],function(e,b,h){var d,l,g,j,f,p,o;j=/^\#([^!^?]+)(!([^?]+))?(\?(.+))?/;o=!1;d=new h({toHash:p=function(c){var b,d,f,g;b=c.context;d=c.page;c=c.data;b=e.contexts[b]&&b||e.defaultContext;d="#"+b+"!"+(d||e.contexts[b].defaultPagePath);if(c)for(f in b="?",c)g=c[f],d+=""+b+f+"="+encodeURIComponent(g),b="&";return d},parseHash:f=function(c){var b,d,f,g,h,o,a,l,m,p,x;a=j.exec(c);f={};if(g=null!=a?a[5]:void 0){p=g.split("&");for(g=0,m=p.length;g<
m;g++)h=p[g],x=h.split("="),h=x[0],l=x[1],f[h]=decodeURIComponent(l)}return{data:f,hash:c,context:b=(d=null!=a?a[1]:void 0)&&e.contexts[d]&&d||e.defaultContext,page:(o=null!=a?a[3]:void 0)&&"/"!==o.substr(-1)&&o||e.contexts[b].defaultPagePath}},current:function(){var c,d;d=f(b.get());if(d.hash!==(c=p(d)))d.hash=c,o=!0;return new h(d)}(),canBack:function(){var c;return 1<(null!=(c=l[d.current.context])?c.length:void 0)},goBack:function(){var c,e;if(c=null!=(e=l[d.current.context][1])?e.hash:void 0)return b.set(c)},
goTo:function(c){return b.set("#"+d.current.context+"!"+c)},switchContext:function(c){var f;if("string"===typeof c&&(f=l[c])&&d.current.context!==c)return b.set(p(f[0]||{context:c,page:e.contexts[c].defaultPage}))}});l={};for(g in e.contexts)l[g]=[];l[d.current.context].push(d.current);d.bind({"change:current":function(c){var b,e,f;b={};for(e in c)f=c[e],b[e]=f;b.type="change:current[context="+c.cur.context+"]";return d.trigger(b)}});b.onChange(function(){var c,e,g;if(o)o=!1;else if(e=f(b.get()),
c=l[e.context],d.current.context!==e.context)d.set({current:c.length?c[0]:(c.unshift(e=new h(e)),e)},{isBack:!1,isContextSwitch:!0});else if(e.hash===(null!=(g=c[1])?g.hash:void 0))e=c[1],c.shift(),d.set({current:e},{isBack:!0,isContextSwitch:!1});else if(0===c.length||c[0].hash!==e.hash)c.unshift(e=new h(e)),d.set({current:e},{isBack:!1,isContextSwitch:!1})});o&&b.set(d.current.hash);return d});
var __hasProp=Object.prototype.hasOwnProperty,__extends=function(e,b){function h(){this.constructor=e}for(var d in b)__hasProp.call(b,d)&&(e[d]=b[d]);h.prototype=b.prototype;e.prototype=new h;e.__super__=b.prototype;return e};
define("framework/ContextModel",["./Model"],function(e){return function(){function b(h){var d,l,g,j,f,p=this;g=h.id;j=h.initialHash;l=h.hashManager;h=h.defaultPagePath;b.__super__.constructor.call(this,{id:g,defaultPagePath:h,currentPageModel:d=new e(j),pageHistory:f=[d]});(d={})["change:current[context="+g+"]"]=function(b){var c,d;c=b.cur;b=b.prev;if(!(b=c.context!==(null!=b?b.context:void 0)))(null!=(d=f[1])?d.hash:void 0)===c.hash?f.splice(0,1):f.unshift(new e(c));return p.set({currentPageModel:f[0]},
{isContextSwitch:b})};l.bind(d)}__extends(b,e);return b}()});
define("framework/Context",["require","./Model","./Nav","cell!./Page"],function(e,b,h,d){return{tag:function(){return"<div data-ctxid='"+this.options.contextid+"'>"},afterRender:function(){var b,e,j,f,p;p={};j=null;b=this.$el;f=(e={})["change:current[context="+this.options.contextid+"]"]=function(e){var c,f,g,h,y,z;c=e.cur;h=e.prev;g=e.data,e=g.isBack,f=g.isContextSwitch;if(!f){g=p[c.hash];if((y=h&&p[h.hash])&&e)p[h.hash]=void 0,y.$el.bind("webkitAnimationEnd",function(){return y.$el.remove()});g||
(g=p[c.hash]=new d({model:c}));g.$el.prependTo(b);c="Page animate "+((null!=h?h.context:void 0)===c.context?(z=e&&"-reverse"||"",null!=j&&j.$el.attr("class","Page animate headingOut"+z),null!=j&&j.model.trigger("deactivate"),"headingIn"+z):"fadeIn");g.$el.attr("class",c);return(j=g).model.trigger({type:"activate",isback:e})}};h.bind(e);return f({cur:this.options.initialHash,data:{isBack:!1}})}}});
define("framework/Page",["require","./Nav"],function(e,b){return{tag:function(){return"<div data-cellpath='"+this.model.page+"'>"},render:function(b){var d=this;return e(["cell!"+this.model.page],function(e){d.$el.append(b(e,{model:d.model}));return d.pageRendered()})},pageRendered:function(){var b,d,e=this;b=!0;this.model.bind({deactivate:function(){return b=!1}});this.model.bind({activate:function(){b=!0;return e.$el.css("visibility","visible")}});this.$el.bind("webkitAnimationEnd",function(){if(!b)return e.$el.css("visibility",
"hidden")});d=new iScroll(this.el);return this.model.bindAndCall({refreshScroller:function(){return d.refresh()}})},on:{"click *[data-navto]":function(e){return b.goTo($(e.target).closest("[data-navto]").data("navto"))}}}});require(["cell"],function(e){e.__preinstalledCells__={"framework/App":0,"pages/schedule/Schedule":0,"shared/ListView":0,"framework/Context":0,"framework/ContextNavBar":0,"framework/Page":0,"framework/TitleBar":0}});var hideAddressBar,ua;document.addEventListener("touchmove",function(e){return e.preventDefault()});
hideAddressBar=function(){var e,b;e=0;setTimeout(b=function(){if(1===++e)return window.scrollTo(0,1)},500);return $(window).bind("resize",function(){e=0;return b()})};$("body").attr("class",(ua=navigator.userAgent).match(/iPhone/i)||ua.match(/iPod/i)||ua.match(/iPad/i)?window.navigator.standalone?"IOSFullScreen":(hideAddressBar(),"IOS"):(hideAddressBar(),"ANDROID"));
define("framework/App","./Nav,./Model,./ContextModel,cell!./Context,cell!./ContextNavBar,cell!./TitleBar".split(","),function(e,b,h,d,l,g){var j;j={};return{render:function(b){return[b(g),b("#content"),b(l)]},afterRender:function(){var b,g=this;b=this.$("#content");return e.bindAndCall({"change:current":function(e){var c,h,l;c=e.cur;h=e.prev;e=e.data;if(!e||null!=e&&e.isContextSwitch){if(!(e=j[c.context]))e=j[c.context]=new d({contextid:c.context,initialHash:c}),b.append(e.$el);e.$el.toggle(!0);if(h=
null!=h?h.context:void 0)null!=(l=j[h])&&l.$el.toggle(!1);e?(g.$("#content > .activeTab").removeClass("activeTab"),e.$el.toggle(!0).toggleClass("activeTab",!0)):"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log("Could not switch to context = '"+c.context+"'")}}})}}});
define("framework/ContextNavBar",["AppConfig","./Nav"],function(e,b){return{tag:"<ul>",render:function(b){var d,l,g,j;g=e.contexts;j=[];for(d in g)l=g[d].text,j.push(b("<li data-ctxid='"+d+"'>",l||d));return[j]},on:{"click li":function(e){e=e.target;$("li.active").removeClass("active");return b.switchContext($(e).addClass("active").data("ctxid"))}}}});
define("framework/TitleBar",["framework/Nav"],function(e){return{render:function(b){return[b("#backbutton",b("span","Back")),b("#titles",b("#title"),b("#prevtitle")),b("#gobutton",b("span","Do It"))]},afterRender:function(){var b,h,d,l;l=!1;b=this.$("#backbutton");this.$("#backbutton > span");d=this.$("#title");h=this.$("#prevtitle");d.bind("webkitAnimationEnd",function(){d.attr("class","");h.attr("class","");return l=!1});return e.bindAndCall({"change:current.title":function(g){var j,f;j=g.cur;f=
g.prev;g=g.data;g=null!=g?g.isBack:void 0;d.html(j||"");if(!l)return b.css("visibility",e.canBack()&&"visible"||"hidden"),j=g&&"-reverse"||"",f&&h.html(f).attr("class","animate headingOut"+j),d.attr("class","animate headingIn"+j),l=!0}})},on:{"click #backbutton":function(){return e.goBack()}}}});
