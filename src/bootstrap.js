/*
 RequireJS 1.0.2 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/
(function(){var f=Math,d=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",j="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,e="ontouchstart"in window,q=d+"Transform"in document.documentElement.style,c=/iphone|ipad/gi.test(navigator.appVersion),g=/playbook/gi.test(navigator.appVersion),b=c||g,t=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),p=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,u="onorientationchange"in window?"orientationchange":"resize",l=e?"touchstart":"mousedown",m=e?"touchmove":"mousemove",s=e?"touchend":"mouseup",y=e?"touchcancel":"mouseup",h="translate"+(j?"3d(":"("),r=j?",0)":")",j=function(a,
i){var n;this.wrapper="object"==typeof a?a:document.getElementById(a);this.wrapper.style.overflow="hidden";this.scroller=this.wrapper.children[0];this.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(n in i)this.options[n]=
i[n];this.x=this.options.x;this.y=this.options.y;this.options.useTransform=q?this.options.useTransform:!1;this.options.hScrollbar=this.options.hScroll&&this.options.hScrollbar;this.options.vScrollbar=this.options.vScroll&&this.options.vScrollbar;this.options.useTransition=b&&this.options.useTransition;this.scroller.style[d+"TransitionProperty"]=this.options.useTransform?"-"+d.toLowerCase()+"-transform":"top left";this.scroller.style[d+"TransitionDuration"]="0";this.scroller.style[d+"TransformOrigin"]=
"0 0";this.options.useTransition&&(this.scroller.style[d+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");this.options.useTransform?this.scroller.style[d+"Transform"]=h+this.x+"px,"+this.y+"px"+r:this.scroller.style.cssText+=";position:absolute;top:"+this.y+"px;left:"+this.x+"px";this.refresh();this._bind(u,window);this._bind(l);e||this._bind("mouseout",this.wrapper)};j.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(a){switch(a.type){case l:if(!e&&0!==a.button)break;
this._start(a);break;case m:this._move(a);break;case s:case y:this._end(a);break;case u:this._resize();break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_resize:function(){this.refresh()},_pos:function(a,i){a=this.hScroll?a:0;i=this.vScroll?i:0;this.options.useTransform?this.scroller.style[d+"Transform"]=h+a+"px,"+i+"px"+r+" scale("+this.scale+")":(a=f.round(a),i=f.round(i),this.scroller.style.left=a+"px",this.scroller.style.top=i+"px");this.x=a;this.y=
i},_start:function(a){var i=e?a.touches[0]:a,n,f;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,a);this.options.useTransition&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum&&(this.options.useTransform?(n=getComputedStyle(this.scroller,null)[d+"Transform"].replace(/[^0-9-.,]/g,"").split(","),f=1*n[4],n=1*n[5]):(f=1*getComputedStyle(this.scroller,
null).left.replace(/[^0-9-]/g,""),n=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),f!=this.x||n!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):p(this.aniTime),this.steps=[],this._pos(f,n);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=i.pageX;this.pointY=i.pageY;this.startTime=a.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,a);this._bind(m);this._bind(s);this._bind(y)}},
_move:function(a){var i=e?a.touches[0]:a,n=i.pageX-this.pointX,d=i.pageY-this.pointY,b=this.x+n,c=this.y+d,h=a.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,a);this.pointX=i.pageX;this.pointY=i.pageY;if(0<b||b<this.maxScrollX)b=this.options.bounce?this.x+n/2:0<=b||0<=this.maxScrollX?0:this.maxScrollX;if(0<c||c<this.maxScrollY)c=this.options.bounce?this.y+d/2:0<=c||0<=this.maxScrollY?0:this.maxScrollY;if(6>this.absDistX&&6>this.absDistY)this.distX+=
n,this.distY+=d,this.absDistX=f.abs(this.distX),this.absDistY=f.abs(this.distY);else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)c=this.y,d=0;else if(this.absDistY>this.absDistX+5)b=this.x,n=0;this.moved=!0;this._pos(b,c);this.dirX=0<n?-1:0>n?1:0;this.dirY=0<d?-1:0>d?1:0;if(300<h-this.startTime)this.startTime=h,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}},_end:function(a){if(!(e&&0!=a.touches.length)){var i=e?a.changedTouches[0]:
a,n,d,b={dist:0,time:0},c={dist:0,time:0},h=(a.timeStamp||Date.now())-this.startTime;n=this.x;d=this.y;this._unbind(m);this._unbind(s);this._unbind(y);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,a);if(this.moved){if(300>h&&this.options.momentum){b=n?this._momentum(n-this.startX,h,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):b;c=d?this._momentum(d-this.startY,h,-this.y,0>this.maxScrollY?this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?
this.wrapperH:0):c;n=this.x+b.dist;d=this.y+c.dist;if(0<this.x&&0<n||this.x<this.maxScrollX&&n<this.maxScrollX)b={dist:0,time:0};if(0<this.y&&0<d||this.y<this.maxScrollY&&d<this.maxScrollY)c={dist:0,time:0}}b.dist||c.dist?(i=f.max(f.max(b.time,c.time),10),this.scrollTo(n,d,i)):this._resetPos(200)}else{if(e){for(n=i.target;1!=n.nodeType;)n=n.parentNode;if("SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName)d=document.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,a.view,1,i.screenX,
i.screenY,i.clientX,i.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._fake=!0,n.dispatchEvent(d)}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,a)}},_resetPos:function(a){var i=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,n=0<=this.y||0<this.maxScrollY?0:this.y<this.maxScrollY?this.maxScrollY:this.y;if(i==this.x&&n==this.y){if(this.moved)this.options.onScrollEnd&&this.options.onScrollEnd.call(this),this.moved=!1}else this.scrollTo(i,n,a||0)},
_mouseout:function(a){var i=a.relatedTarget;if(i)for(;i=i.parentNode;)if(i==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,i=a.x,n=a.y,d=Date.now(),b,c,h;if(!a.animating)if(a.steps.length){b=a.steps.shift();if(b.x==i&&b.y==n)b.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(b.time),a._pos(b.x,b.y),a.animating=!1,b.time?a._bind("webkitTransitionEnd"):
a._resetPos(0)):(h=function(){var e=Date.now();if(e>=d+b.time)a._pos(b.x,b.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();else if(e=(e-d)/b.time-1,c=f.sqrt(1-e*e),e=(b.x-i)*c+i,a._pos(e,(b.y-n)*c+n),a.animating)a.aniTime=t(h)},h())}else a._resetPos(400)},_transitionTime:function(a){this.scroller.style[d+"TransitionDuration"]=a+"ms"},_momentum:function(a,i,b,d,c){var i=f.abs(a)/i,e=i*i/0.0012,h=0,h=0;0<a&&e>b?(b+=c/(6/(6.0E-4*(e/i))),i=i*b/e,e=b):0>a&&e>
d&&(d+=c/(6/(6.0E-4*(e/i))),i=i*d/e,e=d);return{dist:e*(0>a?-1:1),time:f.round(i/6.0E-4)}},_offset:function(a){for(var i=-a.offsetLeft,b=-a.offsetTop;a=a.offsetParent;)i-=a.offsetLeft,b-=a.offsetTop;return{left:i,top:b}},_bind:function(a,b,d){(b||this.scroller).addEventListener(a,this,!!d)},_unbind:function(a,b,d){(b||this.scroller).removeEventListener(a,this,!!d)},destroy:function(){this.scroller.style[d+"Transform"]="";this._unbind(u,window);this._unbind(l);this._unbind(m);this._unbind(s);this._unbind(y);
this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a;this.wrapperW=this.wrapper.clientWidth;this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.hScroll=this.options.hScroll&&0>this.maxScrollX;
this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;this.scroller.style[d+"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(a,b,d,e){var c=a;this.stop();c.length||(c=[{x:a,y:b,time:d,relative:e}]);for(a=0,b=c.length;a<b;a++){if(c[a].relative)c[a].x=this.x-c[a].x,c[a].y=this.y-c[a].y;this.steps.push({x:c[a].x,y:c[a].y,time:c[a].time||0})}this._startAni()},
scrollToElement:function(a,b){var d;if(a=a.nodeType?a:this.scroller.querySelector(a))d=this._offset(a),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,d.left=0<d.left?0:d.left<this.maxScrollX?this.maxScrollX:d.left,d.top=0<d.top?0:d.top<this.maxScrollY?this.maxScrollY:d.top,b=void 0===b?f.max(2*f.abs(d.left),2*f.abs(d.top)):b,this.scrollTo(d.left,d.top,b)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(m);this._unbind(s);this._unbind(y)},enable:function(){this.enabled=
!0},stop:function(){p(this.aniTime);this.steps=[];this.animating=this.moved=!1}};"undefined"!==typeof exports?exports.iScroll=j:window.iScroll=j})();var requirejs,require,define;
(function(){function f(a){return"[object Function]"===m.call(a)}function d(a){return"[object Array]"===m.call(a)}function j(a,d,b){for(var c in d)if(!(c in F)&&(!(c in a)||b))a[c]=d[c];return o}function e(a,d,b){a=Error(d+"\nhttp://requirejs.org/docs/errors.html#"+a);if(b)a.originalError=b;return a}function q(a,d,b){var c,i,e;for(c=0;e=d[c];c++){e="string"===typeof e?{name:e}:e;i=e.location;if(b&&(!i||0!==i.indexOf("/")&&-1===i.indexOf(":")))i=b+"/"+(i||e.name);a[e.name]={name:e.name,location:i||
e.name,main:(e.main||"main").replace(u,"").replace(l,"")}}}function c(a,b){a.holdReady?a.holdReady(b):b?a.readyWait+=1:a.ready(!0)}function g(b){function d(a,b){var i,c;if(a&&"."===a.charAt(0))if(b){w.pkgs[b]?b=[b]:(b=b.split("/"),b=b.slice(0,b.length-1));i=a=b.concat(a.split("/"));var e;for(c=0;e=i[c];c++)if("."===e)i.splice(c,1),c-=1;else if(".."===e)if(1===c&&(".."===i[2]||".."===i[0]))break;else 0<c&&(i.splice(c-1,2),c-=2);c=w.pkgs[i=a[0]];a=a.join("/");c&&a===i+"/"+c.main&&(a=i)}else 0===a.indexOf("./")&&
(a=a.substring(2));return a}function i(a,b){var c=a?a.indexOf("!"):-1,e=null,f=b?b.name:null,h=a,l,g;-1!==c&&(e=a.substring(0,c),a=a.substring(c+1,a.length));e&&(e=d(e,f));a&&(e?l=(c=v[e])&&c.normalize?c.normalize(a,function(a){return d(a,f)}):d(a,f):(l=d(a,f),g=H[l],g||(g=k.nameToUrl(l,null,b),H[l]=g)));return{prefix:e,name:l,parentMap:b,url:g,originalName:h,fullName:e?e+"!"+(l||""):l}}function g(){var a=!0,b=w.priorityWait,d,c;if(b){for(c=0;d=b[c];c++)if(!C[d]){a=!1;break}a&&delete w.priorityWait}return a}
function l(a,b,d){return function(){var c=y.call(arguments,0),i;if(d&&f(i=c[c.length-1]))i.__requireJsBuild=!0;c.push(b);return a.apply(null,c)}}function n(a,b){var c=l(k.require,a,b);j(c,{nameToUrl:l(k.nameToUrl,a),toUrl:l(k.toUrl,a),defined:l(k.requireDefined,a),specified:l(k.requireSpecified,a),isBrowser:o.isBrowser});return c}function m(a){var b,c,d,h=a.callback,l=a.map,g=l.fullName,r=a.deps;d=a.listeners;if(h&&f(h)){if(w.catchError.define)try{c=o.execCb(g,a.callback,r,v[g])}catch(j){b=j}else c=
o.execCb(g,a.callback,r,v[g]);if(g)(h=a.cjsModule)&&void 0!==h.exports&&h.exports!==v[g]?c=v[g]=a.cjsModule.exports:void 0===c&&a.usingExports?c=v[g]:(v[g]=c,L[g]&&(S[g]=!0))}else g&&(c=v[g]=h,L[g]&&(S[g]=!0));if(J[a.id])delete J[a.id],a.isDone=!0,k.waitCount-=1,0===k.waitCount&&(K=[]);delete T[g];if(o.onResourceLoad&&!a.placeholder)o.onResourceLoad(k,l,a.depArray);if(b)return c=(g?i(g).url:"")||b.fileName||b.sourceURL,d=b.moduleTree,b=e("defineerror",'Error evaluating module "'+g+'" at location "'+
c+'":\n'+b+"\nfileName:"+c+"\nlineNumber: "+(b.lineNumber||b.line),b),b.moduleName=g,b.moduleTree=d,o.onError(b);for(b=0;h=d[b];b++)h(c)}function p(a,b){return function(c){a.depDone[b]||(a.depDone[b]=!0,a.deps[b]=c,a.depCount-=1,a.depCount||m(a))}}function s(a,b){var c=b.map,d=c.fullName,i=c.name,e=O[a]||(O[a]=v[a]),g;if(!b.loading)b.loading=!0,g=function(a){b.callback=function(){return a};m(b);C[b.id]=!0;x()},g.fromText=function(a,b){var c=P;C[a]=!1;k.scriptCount+=1;k.fake[a]=!0;c&&(P=!1);o.exec(b);
c&&(P=!0);k.completeLoad(a)},d in v?g(v[d]):e.load(i,n(c.parentMap,!0),g,w)}function t(a){J[a.id]||(J[a.id]=a,K.push(a),k.waitCount+=1)}function u(a){this.listeners.push(a)}function z(a,b){var c=a.fullName,d=a.prefix,e=d?O[d]||(O[d]=v[d]):null,g,h;c&&(g=T[c]);if(!g&&(h=!0,g={id:(d&&!e?X++ +"__p@:":"")+(c||"__r@"+X++),map:a,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:u},E[g.id]=!0,c&&(!d||O[d])))T[c]=g;d&&!e?(c=z(i(d),!0),c.add(function(){var b=i(a.originalName,a.parentMap),b=z(b,
!0);g.placeholder=!0;b.add(function(a){g.callback=function(){return a};m(g)})})):h&&b&&(C[g.id]=!1,k.paused.push(g),t(g));return g}function G(a,b,c,d){var a=i(a,d),e=a.name,g=a.fullName,h=z(a),f=h.id,l=h.deps,r;if(g){if(g in v||!0===C[f]||"jquery"===g&&w.jQuery&&w.jQuery!==c().fn.jquery)return;E[f]=!0;C[f]=!0;"jquery"===g&&c&&U(c())}h.depArray=b;h.callback=c;for(c=0;c<b.length;c++)if(f=b[c])f=i(f,e?a:d),r=f.fullName,b[c]=r,"require"===r?l[c]=n(a):"exports"===r?(l[c]=v[g]={},h.usingExports=!0):"module"===
r?h.cjsModule=l[c]={id:e,uri:e?k.nameToUrl(e,null,d):void 0,exports:v[g]}:r in v&&!(r in J)&&(!(g in L)||g in L&&S[r])?l[c]=v[r]:(g in L&&(L[r]=!0,delete v[r],V[f.url]=!1),h.depCount+=1,h.depCallbacks[c]=p(h,c),z(f,!0).add(h.depCallbacks[c]));h.depCount?t(h):m(h)}function A(a){G.apply(null,a)}function N(a,b){if(!a.isDone){var c=a.map.fullName,d=a.depArray,e,g,h,f;if(c){if(b[c])return v[c];b[c]=!0}if(d)for(e=0;e<d.length;e++)if(g=d[e])if((h=i(g).prefix)&&(f=J[h])&&N(f,b),(h=J[g])&&!h.isDone&&C[g])g=
N(h,b),a.depCallbacks[e](g);return c?v[c]:void 0}}function D(){var b=1E3*w.waitSeconds,c=b&&k.startTime+b<(new Date).getTime(),b="",d=!1,i=!1,h;if(!(0<k.pausedCount)){if(w.priorityWait)if(g())x();else return;for(h in C)if(!(h in F)&&(d=!0,!C[h]))if(c)b+=h+" ";else{i=!0;break}if(d||k.waitCount){if(c&&b)return h=e("timeout","Load timeout for modules: "+b),h.requireType="timeout",h.requireModules=b,o.onError(h);if(i||k.scriptCount){if((r||a)&&!W)W=setTimeout(function(){W=0;D()},50)}else{if(k.waitCount){for(M=
0;b=K[M];M++)N(b,{});k.paused.length&&x();5>R&&(R+=1,D())}R=0;o.checkReadyState()}}}}var k,x,w={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},B=[],E={require:!0,exports:!0,module:!0},H={},v={},C={},J={},K=[],V={},X=0,T={},O={},L={},S={},Q=0;U=function(a){if(!k.jQuery&&(a=a||("undefined"!==typeof jQuery?jQuery:null))&&!(w.jQuery&&a.fn.jquery!==w.jQuery)&&("holdReady"in a||"readyWait"in a))if(k.jQuery=a,A(["jquery",[],function(){return jQuery}]),k.scriptCount)c(a,!0),k.jQueryIncremented=
!0};x=function(){var a,b,c,d,i,h;Q+=1;if(0>=k.scriptCount)k.scriptCount=0;for(;B.length;){a=B.shift();if(null===a[0])return o.onError(e("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));A(a)}if(!w.priorityWait||g())for(;k.paused.length;){i=k.paused;k.pausedCount+=i.length;k.paused=[];for(d=0;a=i[d];d++)b=a.map,c=b.url,h=b.fullName,b.prefix?s(b.prefix,a):!V[c]&&!C[h]&&(o.load(k,h,c),0!==c.indexOf("empty:")&&(V[c]=!0));k.startTime=(new Date).getTime();k.pausedCount-=i.length}1===Q&&
D();Q-=1};k={contextName:b,config:w,defQueue:B,waiting:J,waitCount:0,specified:E,loaded:C,urlMap:H,urlFetched:V,scriptCount:0,defined:v,paused:[],pausedCount:0,plugins:O,needFullExec:L,fake:{},fullExec:S,managerCallbacks:T,makeModuleMap:i,normalize:d,configure:function(a){var b,c,d;a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");b=w.paths;d=w.pkgs;j(w,a,!0);if(a.paths){for(c in a.paths)c in F||(b[c]=a.paths[c]);w.paths=b}if((b=a.packagePaths)||a.packages){if(b)for(c in b)c in
F||q(d,b[c],c);a.packages&&q(d,a.packages);w.pkgs=d}if(a.priority)c=k.requireWait,k.requireWait=!1,k.takeGlobalQueue(),x(),k.require(a.priority),x(),k.requireWait=c,w.priorityWait=a.priority;if(a.deps||a.callback)k.require(a.deps||[],a.callback)},requireDefined:function(a,b){return i(a,b).fullName in v},requireSpecified:function(a,b){return i(a,b).fullName in E},require:function(a,c,d){if("string"===typeof a){if(f(c))return o.onError(e("requireargs","Invalid require call"));if(o.get)return o.get(k,
a,c);c=i(a,c);a=c.fullName;return!(a in v)?o.onError(e("notloaded","Module name '"+c.fullName+"' has not been loaded yet for context: "+b)):v[a]}(a&&a.length||c)&&G(null,a,c,d);if(!k.requireWait)for(;!k.scriptCount&&k.paused.length;)k.takeGlobalQueue(),x();return k.require},takeGlobalQueue:function(){I.length&&(h.apply(k.defQueue,[k.defQueue.length-1,0].concat(I)),I=[])},completeLoad:function(a){var b;for(k.takeGlobalQueue();B.length;)if(b=B.shift(),null===b[0]){b[0]=a;break}else if(b[0]===a)break;
else A(b),b=null;b?A(b):A([a,[],"jquery"===a&&"undefined"!==typeof jQuery?function(){return jQuery}:null]);U();o.isAsync&&(k.scriptCount-=1);x();o.isAsync||(k.scriptCount-=1)},toUrl:function(a,b){var c=a.lastIndexOf("."),d=null;-1!==c&&(d=a.substring(c,a.length),a=a.substring(0,c));return k.nameToUrl(a,d,b)},nameToUrl:function(a,b,c){var i,e,g,h,f=k.config,a=d(a,c&&c.fullName);if(o.jsExtRegExp.test(a))b=a+(b?b:"");else{i=f.paths;e=f.pkgs;c=a.split("/");for(h=c.length;0<h;h--)if(g=c.slice(0,h).join("/"),
i[g]){c.splice(0,h,i[g]);break}else if(g=e[g]){a=a===g.name?g.location+"/"+g.main:g.location;c.splice(0,h,a);break}b=c.join("/")+(b||".js");b=("/"===b.charAt(0)||b.match(/^\w+:/)?"":f.baseUrl)+b}return f.urlArgs?b+((-1===b.indexOf("?")?"?":"&")+f.urlArgs):b}};k.jQueryCheck=U;k.resume=x;return k}function b(){var a,b,c;if(G&&"interactive"===G.readyState)return G;a=document.getElementsByTagName("script");for(b=a.length-1;-1<b&&(c=a[b]);b--)if("interactive"===c.readyState)return G=c;return null}var t=
/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,p=/require\(\s*["']([^'"\s]+)["']\s*\)/g,u=/^\.\//,l=/\.js$/,m=Object.prototype.toString,s=Array.prototype,y=s.slice,h=s.splice,r=!!("undefined"!==typeof window&&navigator&&document),a=!r&&"undefined"!==typeof importScripts,i=r&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,n="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),F={},z={},I=[],G=null,R=0,P=!1,o,s={},N,A,D,K,x,E,H,M,B,U,W;if("undefined"===typeof define){if("undefined"!==
typeof requirejs){if(f(requirejs))return;s=requirejs;requirejs=void 0}"undefined"!==typeof require&&!f(require)&&(s=require,require=void 0);o=requirejs=function(a,b,c){var i="_",e;!d(a)&&"string"!==typeof a&&(e=a,d(b)?(a=b,b=c):a=[]);if(e&&e.context)i=e.context;c=z[i]||(z[i]=g(i));e&&c.configure(e);return c.require(a,b)};o.config=function(a){return o(a)};require||(require=o);o.toUrl=function(a){return z._.toUrl(a)};o.version="1.0.2";o.jsExtRegExp=/^\/|:|\?|\.js$/;A=o.s={contexts:z,skipAsync:{}};if(o.isAsync=
o.isBrowser=r)if(D=A.head=document.getElementsByTagName("head")[0],K=document.getElementsByTagName("base")[0])D=A.head=K.parentNode;o.onError=function(a){throw a;};o.load=function(a,b,d){o.resourcesReady(!1);a.scriptCount+=1;o.attach(d,a,b);if(a.jQuery&&!a.jQueryIncremented)c(a.jQuery,!0),a.jQueryIncremented=!0};define=function(a,c,e){var i,g;"string"!==typeof a&&(e=c,c=a,a=null);d(c)||(e=c,c=[]);!c.length&&f(e)&&e.length&&(e.toString().replace(t,"").replace(p,function(a,b){c.push(b)}),c=(1===e.length?
["require"]:["require","exports","module"]).concat(c));if(P&&(i=N||b()))a||(a=i.getAttribute("data-requiremodule")),g=z[i.getAttribute("data-requirecontext")];(g?g.defQueue:I).push([a,c,e])};define.amd={multiversion:!0,plugins:!0,jQuery:!0};o.exec=function(a){return eval(a)};o.execCb=function(a,b,c,d){return b.apply(d,c)};o.addScriptToDom=function(a){N=a;K?D.insertBefore(a,K):D.appendChild(a);N=null};o.onScriptLoad=function(a){var b=a.currentTarget||a.srcElement,c;if("load"===a.type||b&&i.test(b.readyState))G=
null,a=b.getAttribute("data-requirecontext"),c=b.getAttribute("data-requiremodule"),z[a].completeLoad(c),b.detachEvent&&!n?b.detachEvent("onreadystatechange",o.onScriptLoad):b.removeEventListener("load",o.onScriptLoad,!1)};o.attach=function(b,c,d,e,i,g){var h;if(r)return e=e||o.onScriptLoad,h=c&&c.config&&c.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),h.type=i||"text/javascript",h.charset="utf-8",h.async=!A.skipAsync[b],c&&h.setAttribute("data-requirecontext",
c.contextName),h.setAttribute("data-requiremodule",d),h.attachEvent&&!n?(P=!0,g?h.onreadystatechange=function(){if("loaded"===h.readyState)h.onreadystatechange=null,h.attachEvent("onreadystatechange",e),g(h)}:h.attachEvent("onreadystatechange",e)):h.addEventListener("load",e,!1),h.src=b,g||o.addScriptToDom(h),h;a&&(importScripts(b),c.completeLoad(d));return null};if(r){x=document.getElementsByTagName("script");for(M=x.length-1;-1<M&&(E=x[M]);M--){if(!D)D=E.parentNode;if(H=E.getAttribute("data-main")){if(!s.baseUrl)x=
H.split("/"),E=x.pop(),x=x.length?x.join("/")+"/":"./",s.baseUrl=x,H=E.replace(l,"");s.deps=s.deps?s.deps.concat(H):[H];break}}}o.checkReadyState=function(){var a=A.contexts,b;for(b in a)if(!(b in F)&&a[b].waitCount)return;o.resourcesReady(!0)};o.resourcesReady=function(a){var b,d;o.resourcesDone=a;if(o.resourcesDone)for(d in a=A.contexts,a)if(!(d in F)&&(b=a[d],b.jQueryIncremented))c(b.jQuery,!1),b.jQueryIncremented=!1};o.pageLoaded=function(){if("complete"!==document.readyState)document.readyState=
"complete"};if(r&&document.addEventListener&&!document.readyState)document.readyState="loading",window.addEventListener("load",o.pageLoaded,!1);o(s);if(o.isAsync&&"undefined"!==typeof setTimeout)B=A.contexts[s.context||"_"],B.requireWait=!0,setTimeout(function(){B.requireWait=!1;B.takeGlobalQueue();B.jQueryCheck();B.scriptCount||B.resume();o.checkReadyState()},0)}})();define("requireLib",function(){});
(function(){var f,d,j,e,q,c,g,b,t,p,u,l,m=Array.prototype.slice,s=Object.prototype.hasOwnProperty,y=function(b,c){function a(){this.constructor=b}for(var d in c)s.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};f="function"===typeof("undefined"!==typeof console&&null!==console?console.error:void 0)&&function(b){return console.error(b)}||function(){};q=this;j=q.document||{createElement:function(){}};t="object"===typeof Node?function(b){return b instanceof
Node}:function(b){return"object"===typeof b&&"number"===typeof b.nodeType&&"string"===typeof b.nodeName};b=Array.isArray?Array.isArray:function(){return function(b){return b.push===push&&null!=b.length}}();c=Function.prototype.bind?function(b,c){return b.bind(c)}:function(b,c){return function(){return b.apply(c,arguments)}};g=function(){return j.createElement("div")};l=g();u=function(c,d){for(var a,e;0<d.length;)if(null!=(a=d.shift()))t(a)?c.appendChild(a):"string"===(e=typeof a)||"number"===e?c.appendChild(j.createTextNode(a)):
b(a)?Array.prototype.unshift.apply(d,a):f("renderNodes: unsupported child type = "+a);return c};q.cell=d=function(){function d(e){var a,g,h,f,l,j,m;this.options=null!=e?e:{};if(null!=this.options.model)this.model=this.options.model;"function"===typeof this.init&&this.init(this.options);this.$el=jQuery(this.el=this._tag());if(e=this.options.id)this.el.id=e;m=[this.cell.prototype.name,this["class"],this.options["class"]];for(e=0,j=m.length;e<j;e++)if(l=m[e])this.el.className+=e&&" "+l||l;u(this.el,
b(h="function"===typeof this.render?this.render(this.$R):void 0)&&h||[]);e=this.on;for(a in e)if(h=e[a],"function"===typeof h&&(f=/^([A-z]+)(\s(.*))?$/.exec(a))&&(g=f[1]))this.$el.on(g,f[3],c(h,this));"function"===typeof this.afterRender&&this.afterRender()}d.prototype.$=function(b){return jQuery(b,this.el)};d.prototype.$R=function(){var b,a,c,d,e,g,h,p;b=arguments[0];a=arguments[1];c=3<=arguments.length?m.call(arguments,2):[];if(b){if((null!=a?a.constructor:void 0)!==Object)c.unshift(a),a=void 0;
return(h=function(){if("string"===typeof b){if(g=/^(\w+)?(#([\w\-]+))*(\.[\w\.\-]+)?$/.exec(b)){d=j.createElement(g[1]||"div");if(p=g[3])d.id=p;if(a)for(e in"class"in a&&(d.className+=a["class"],delete a["class"]),a)p=a[e],d.setAttribute(e,p);if(p=g[4])d.className+=p.replace(/\./g," ");return d}return/^<[A-z]/.test(b)?(l.innerHTML=b,l.children[0]):f("renderParent: unsupported parent string = '"+b+"'")}return b.prototype.cell===b?(new b(a)).el:t(b)?b:f("renderParent: unsupported parent type = "+b)}())&&
u(h,c)}};return d}();d.extend=function(b){var c,a,e,f,m;null==b&&(b={});if("object"!==typeof b)throw"cell.extend(): expects an object {render,init,name}";if(b.init&&"function"!==typeof b.init||b.render&&"function"!==typeof b.render)throw"cell.extend(): expects {render,init} to be functions";c=function(){function a(){a.__super__.constructor.apply(this,arguments)}y(a,d);return a}();for(a in b)m=b[a],c.prototype[a]=m;c.prototype.cell=c;c.prototype._tag="string"===(f=typeof b.tag)?function(){l.innerHTML=
b.tag;return l.children[0]||g()}:"function"===f?function(){l.innerHTML=this.tag();return l.children[0]||g()}:g;if("string"===typeof(a=b.css))e=j.createElement("style"),e.innerHTML=a;else if("string"===typeof(a=b.css_href))e=j.createElement("link"),e.href=a,e.rel="stylesheet";if(e)e.type="text/css",$("head")[0].appendChild(e);return c};"function"===typeof define&&"function"===typeof require&&(p=/(.*\/)?(.*)$/,define("cell",[],e={pluginBuilder:"cell-builder-plugin",load:function(b,c,a){c([b],function(g){var l;
if("object"!==typeof g)f("Couldn't load "+b+" cell. cell definitions should be objects, but instead was "+typeof g);else{g.name=p.exec(b)[2];if(null==(null!=(l=e.__preinstalledCells__)?l[b]:void 0)&&null==g.css_href)g.css_href=c.toUrl(""+b+".css");"string"===typeof g["extends"]?c(["cell!"+g["extends"]],function(b){b.prototype.name&&(g["class"]=b.prototype.name+(" "+g["class"])||"");a(b.extend(g))}):a(d.extend(g))}})}}),jQuery(j).ready(function(){jQuery("[data-cell]").each(function(){var b,c,a,d,e=
this;if(a=this.getAttribute("data-cell")){d={};b=/(^\?cachebust)|(&cachebust)/.test(q.location.search);if((null!==(c=this.getAttribute("data-cell-cachebust"))||b)&&"false"!==c)d.urlArgs="bust="+(new Date).getTime();if(b=this.getAttribute("data-cell-baseurl"))d.baseUrl=b;require(d,["cell!"+a],function(a){jQuery(e).append((new a).el)})}})}))}).call(this);
define("AppConfig",["cell!pages/schedule/Schedule"],function(){return{contexts:{Schedule:{defaultPagePath:"pages/schedule/Schedule"},Watch:{defaultPagePath:"pages/watch/Watch"},Search:{defaultPagePath:"pages/watch/Watch"}},defaultContext:"Schedule"}});var __slice=Array.prototype.slice;
define("data/JSONP",[],function(){var f,d,j,e;d=function(d){return d};e=0;j=function(d){var c,g;c="__jsonp"+ ++e;window[c]=function(b){d.success(b);window[c]=void 0;return $("#"+c).remove()};if(null==d.callback)d.callback="callback";g=document.createElement("script");g.id=c;g.setAttribute("type","text/javascript");g.setAttribute("src",""+d.url+(-1===d.url.indexOf("?")&&"?"||"&")+d.callback+"="+c);return $("head").append(g)};f=-1<window.location.search.indexOf("mock-service=true")?function(d,c){var e,
b;e=d.mock;b=d.real;return setTimeout(function(){return require([e],function(d){return c("function"===typeof d?d(b):d)})},0)}:function(d,c){return j({callback:"jsonp",url:d.real,success:c||function(){}})};return{JSONPService:function(){return function(e,c){var g,b,j,p,u,l,m=this;g=c.baseURL;u=c.process;b=c.methods;null==u&&(u=d);l=function(b,c){var h,l,a;l=u;h=d;if("object"===(a=typeof c)&&"function"!==a){if(null!=c.process)l=c.process;c=c.path;if(null!=c.getCache)h=c.getCache}"string"===typeof c&&
function(){var a;a=c;return c=function(){return a}}();return m[b]=function(){var a,j,m,p;a=2<=arguments.length?__slice.call(arguments,0,p=arguments.length-1):(p=0,[]);m=arguments[p++];null==m&&(m=d);void 0!==(j=h())?m(j):f({mock:"data/mock/"+e+"/"+b,real:g+c.apply(null,a)},function(a){a=l(a);m(a)})}};for(j in b)p=b[j],l(j,p)}}()}});
define("data/UserService",["data/JSONP"],function(f){return new f.JSONPService("users",{baseURL:"api/users/",methods:{getWatchedShows:function(){return"pwong/watched-shows"},getShows:function(d){return"pwong/schedule/"+(d.getYear()+1900)+"-"+d.getMonth()+"-"+d.getDate()}}})});define("data/ActorService",["data/JSONP"],function(f){return new f.JSONPService("actors",{baseURL:"api/actors/",methods:{getDetails:function(d){return""+d}}})});
define("data/ShowService",["data/JSONP"],function(f){return new f.JSONPService("shows",{baseURL:"api/shows/",methods:{getDetails:function(d){return""+d}}})});define("Services",["data/UserService","data/ActorService","data/ShowService"],function(f,d,j){return{user:f,show:j,actor:d}});
define("shared/DateHelper",[],function(){var f,d,j;j=new Date;d=["Today","Yesterday"].concat(function(){var d;d=[];for(f=2;7>f;f++)d.push(""+f+" days ago");return d}(),"a week ago");return{getDisplayable:function(e){return j.getYear()===e.getYear()&&j.getMonth()===e.getMonth()?d[j.getDate()-e.getDate()]:e.toLocaleDateString()}}});
define("pages/schedule/Schedule",["require","Services","shared/DateHelper","cell!shared/ListView"],function(f,d,j,e){return{init:function(){var d=this;return this.model.bind({activate:function(){d.model.set({title:j.getDisplayable(new Date)});return d.$("#ShowList").trigger("resetActive")}})},render:function(j){var c=this;return d.user.getShows(new Date,function(d){var b;c.$el.append(j(e,{id:"ShowList",list:function(){var c,e,f;f=[];for(c=0,e=d.length;c<e;c++)b=d[c],f.push({link:"pages/showdetails/ShowDetails?id="+
b.id+"&title="+b.title,text:b.title});return f}()}));c.model.trigger("refreshScroller");return f(["pages/showdetails/ShowDetails"],function(){})})}}});
define("shared/ListView",{tag:"<ul>",render:function(f){var d,j,e,q,c,g,b,t;if(e=this.options.list){t=[];for(c=0,g=e.length;c<g;c++)if(b=e[c],q=b.text,j=b.link,d=b.dividerText,q||d)q?t.push(f("<li data-navto='"+j+"'>",f("div"),q)):t.push(f("li.divider",d));return t}},on:{resetActive:function(){return this.$("li.active").removeClass("active").addClass("deactive")},"webkitAnimationEnd li > div":function(){return this.$("li.deactive").removeClass("deactive")},"click li":function(f){f=f.target;this.$("li.active").removeClass("active");
return $(f).closest("li").addClass("active")}}});define("HashDelegate",{set:function(f){return window.location.hash=f},get:function(){return window.location.hash},onChange:function(f){return $(window).on("hashchange",f)}});
define("framework/Model",[],function(){var f,d;f=/^change:(.*)/;d=function(d,e){var f,c,g;for(c=0,g=d.length;c<g;c++)if(f=d[c],f===e)return;return d.unshift(e)};return function(){function j(c){var d,b;this._ls={};for(d in c)b=c[d],this[d]=b}var e,q;j.pathObj=q=function(c,d){var b,e;if(c){e=d.length;for(b=0;b<e&&null!=(c=c[d[b++]]););return c}};j.parsePropChange=e=function(c){var d,b;return null!=(d=f.exec(c))?null!=(b=d[1])?b.split("."):void 0:void 0};j.prototype.set=function(c,d){var b,e,f;for(b in c)if(f=
c[b],this[b]!==f){e=this[b];try{this.trigger({cur:this[b]=f,prev:e,property:b,type:"change:"+b,data:d})}catch(j){}}};j.prototype.trigger=function(c,d){var b,e,f,j,l;b="string"===typeof c?{type:c,data:d}:c;b.model=this;if(f=this._ls[b.type])for(j=0,l=f.length;j<l;j++){e=f[j];try{e(b)}catch(m){}}};j.prototype.bindAndCall=function(c){var g,b,f,p;b=this;p=function(c){var g,m,p,y,h,r,a,i,n,F,z;if(r=e(f)){m=r.length-1;n=r[m];h=r.slice(0,m);a=function(a,b){var c,e,g;return d(null!=(g=(c=b._ls)[e="change:"+
r[a]])?g:c[e]=[],i[a])};p=b;i=[];F=function(b){i[b]=function(d){for(var e=b,g=d.cur,f=d.prev,h=d.model;e++<m;g=(h=g)&&g[r[e]],f=f&&f[r[e]])g instanceof j&&a(e,g);e={cur:g,prev:f,property:n,type:"change:"+n,model:h,data:d.data};if(b!==m)e.parentEvent=d;return c(e)};if(p instanceof j)return a(b,p),p=p[y]};for(g=0,z=r.length;g<z;g++)y=r[g],F(g);try{return c({cur:p,property:n,type:f,model:q(b,h)})}catch(I){return console.error((null!=I?I.stack:void 0)||I)}}else{d(null!=(h=(g=b._ls)[f])?h:g[f]=[],c);try{return c({type:f,
model:b})}catch(G){}}};for(f in c)g=c[f],p(g)};j.prototype.bind=function(c){var g,b,f,p,u,l,m,s,q,h;for(p in c){b=c[p];if(g=e(p)){q=g.slice(0,-1);for(m=0,s=q.length;m<s;m++)if(f=q[m],(u=this[f])instanceof j)g={},g["change:"+f]=function(){},u.bind(g)}d(null!=(h=(l=this._ls)[p])?h:l[p]=[],b)}};j.prototype.unbind=function(c){var d,b,e,f,j,l;for(j in c)if(d=c[j],f=this._ls[j])for(b=0,l=f.length;b<l;b++)e=f[b],e===d&&delete f[b]};return j}()});
define("framework/Nav",["AppConfig","HashDelegate","./Model"],function(f,d,j){var e,q,c,g,b,t,p,u;g=/^\#([^!^?]+)(!([^?]+))?(\?(.+))?/;p=void 0;u=!1;e=new j({toHash:t=function(b){var c,d,e,g;c=b.context;d=b.page;b=b.data;c=f.contexts[c]&&c||f.defaultContext;d="#"+c+"!"+(d||f.contexts[c].defaultPagePath);if(b)for(e in c="?",b)g=b[e],d+=""+c+e+"="+encodeURIComponent(g),c="&";return d},parseHash:b=function(b){var c,d,e,h,j,a,i,p,q,u,t;i=g.exec(b);e={};if(h=null!=i?i[5]:void 0){u=h.split("&");for(h=0,
q=u.length;h<q;h++)j=u[h],t=j.split("="),j=t[0],p=t[1],e[j]=decodeURIComponent(p)}return{data:e,hash:b,context:c=(d=null!=i?i[1]:void 0)&&f.contexts[d]&&d||f.defaultContext,page:(a=null!=i?i[3]:void 0)&&"/"!==a.substr(-1)&&a||f.contexts[c].defaultPagePath}},current:function(){var c,e;e=b(d.get());if(e.hash!==(c=t(e)))e.hash=c,u=!0;return new j(e)}(),canBack:function(){var b;return 1<(null!=(b=q[e.current.context])?b.length:void 0)},goBack:function(){var b;b=q[e.current.context];if(1<b.length)return p=
b[1],d.set(p.hash)},goTo:function(b){return d.set(""+e.current.context+"!"+b)},switchContext:function(b){var c;if("string"===typeof b&&(c=q[b])&&e.current.context!==b)return d.set(t(c[0]||{context:b,page:f.contexts[b].defaultPage}))}});window.ctxHists=q={};for(c in f.contexts)q[c]=[];q[e.current.context].push(e.current);e.bind({"change:current":function(b){var c,d,g;c={};for(d in b)g=b[d],c[d]=g;c.type="change:current[context="+b.cur.context+"]";return e.trigger(c)}});d.onChange(function(){var c,
g,f,t,h;if(u)u=!1;else if(f=b(d.get()),g=q[f.context],c=p,p=void 0,e.current.context!==f.context)e.set({current:g.length&&g[0]||new j(f)},{isBack:!1,isContextSwitch:!0});else if(c){for(t=0;g[t++].hash!==c.hash;);f=c;g.splice(0,t-1);e.set({current:f},{isBack:!0,isContextSwitch:!1})}else if(f.hash===(null!=(t=g[1])?t.hash:void 0))f=g[1],g.splice(0,1),e.set({current:f},{isBack:!0,isContextSwitch:!1});else if(0===g.length||(null!=(h=g[0])?h.hash:void 0)!==f.hash)g.unshift(f=new j(f)),e.set({current:f},
{isBack:!1,isContextSwitch:!1})});u&&d.set(e.current.hash);return e});var __hasProp=Object.prototype.hasOwnProperty,__extends=function(f,d){function j(){this.constructor=f}for(var e in d)__hasProp.call(d,e)&&(f[e]=d[e]);j.prototype=d.prototype;f.prototype=new j;f.__super__=d.prototype;return f};
define("framework/ContextModel",["./Model"],function(f){return function(){function d(j){var e,q,c,g,b,t=this;c=j.id;g=j.initialHash;q=j.hashManager;j=j.defaultPagePath;d.__super__.constructor.call(this,{id:c,defaultPagePath:j,currentPageModel:e=new f(g),pageHistory:b=[e]});(e={})["change:current[context="+c+"]"]=function(c){var d,e;d=c.cur;c=c.prev;if(!(c=d.context!==(null!=c?c.context:void 0)))(null!=(e=b[1])?e.hash:void 0)===d.hash?b.splice(0,1):b.unshift(new f(d));return t.set({currentPageModel:b[0]},
{isContextSwitch:c})};q.bind(e)}__extends(d,f);return d}()});
define("framework/Context",["require","./Model","./Nav","cell!./Page"],function(f,d,j,e){return{tag:function(){return"<div data-ctxid='"+this.options.contextid+"'>"},afterRender:function(){var d,c,g,b,f;f={};g=null;d=this.$el;b=(c={})["change:current[context="+this.options.contextid+"]"]=function(b){var c,j,m,s,y,h;c=b.cur;s=b.prev;m=b.data,b=m.isBack,j=m.isContextSwitch;if(!j){m=f[c.hash];if((y=s&&f[s.hash])&&b)f[s.hash]=void 0,y.$el.bind("webkitAnimationEnd",function(){return y.$el.remove()});m||
(m=f[c.hash]=new e({model:c}));m.$el.prependTo(d);c="Page animate "+((null!=s?s.context:void 0)===c.context?(h=b&&"-reverse"||"",null!=g&&g.$el.attr("class","Page animate headingOut"+h),null!=g&&g.model.trigger("deactivate"),"headingIn"+h):"fadeIn");m.$el.attr("class",c);return(g=m).model.trigger({type:"activate",isback:b})}};j.bind(c);return b({cur:this.options.initialHash,data:{isBack:!1}})}}});
define("framework/Page",["require","./Nav"],function(f,d){return{tag:function(){return"<div data-cellpath='"+this.model.page+"'>"},render:function(d){var e=this;return f(["cell!"+this.model.page],function(f){e.$el.append(d(f,{model:e.model}));return e.pageRendered()})},pageRendered:function(){var d,e,f=this;d=!0;this.model.bind({deactivate:function(){return d=!1}});this.model.bind({activate:function(){d=!0;return f.$el.css("visibility","visible")}});this.$el.bind("webkitAnimationEnd",function(){if(!d)return f.$el.css("visibility",
"hidden")});e=new iScroll(this.el);return this.model.bindAndCall({refreshScroller:function(){return e.refresh()}})},on:{"click *[data-navto]":function(f){return d.goTo($(f.target).closest("[data-navto]").data("navto"))}}}});require(["cell"],function(f){f.__preinstalledCells__={"framework/App":0,"pages/schedule/Schedule":0,"shared/ListView":0,"framework/Context":0,"framework/ContextNavBar":0,"framework/Page":0,"framework/TitleBar":0}});var hideAddressBar,ua;document.addEventListener("touchmove",function(f){return f.preventDefault()});
hideAddressBar=function(){var f,d;f=0;setTimeout(d=function(){if(1===++f)return window.scrollTo(0,1)},500);return $(window).bind("resize",function(){f=0;return d()})};$("body").attr("class",(ua=navigator.userAgent).match(/iPhone/i)||ua.match(/iPod/i)||ua.match(/iPad/i)?window.navigator.standalone?"IOSFullScreen":(hideAddressBar(),"IOS"):(hideAddressBar(),"ANDROID"));
define("framework/App","./Nav,./Model,./ContextModel,cell!./Context,cell!./ContextNavBar,cell!./TitleBar".split(","),function(f,d,j,e,q,c){var g;g={};return{render:function(b){return[b(c),b("#content"),b(q)]},afterRender:function(){var b,c=this;b=this.$("#content");return f.bindAndCall({"change:current":function(d){var f,j,m;f=d.cur;j=d.prev;d=d.data;if(!d||null!=d&&d.isContextSwitch){if(!(d=g[f.context]))d=g[f.context]=new e({contextid:f.context,initialHash:f}),b.append(d.$el);d.$el.toggle(!0);if(j=
null!=j?j.context:void 0)null!=(m=g[j])&&m.$el.toggle(!1);d?(c.$("#content > .activeTab").removeClass("activeTab"),d.$el.toggle(!0).toggleClass("activeTab",!0)):"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log("Could not switch to context = '"+f.context+"'")}}})}}});
define("framework/ContextNavBar",["AppConfig","./Nav"],function(f,d){return{tag:"<ul>",render:function(d){var e,q,c,g;c=f.contexts;g=[];for(e in c)q=c[e].text,g.push(d("<li data-ctxid='"+e+"'>",q||e));return[g]},on:{"click li":function(f){f=f.target;$("li.active").removeClass("active");return d.switchContext($(f).addClass("active").data("ctxid"))}}}});
define("framework/TitleBar",["framework/Nav"],function(f){return{render:function(d){return[d("#backbutton",d("span","Back")),d("#titles",d("#title"),d("#prevtitle")),d("#gobutton",d("span","Do It"))]},afterRender:function(){var d,j,e,q;q=!1;d=this.$("#backbutton");this.$("#backbutton > span");e=this.$("#title");j=this.$("#prevtitle");e.bind("webkitAnimationEnd",function(){e.attr("class","");j.attr("class","");return q=!1});return f.bindAndCall({"change:current.title":function(c){var g,b;g=c.cur;b=
c.prev;c=c.data;c=null!=c?c.isBack:void 0;e.html(g||"");if(!q)return d.css("visibility",f.canBack()&&"visible"||"hidden"),g=c&&"-reverse"||"",b&&j.html(b).attr("class","animate headingOut"+g),e.attr("class","animate headingIn"+g),q=!0}})},on:{"click #backbutton":function(){return f.goBack()}}}});
