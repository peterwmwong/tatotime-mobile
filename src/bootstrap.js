/*
 RequireJS 1.0.2 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/
(function(){var e=Math,d=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",i="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,j="ontouchstart"in window,m=d+"Transform"in document.documentElement.style,c=/iphone|ipad/gi.test(navigator.appVersion),f=/playbook/gi.test(navigator.appVersion),b=c||f,q=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),r=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,t="onorientationchange"in window?"orientationchange":"resize",k=j?"touchstart":"mousedown",s=j?"touchmove":"mousemove",p=j?"touchend":"mouseup",y=j?"touchcancel":"mouseup",x="translate"+(i?"3d(":"("),h=i?",0)":")",i=function(a,
g){var n;this.wrapper="object"==typeof a?a:document.getElementById(a);this.wrapper.style.overflow="hidden";this.scroller=this.wrapper.children[0];this.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(n in g)this.options[n]=
g[n];this.x=this.options.x;this.y=this.options.y;this.options.useTransform=m?this.options.useTransform:!1;this.options.hScrollbar=this.options.hScroll&&this.options.hScrollbar;this.options.vScrollbar=this.options.vScroll&&this.options.vScrollbar;this.options.useTransition=b&&this.options.useTransition;this.scroller.style[d+"TransitionProperty"]=this.options.useTransform?"-"+d.toLowerCase()+"-transform":"top left";this.scroller.style[d+"TransitionDuration"]="0";this.scroller.style[d+"TransformOrigin"]=
"0 0";this.options.useTransition&&(this.scroller.style[d+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");this.options.useTransform?this.scroller.style[d+"Transform"]=x+this.x+"px,"+this.y+"px"+h:this.scroller.style.cssText+=";position:absolute;top:"+this.y+"px;left:"+this.x+"px";this.refresh();this._bind(t,window);this._bind(k);j||this._bind("mouseout",this.wrapper)};i.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(a){switch(a.type){case k:if(!j&&0!==a.button)break;
this._start(a);break;case s:this._move(a);break;case p:case y:this._end(a);break;case t:this._resize();break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_resize:function(){this.refresh()},_pos:function(a,g){a=this.hScroll?a:0;g=this.vScroll?g:0;this.options.useTransform?this.scroller.style[d+"Transform"]=x+a+"px,"+g+"px"+h+" scale("+this.scale+")":(a=e.round(a),g=e.round(g),this.scroller.style.left=a+"px",this.scroller.style.top=g+"px");this.x=a;this.y=
g},_start:function(a){var g=j?a.touches[0]:a,n,e;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,a);this.options.useTransition&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum&&(this.options.useTransform?(n=getComputedStyle(this.scroller,null)[d+"Transform"].replace(/[^0-9-.,]/g,"").split(","),e=1*n[4],n=1*n[5]):(e=1*getComputedStyle(this.scroller,
null).left.replace(/[^0-9-]/g,""),n=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),e!=this.x||n!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):r(this.aniTime),this.steps=[],this._pos(e,n);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=g.pageX;this.pointY=g.pageY;this.startTime=a.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,a);this._bind(s);this._bind(p);this._bind(y)}},
_move:function(a){var g=j?a.touches[0]:a,n=g.pageX-this.pointX,d=g.pageY-this.pointY,b=this.x+n,c=this.y+d,h=a.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,a);this.pointX=g.pageX;this.pointY=g.pageY;if(0<b||b<this.maxScrollX)b=this.options.bounce?this.x+n/2:0<=b||0<=this.maxScrollX?0:this.maxScrollX;if(0<c||c<this.maxScrollY)c=this.options.bounce?this.y+d/2:0<=c||0<=this.maxScrollY?0:this.maxScrollY;if(6>this.absDistX&&6>this.absDistY)this.distX+=
n,this.distY+=d,this.absDistX=e.abs(this.distX),this.absDistY=e.abs(this.distY);else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)c=this.y,d=0;else if(this.absDistY>this.absDistX+5)b=this.x,n=0;this.moved=!0;this._pos(b,c);this.dirX=0<n?-1:0>n?1:0;this.dirY=0<d?-1:0>d?1:0;if(300<h-this.startTime)this.startTime=h,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}},_end:function(a){if(!(j&&0!=a.touches.length)){var g=j?a.changedTouches[0]:
a,n,d,b={dist:0,time:0},c={dist:0,time:0},h=(a.timeStamp||Date.now())-this.startTime;n=this.x;d=this.y;this._unbind(s);this._unbind(p);this._unbind(y);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,a);if(this.moved){if(300>h&&this.options.momentum){b=n?this._momentum(n-this.startX,h,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):b;c=d?this._momentum(d-this.startY,h,-this.y,0>this.maxScrollY?this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?
this.wrapperH:0):c;n=this.x+b.dist;d=this.y+c.dist;if(0<this.x&&0<n||this.x<this.maxScrollX&&n<this.maxScrollX)b={dist:0,time:0};if(0<this.y&&0<d||this.y<this.maxScrollY&&d<this.maxScrollY)c={dist:0,time:0}}b.dist||c.dist?(g=e.max(e.max(b.time,c.time),10),this.scrollTo(n,d,g)):this._resetPos(200)}else{if(j){for(n=g.target;1!=n.nodeType;)n=n.parentNode;if("SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName)d=document.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,a.view,1,g.screenX,
g.screenY,g.clientX,g.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._fake=!0,n.dispatchEvent(d)}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,a)}},_resetPos:function(a){var g=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,n=0<=this.y||0<this.maxScrollY?0:this.y<this.maxScrollY?this.maxScrollY:this.y;if(g==this.x&&n==this.y){if(this.moved)this.options.onScrollEnd&&this.options.onScrollEnd.call(this),this.moved=!1}else this.scrollTo(g,n,a||0)},
_mouseout:function(a){var g=a.relatedTarget;if(g)for(;g=g.parentNode;)if(g==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,g=a.x,n=a.y,d=Date.now(),b,c,j;if(!a.animating)if(a.steps.length){b=a.steps.shift();if(b.x==g&&b.y==n)b.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(b.time),a._pos(b.x,b.y),a.animating=!1,b.time?a._bind("webkitTransitionEnd"):
a._resetPos(0)):(j=function(){var h=Date.now();if(h>=d+b.time)a._pos(b.x,b.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();else if(h=(h-d)/b.time-1,c=e.sqrt(1-h*h),h=(b.x-g)*c+g,a._pos(h,(b.y-n)*c+n),a.animating)a.aniTime=q(j)},j())}else a._resetPos(400)},_transitionTime:function(a){this.scroller.style[d+"TransitionDuration"]=a+"ms"},_momentum:function(a,g,b,d,c){var g=e.abs(a)/g,h=g*g/0.0012,j=0,j=0;0<a&&h>b?(b+=c/(6/(6.0E-4*(h/g))),g=g*b/h,h=b):0>a&&h>
d&&(d+=c/(6/(6.0E-4*(h/g))),g=g*d/h,h=d);return{dist:h*(0>a?-1:1),time:e.round(g/6.0E-4)}},_offset:function(a){for(var g=-a.offsetLeft,b=-a.offsetTop;a=a.offsetParent;)g-=a.offsetLeft,b-=a.offsetTop;return{left:g,top:b}},_bind:function(a,b,d){(b||this.scroller).addEventListener(a,this,!!d)},_unbind:function(a,b,d){(b||this.scroller).removeEventListener(a,this,!!d)},destroy:function(){this.scroller.style[d+"Transform"]="";this._unbind(t,window);this._unbind(k);this._unbind(s);this._unbind(p);this._unbind(y);
this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a;this.wrapperW=this.wrapper.clientWidth;this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.hScroll=this.options.hScroll&&0>this.maxScrollX;
this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;this.scroller.style[d+"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(a,b,d,h){var c=a;this.stop();c.length||(c=[{x:a,y:b,time:d,relative:h}]);for(a=0,b=c.length;a<b;a++){if(c[a].relative)c[a].x=this.x-c[a].x,c[a].y=this.y-c[a].y;this.steps.push({x:c[a].x,y:c[a].y,time:c[a].time||0})}this._startAni()},
scrollToElement:function(a,b){var d;if(a=a.nodeType?a:this.scroller.querySelector(a))d=this._offset(a),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,d.left=0<d.left?0:d.left<this.maxScrollX?this.maxScrollX:d.left,d.top=0<d.top?0:d.top<this.maxScrollY?this.maxScrollY:d.top,b=void 0===b?e.max(2*e.abs(d.left),2*e.abs(d.top)):b,this.scrollTo(d.left,d.top,b)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(s);this._unbind(p);this._unbind(y)},enable:function(){this.enabled=
!0},stop:function(){r(this.aniTime);this.steps=[];this.animating=this.moved=!1}};"undefined"!==typeof exports?exports.iScroll=i:window.iScroll=i})();var requirejs,require,define;
(function(){function e(a){return"[object Function]"===s.call(a)}function d(a){return"[object Array]"===s.call(a)}function i(a,d,b){for(var c in d)if(!(c in F)&&(!(c in a)||b))a[c]=d[c];return o}function j(a,d,b){a=Error(d+"\nhttp://requirejs.org/docs/errors.html#"+a);if(b)a.originalError=b;return a}function m(a,d,b){var c,g,h;for(c=0;h=d[c];c++){h="string"===typeof h?{name:h}:h;g=h.location;if(b&&(!g||0!==g.indexOf("/")&&-1===g.indexOf(":")))g=b+"/"+(g||h.name);a[h.name]={name:h.name,location:g||
h.name,main:(h.main||"main").replace(t,"").replace(k,"")}}}function c(a,b){a.holdReady?a.holdReady(b):b?a.readyWait+=1:a.ready(!0)}function f(b){function d(a,b){var g,c;if(a&&"."===a.charAt(0))if(b){v.pkgs[b]?b=[b]:(b=b.split("/"),b=b.slice(0,b.length-1));g=a=b.concat(a.split("/"));var h;for(c=0;h=g[c];c++)if("."===h)g.splice(c,1),c-=1;else if(".."===h)if(1===c&&(".."===g[2]||".."===g[0]))break;else 0<c&&(g.splice(c-1,2),c-=2);c=v.pkgs[g=a[0]];a=a.join("/");c&&a===g+"/"+c.main&&(a=g)}else 0===a.indexOf("./")&&
(a=a.substring(2));return a}function g(a,b){var c=a?a.indexOf("!"):-1,h=null,e=b?b.name:null,j=a,k,f;-1!==c&&(h=a.substring(0,c),a=a.substring(c+1,a.length));h&&(h=d(h,e));a&&(h?k=(c=u[h])&&c.normalize?c.normalize(a,function(a){return d(a,e)}):d(a,e):(k=d(a,e),f=H[k],f||(f=l.nameToUrl(k,null,b),H[k]=f)));return{prefix:h,name:k,parentMap:b,url:f,originalName:j,fullName:h?h+"!"+(k||""):k}}function f(){var a=!0,b=v.priorityWait,d,c;if(b){for(c=0;d=b[c];c++)if(!C[d]){a=!1;break}a&&delete v.priorityWait}return a}
function k(a,b,d){return function(){var c=y.call(arguments,0),g;if(d&&e(g=c[c.length-1]))g.__requireJsBuild=!0;c.push(b);return a.apply(null,c)}}function n(a,b){var c=k(l.require,a,b);i(c,{nameToUrl:k(l.nameToUrl,a),toUrl:k(l.toUrl,a),defined:k(l.requireDefined,a),specified:k(l.requireSpecified,a),isBrowser:o.isBrowser});return c}function s(a){var b,c,d,h=a.callback,k=a.map,f=k.fullName,i=a.deps;d=a.listeners;if(h&&e(h)){if(v.catchError.define)try{c=o.execCb(f,a.callback,i,u[f])}catch(x){b=x}else c=
o.execCb(f,a.callback,i,u[f]);if(f)(h=a.cjsModule)&&void 0!==h.exports&&h.exports!==u[f]?c=u[f]=a.cjsModule.exports:void 0===c&&a.usingExports?c=u[f]:(u[f]=c,L[f]&&(S[f]=!0))}else f&&(c=u[f]=h,L[f]&&(S[f]=!0));if(J[a.id])delete J[a.id],a.isDone=!0,l.waitCount-=1,0===l.waitCount&&(K=[]);delete T[f];if(o.onResourceLoad&&!a.placeholder)o.onResourceLoad(l,k,a.depArray);if(b)return c=(f?g(f).url:"")||b.fileName||b.sourceURL,d=b.moduleTree,b=j("defineerror",'Error evaluating module "'+f+'" at location "'+
c+'":\n'+b+"\nfileName:"+c+"\nlineNumber: "+(b.lineNumber||b.line),b),b.moduleName=f,b.moduleTree=d,o.onError(b);for(b=0;h=d[b];b++)h(c)}function r(a,b){return function(c){a.depDone[b]||(a.depDone[b]=!0,a.deps[b]=c,a.depCount-=1,a.depCount||s(a))}}function p(a,b){var c=b.map,d=c.fullName,h=c.name,g=O[a]||(O[a]=u[a]),f;if(!b.loading)b.loading=!0,f=function(a){b.callback=function(){return a};s(b);C[b.id]=!0;w()},f.fromText=function(a,b){var c=P;C[a]=!1;l.scriptCount+=1;l.fake[a]=!0;c&&(P=!1);o.exec(b);
c&&(P=!0);l.completeLoad(a)},d in u?f(u[d]):g.load(h,n(c.parentMap,!0),f,v)}function q(a){J[a.id]||(J[a.id]=a,K.push(a),l.waitCount+=1)}function t(a){this.listeners.push(a)}function z(a,b){var c=a.fullName,d=a.prefix,h=d?O[d]||(O[d]=u[d]):null,f,e;c&&(f=T[c]);if(!f&&(e=!0,f={id:(d&&!h?X++ +"__p@:":"")+(c||"__r@"+X++),map:a,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:t},E[f.id]=!0,c&&(!d||O[d])))T[c]=f;d&&!h?(c=z(g(d),!0),c.add(function(){var b=g(a.originalName,a.parentMap),b=z(b,
!0);f.placeholder=!0;b.add(function(a){f.callback=function(){return a};s(f)})})):e&&b&&(C[f.id]=!1,l.paused.push(f),q(f));return f}function G(a,b,c,d){var a=g(a,d),h=a.name,f=a.fullName,e=z(a),k=e.id,j=e.deps,i;if(f){if(f in u||!0===C[k]||"jquery"===f&&v.jQuery&&v.jQuery!==c().fn.jquery)return;E[k]=!0;C[k]=!0;"jquery"===f&&c&&U(c())}e.depArray=b;e.callback=c;for(c=0;c<b.length;c++)if(k=b[c])k=g(k,h?a:d),i=k.fullName,b[c]=i,"require"===i?j[c]=n(a):"exports"===i?(j[c]=u[f]={},e.usingExports=!0):"module"===
i?e.cjsModule=j[c]={id:h,uri:h?l.nameToUrl(h,null,d):void 0,exports:u[f]}:i in u&&!(i in J)&&(!(f in L)||f in L&&S[i])?j[c]=u[i]:(f in L&&(L[i]=!0,delete u[i],V[k.url]=!1),e.depCount+=1,e.depCallbacks[c]=r(e,c),z(k,!0).add(e.depCallbacks[c]));e.depCount?q(e):s(e)}function A(a){G.apply(null,a)}function N(a,b){if(!a.isDone){var c=a.map.fullName,d=a.depArray,h,f,e,k;if(c){if(b[c])return u[c];b[c]=!0}if(d)for(h=0;h<d.length;h++)if(f=d[h])if((e=g(f).prefix)&&(k=J[e])&&N(k,b),(e=J[f])&&!e.isDone&&C[f])f=
N(e,b),a.depCallbacks[h](f);return c?u[c]:void 0}}function D(){var b=1E3*v.waitSeconds,c=b&&l.startTime+b<(new Date).getTime(),b="",d=!1,g=!1,e;if(!(0<l.pausedCount)){if(v.priorityWait)if(f())w();else return;for(e in C)if(!(e in F)&&(d=!0,!C[e]))if(c)b+=e+" ";else{g=!0;break}if(d||l.waitCount){if(c&&b)return e=j("timeout","Load timeout for modules: "+b),e.requireType="timeout",e.requireModules=b,o.onError(e);if(g||l.scriptCount){if((h||a)&&!W)W=setTimeout(function(){W=0;D()},50)}else{if(l.waitCount){for(M=
0;b=K[M];M++)N(b,{});l.paused.length&&w();5>R&&(R+=1,D())}R=0;o.checkReadyState()}}}}var l,w,v={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},B=[],E={require:!0,exports:!0,module:!0},H={},u={},C={},J={},K=[],V={},X=0,T={},O={},L={},S={},Q=0;U=function(a){if(!l.jQuery&&(a=a||("undefined"!==typeof jQuery?jQuery:null))&&!(v.jQuery&&a.fn.jquery!==v.jQuery)&&("holdReady"in a||"readyWait"in a))if(l.jQuery=a,A(["jquery",[],function(){return jQuery}]),l.scriptCount)c(a,!0),l.jQueryIncremented=
!0};w=function(){var a,b,c,d,h,g;Q+=1;if(0>=l.scriptCount)l.scriptCount=0;for(;B.length;){a=B.shift();if(null===a[0])return o.onError(j("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));A(a)}if(!v.priorityWait||f())for(;l.paused.length;){h=l.paused;l.pausedCount+=h.length;l.paused=[];for(d=0;a=h[d];d++)b=a.map,c=b.url,g=b.fullName,b.prefix?p(b.prefix,a):!V[c]&&!C[g]&&(o.load(l,g,c),0!==c.indexOf("empty:")&&(V[c]=!0));l.startTime=(new Date).getTime();l.pausedCount-=h.length}1===Q&&
D();Q-=1};l={contextName:b,config:v,defQueue:B,waiting:J,waitCount:0,specified:E,loaded:C,urlMap:H,urlFetched:V,scriptCount:0,defined:u,paused:[],pausedCount:0,plugins:O,needFullExec:L,fake:{},fullExec:S,managerCallbacks:T,makeModuleMap:g,normalize:d,configure:function(a){var b,c,d;a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");b=v.paths;d=v.pkgs;i(v,a,!0);if(a.paths){for(c in a.paths)c in F||(b[c]=a.paths[c]);v.paths=b}if((b=a.packagePaths)||a.packages){if(b)for(c in b)c in
F||m(d,b[c],c);a.packages&&m(d,a.packages);v.pkgs=d}if(a.priority)c=l.requireWait,l.requireWait=!1,l.takeGlobalQueue(),w(),l.require(a.priority),w(),l.requireWait=c,v.priorityWait=a.priority;if(a.deps||a.callback)l.require(a.deps||[],a.callback)},requireDefined:function(a,b){return g(a,b).fullName in u},requireSpecified:function(a,b){return g(a,b).fullName in E},require:function(a,c,d){if("string"===typeof a){if(e(c))return o.onError(j("requireargs","Invalid require call"));if(o.get)return o.get(l,
a,c);c=g(a,c);a=c.fullName;return!(a in u)?o.onError(j("notloaded","Module name '"+c.fullName+"' has not been loaded yet for context: "+b)):u[a]}(a&&a.length||c)&&G(null,a,c,d);if(!l.requireWait)for(;!l.scriptCount&&l.paused.length;)l.takeGlobalQueue(),w();return l.require},takeGlobalQueue:function(){I.length&&(x.apply(l.defQueue,[l.defQueue.length-1,0].concat(I)),I=[])},completeLoad:function(a){var b;for(l.takeGlobalQueue();B.length;)if(b=B.shift(),null===b[0]){b[0]=a;break}else if(b[0]===a)break;
else A(b),b=null;b?A(b):A([a,[],"jquery"===a&&"undefined"!==typeof jQuery?function(){return jQuery}:null]);U();o.isAsync&&(l.scriptCount-=1);w();o.isAsync||(l.scriptCount-=1)},toUrl:function(a,b){var c=a.lastIndexOf("."),d=null;-1!==c&&(d=a.substring(c,a.length),a=a.substring(0,c));return l.nameToUrl(a,d,b)},nameToUrl:function(a,b,c){var h,g,f,e,k=l.config,a=d(a,c&&c.fullName);if(o.jsExtRegExp.test(a))b=a+(b?b:"");else{h=k.paths;g=k.pkgs;c=a.split("/");for(e=c.length;0<e;e--)if(f=c.slice(0,e).join("/"),
h[f]){c.splice(0,e,h[f]);break}else if(f=g[f]){a=a===f.name?f.location+"/"+f.main:f.location;c.splice(0,e,a);break}b=c.join("/")+(b||".js");b=("/"===b.charAt(0)||b.match(/^\w+:/)?"":k.baseUrl)+b}return k.urlArgs?b+((-1===b.indexOf("?")?"?":"&")+k.urlArgs):b}};l.jQueryCheck=U;l.resume=w;return l}function b(){var a,b,c;if(G&&"interactive"===G.readyState)return G;a=document.getElementsByTagName("script");for(b=a.length-1;-1<b&&(c=a[b]);b--)if("interactive"===c.readyState)return G=c;return null}var q=
/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,r=/require\(\s*["']([^'"\s]+)["']\s*\)/g,t=/^\.\//,k=/\.js$/,s=Object.prototype.toString,p=Array.prototype,y=p.slice,x=p.splice,h=!!("undefined"!==typeof window&&navigator&&document),a=!h&&"undefined"!==typeof importScripts,g=h&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,n="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),F={},z={},I=[],G=null,R=0,P=!1,o,p={},N,A,D,K,w,E,H,M,B,U,W;if("undefined"===typeof define){if("undefined"!==
typeof requirejs){if(e(requirejs))return;p=requirejs;requirejs=void 0}"undefined"!==typeof require&&!e(require)&&(p=require,require=void 0);o=requirejs=function(a,b,c){var h="_",g;!d(a)&&"string"!==typeof a&&(g=a,d(b)?(a=b,b=c):a=[]);if(g&&g.context)h=g.context;c=z[h]||(z[h]=f(h));g&&c.configure(g);return c.require(a,b)};o.config=function(a){return o(a)};require||(require=o);o.toUrl=function(a){return z._.toUrl(a)};o.version="1.0.2";o.jsExtRegExp=/^\/|:|\?|\.js$/;A=o.s={contexts:z,skipAsync:{}};if(o.isAsync=
o.isBrowser=h)if(D=A.head=document.getElementsByTagName("head")[0],K=document.getElementsByTagName("base")[0])D=A.head=K.parentNode;o.onError=function(a){throw a;};o.load=function(a,b,d){o.resourcesReady(!1);a.scriptCount+=1;o.attach(d,a,b);if(a.jQuery&&!a.jQueryIncremented)c(a.jQuery,!0),a.jQueryIncremented=!0};define=function(a,c,h){var g,f;"string"!==typeof a&&(h=c,c=a,a=null);d(c)||(h=c,c=[]);!c.length&&e(h)&&h.length&&(h.toString().replace(q,"").replace(r,function(a,b){c.push(b)}),c=(1===h.length?
["require"]:["require","exports","module"]).concat(c));if(P&&(g=N||b()))a||(a=g.getAttribute("data-requiremodule")),f=z[g.getAttribute("data-requirecontext")];(f?f.defQueue:I).push([a,c,h])};define.amd={multiversion:!0,plugins:!0,jQuery:!0};o.exec=function(a){return eval(a)};o.execCb=function(a,b,c,d){return b.apply(d,c)};o.addScriptToDom=function(a){N=a;K?D.insertBefore(a,K):D.appendChild(a);N=null};o.onScriptLoad=function(a){var b=a.currentTarget||a.srcElement,c;if("load"===a.type||b&&g.test(b.readyState))G=
null,a=b.getAttribute("data-requirecontext"),c=b.getAttribute("data-requiremodule"),z[a].completeLoad(c),b.detachEvent&&!n?b.detachEvent("onreadystatechange",o.onScriptLoad):b.removeEventListener("load",o.onScriptLoad,!1)};o.attach=function(b,c,d,g,f,e){var k;if(h)return g=g||o.onScriptLoad,k=c&&c.config&&c.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),k.type=f||"text/javascript",k.charset="utf-8",k.async=!A.skipAsync[b],c&&k.setAttribute("data-requirecontext",
c.contextName),k.setAttribute("data-requiremodule",d),k.attachEvent&&!n?(P=!0,e?k.onreadystatechange=function(){if("loaded"===k.readyState)k.onreadystatechange=null,k.attachEvent("onreadystatechange",g),e(k)}:k.attachEvent("onreadystatechange",g)):k.addEventListener("load",g,!1),k.src=b,e||o.addScriptToDom(k),k;a&&(importScripts(b),c.completeLoad(d));return null};if(h){w=document.getElementsByTagName("script");for(M=w.length-1;-1<M&&(E=w[M]);M--){if(!D)D=E.parentNode;if(H=E.getAttribute("data-main")){if(!p.baseUrl)w=
H.split("/"),E=w.pop(),w=w.length?w.join("/")+"/":"./",p.baseUrl=w,H=E.replace(k,"");p.deps=p.deps?p.deps.concat(H):[H];break}}}o.checkReadyState=function(){var a=A.contexts,b;for(b in a)if(!(b in F)&&a[b].waitCount)return;o.resourcesReady(!0)};o.resourcesReady=function(a){var b,d;o.resourcesDone=a;if(o.resourcesDone)for(d in a=A.contexts,a)if(!(d in F)&&(b=a[d],b.jQueryIncremented))c(b.jQuery,!1),b.jQueryIncremented=!1};o.pageLoaded=function(){if("complete"!==document.readyState)document.readyState=
"complete"};if(h&&document.addEventListener&&!document.readyState)document.readyState="loading",window.addEventListener("load",o.pageLoaded,!1);o(p);if(o.isAsync&&"undefined"!==typeof setTimeout)B=A.contexts[p.context||"_"],B.requireWait=!0,setTimeout(function(){B.requireWait=!1;B.takeGlobalQueue();B.jQueryCheck();B.scriptCount||B.resume();o.checkReadyState()},0)}})();define("requireLib",function(){});
(function(){var e,d,i,j,m,c,f,b,q,r,t,k,s=Array.prototype.slice,p=Object.prototype.hasOwnProperty,y=function(b,c){function a(){this.constructor=b}for(var d in c)p.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};e="function"===typeof("undefined"!==typeof console&&null!==console?console.error:void 0)&&function(b){return console.error(b)}||function(){};m=this;i=m.document||{createElement:function(){}};q="object"===typeof Node?function(b){return b instanceof
Node}:function(b){return"object"===typeof b&&"number"===typeof b.nodeType&&"string"===typeof b.nodeName};b=Array.isArray?Array.isArray:function(){return function(b){return b.push===push&&null!=b.length}}();c=Function.prototype.bind?function(b,c){return b.bind(c)}:function(b,c){return function(){return b.apply(c,arguments)}};f=function(){return i.createElement("div")};k=f();t=function(c,d){for(var a,g;0<d.length;)if(null!=(a=d.shift()))q(a)?c.appendChild(a):"string"===(g=typeof a)||"number"===g?c.appendChild(i.createTextNode(a)):
b(a)?Array.prototype.unshift.apply(d,a):e("renderNodes: unsupported child type = "+a);return c};m.cell=d=function(){function d(h){var a,g,f,e,k,j,i;this.options=null!=h?h:{};if(null!=this.options.model)this.model=this.options.model;"function"===typeof this.init&&this.init(this.options);this.$el=jQuery(this.el=this._tag());if(h=this.options.id)this.el.id=h;i=[this.cell.prototype.name,this["class"],this.options["class"]];for(h=0,j=i.length;h<j;h++)if(k=i[h])this.el.className+=h&&" "+k||k;t(this.el,
b(f="function"===typeof this.render?this.render(this.$R):void 0)&&f||[]);h=this.on;for(a in h)if(f=h[a],"function"===typeof f&&(e=/^([A-z]+)(\s(.*))?$/.exec(a))&&(g=e[1]))this.$el.on(g,e[3],c(f,this));"function"===typeof this.afterRender&&this.afterRender()}d.prototype.$=function(b){return jQuery(b,this.el)};d.prototype.$R=function(){var b,a,c,d,f,j,r,p;b=arguments[0];a=arguments[1];c=3<=arguments.length?s.call(arguments,2):[];if(b){if((null!=a?a.constructor:void 0)!==Object)c.unshift(a),a=void 0;
return(r=function(){if("string"===typeof b){if(j=/^(\w+)?(#([\w\-]+))*(\.[\w\.\-]+)?$/.exec(b)){d=i.createElement(j[1]||"div");if(p=j[3])d.id=p;if(a)for(f in"class"in a&&(d.className+=a["class"],delete a["class"]),a)p=a[f],d.setAttribute(f,p);if(p=j[4])d.className+=p.replace(/\./g," ");return d}return/^<[A-z]/.test(b)?(k.innerHTML=b,k.children[0]):e("renderParent: unsupported parent string = '"+b+"'")}return b.prototype.cell===b?(new b(a)).el:q(b)?b:e("renderParent: unsupported parent type = "+b)}())&&
t(r,c)}};return d}();d.extend=function(b){var c,a,g,e,j;null==b&&(b={});if("object"!==typeof b)throw"cell.extend(): expects an object {render,init,name}";if(b.init&&"function"!==typeof b.init||b.render&&"function"!==typeof b.render)throw"cell.extend(): expects {render,init} to be functions";c=function(){function a(){a.__super__.constructor.apply(this,arguments)}y(a,d);return a}();for(a in b)j=b[a],c.prototype[a]=j;c.prototype.cell=c;c.prototype._tag="string"===(e=typeof b.tag)?function(){k.innerHTML=
b.tag;return k.children[0]||f()}:"function"===e?function(){k.innerHTML=this.tag();return k.children[0]||f()}:f;if("string"===typeof(a=b.css))g=i.createElement("style"),g.innerHTML=a;else if("string"===typeof(a=b.css_href))g=i.createElement("link"),g.href=a,g.rel="stylesheet";if(g)g.type="text/css",$("head")[0].appendChild(g);return c};"function"===typeof define&&"function"===typeof require&&(r=/(.*\/)?(.*)$/,define("cell",[],j={pluginBuilder:"cell-builder-plugin",load:function(b,c,a){c([b],function(f){var k;
if("object"!==typeof f)e("Couldn't load "+b+" cell. cell definitions should be objects, but instead was "+typeof f);else{f.name=r.exec(b)[2];if(null==(null!=(k=j.__preinstalledCells__)?k[b]:void 0)&&null==f.css_href)f.css_href=c.toUrl(""+b+".css");"string"===typeof f["extends"]?c(["cell!"+f["extends"]],function(b){b.prototype.name&&(f["class"]=b.prototype.name+(" "+f["class"])||"");a(b.extend(f))}):a(d.extend(f))}})}}),jQuery(i).ready(function(){jQuery("[data-cell]").each(function(){var b,c,a,d,f=
this;if(a=this.getAttribute("data-cell")){d={};b=/(^\?cachebust)|(&cachebust)/.test(m.location.search);if((null!==(c=this.getAttribute("data-cell-cachebust"))||b)&&"false"!==c)d.urlArgs="bust="+(new Date).getTime();if(b=this.getAttribute("data-cell-baseurl"))d.baseUrl=b;require(d,["cell!"+a],function(a){jQuery(f).append((new a).el)})}})}))}).call(this);
define("AppConfig",["cell!pages/schedule/Schedule"],function(){return{contexts:{Schedule:{defaultPagePath:"pages/schedule/Schedule"},Watch:{defaultPagePath:"pages/watch/Watch"},Search:{defaultPagePath:"pages/watch/Watch"}},defaultContext:"Schedule"}});var __slice=Array.prototype.slice;
define("data/JSONP",[],function(){var e,d,i,j;d=function(d){return d};j=0;i=function(d){var c,f;c="__jsonp"+ ++j;window[c]=function(b){d.success(b);window[c]=void 0;return $("#"+c).remove()};if(null==d.callback)d.callback="callback";f=document.createElement("script");f.id=c;f.setAttribute("type","text/javascript");f.setAttribute("src",""+d.url+(-1===d.url.indexOf("?")&&"?"||"&")+d.callback+"="+c);return $("head").append(f)};e=-1<window.location.search.indexOf("mock-service=true")?function(d,c){var f,
b;f=d.mock;b=d.real;return setTimeout(function(){return require([f],function(d){return c("function"===typeof d?d(b):d)})},0)}:function(d,c){return i({callback:"jsonp",url:d.real,success:c||function(){}})};return{JSONPService:function(){return function(j,c){var f,b,i,r,t,k,s=this;f=c.baseURL;t=c.process;b=c.methods;null==t&&(t=d);k=function(b,c){var k,h,a;h=t;k=d;if("object"===(a=typeof c)&&"function"!==a){if(null!=c.process)h=c.process;c=c.path;if(null!=c.getCache)k=c.getCache}"string"===typeof c&&
function(){var a;a=c;return c=function(){return a}}();return s[b]=function(){var a,i,s,r;a=2<=arguments.length?__slice.call(arguments,0,r=arguments.length-1):(r=0,[]);s=arguments[r++];null==s&&(s=d);void 0!==(i=k())?s(i):e({mock:"data/mock/"+j+"/"+b,real:f+c.apply(null,a)},function(a){a=h(a);s(a)})}};for(i in b)r=b[i],k(i,r)}}()}});
define("data/UserService",["data/JSONP"],function(e){return new e.JSONPService("users",{baseURL:"api/users/",methods:{getWatchedShows:function(){return"pwong/watched-shows"},getShows:function(d){return"pwong/schedule/"+(d.getYear()+1900)+"-"+d.getMonth()+"-"+d.getDate()}}})});define("data/ActorService",["data/JSONP"],function(e){return new e.JSONPService("actors",{baseURL:"api/actors/",methods:{getDetails:function(d){return""+d}}})});
define("data/ShowService",["data/JSONP"],function(e){return new e.JSONPService("shows",{baseURL:"api/shows/",methods:{getDetails:function(d){return""+d}}})});define("Services",["data/UserService","data/ActorService","data/ShowService"],function(e,d,i){return{user:e,show:i,actor:d}});
define("shared/DateHelper",[],function(){var e,d,i;i=new Date;d=["Today","Yesterday"].concat(function(){var d;d=[];for(e=2;7>e;e++)d.push(""+e+" days ago");return d}(),"a week ago");return{getDisplayable:function(e){return i.getYear()===e.getYear()&&i.getMonth()===e.getMonth()?d[i.getDate()-e.getDate()]:e.toLocaleDateString()}}});
define("pages/schedule/Schedule",["require","Services","shared/DateHelper","cell!shared/ListView"],function(e,d,i,j){return{init:function(){var d=this;return this.model.bind({activate:function(){d.model.set({title:i.getDisplayable(new Date)});return d.$("#ShowList").trigger("resetActive")}})},render:function(i){var c=this;return d.user.getShows(new Date,function(d){var b;c.$el.append(i(j,{id:"ShowList",list:function(){var c,e,i;i=[];for(c=0,e=d.length;c<e;c++)b=d[c],i.push({link:"pages/showdetails/ShowDetails?id="+
b.id+"&title="+b.title,text:b.title});return i}()}));c.model.trigger("refreshScroller");return e(["pages/showdetails/ShowDetails"],function(){})})}}});
define("shared/ListView",{tag:"<ul>",render:function(e){var d,i,j,m,c,f,b,q;if(j=this.options.list){q=[];for(c=0,f=j.length;c<f;c++)if(b=j[c],m=b.text,i=b.link,d=b.dividerText,m||d)m?q.push(e("<li data-navto='"+i+"'>",e("div"),m)):q.push(e("li.divider",d));return q}},on:{resetActive:function(){return this.$("li.active").removeClass("active").addClass("deactive")},"webkitAnimationEnd li > div":function(){return this.$("li.deactive").removeClass("deactive")},"click li":function(e){e=e.target;this.$("li.active").removeClass("active");
return $(e).closest("li").addClass("active")}}});define("HashDelegate",{set:function(e){return window.location.hash=e},get:function(){return window.location.hash},onChange:function(e){return $(window).on("hashchange",e)}});
define("framework/Model",[],function(){var e,d;e=/^change:(.*)/;d=function(d,e){var m,c,f;for(c=0,f=d.length;c<f;c++)if(m=d[c],m===e)return;return d.unshift(e)};return function(){function i(c){var d,b;this._ls={};for(d in c)b=c[d],this[d]=b}var j,m;i.pathObj=m=function(c,d){var b,e;if(c){e=d.length;for(b=0;b<e&&null!=(c=c[d[b++]]););return c}};i.parsePropChange=j=function(c){var d,b;return null!=(d=e.exec(c))?null!=(b=d[1])?b.split("."):void 0:void 0};i.prototype.set=function(c,d){var b,e,i;for(b in c)if(i=
c[b],this[b]!==i){e=this[b];try{this.trigger({cur:this[b]=i,prev:e,property:b,type:"change:"+b,data:d})}catch(j){}}};i.prototype.trigger=function(c,d){var b,e,i,j,k;b="string"===typeof c?{type:c,data:d}:c;b.model=this;if(i=this._ls[b.type])for(j=0,k=i.length;j<k;j++){e=i[j];try{e(b)}catch(s){}}};i.prototype.bindAndCall=function(c){var e,b,q,r;b=this;r=function(c){var e,f,p,r,x,h,a,g,n,F,z;if(h=j(q)){f=h.length-1;n=h[f];x=h.slice(0,f);a=function(a,b){var c,e,f;return d(null!=(f=(c=b._ls)[e="change:"+
h[a]])?f:c[e]=[],g[a])};p=b;g=[];F=function(b){g[b]=function(d){for(var e=b,g=d.cur,k=d.prev,j=d.model;e++<f;g=(j=g)&&g[h[e]],k=k&&k[h[e]])g instanceof i&&a(e,g);e={cur:g,prev:k,property:n,type:"change:"+n,model:j,data:d.data};if(b!==f)e.parentEvent=d;return c(e)};if(p instanceof i)return a(b,p),p=p[r]};for(e=0,z=h.length;e<z;e++)r=h[e],F(e);try{return c({cur:p,property:n,type:q,model:m(b,x)})}catch(I){return console.error((null!=I?I.stack:void 0)||I)}}else{d(null!=(x=(e=b._ls)[q])?x:e[q]=[],c);try{return c({type:q,
model:b})}catch(G){}}};for(q in c)e=c[q],r(e)};i.prototype.bind=function(c){var e,b,m,r,t,k,s,p,y,x;for(r in c){b=c[r];if(e=j(r)){y=e.slice(0,-1);for(s=0,p=y.length;s<p;s++)if(m=y[s],(t=this[m])instanceof i)e={},e["change:"+m]=function(){},t.bind(e)}d(null!=(x=(k=this._ls)[r])?x:k[r]=[],b)}};i.prototype.unbind=function(c){var d,b,e,i,j,k;for(j in c)if(d=c[j],i=this._ls[j])for(b=0,k=i.length;b<k;b++)e=i[b],e===d&&delete i[b]};return i}()});
define("framework/Nav",["AppConfig","HashDelegate","./Model"],function(e,d,i){var j,m,c,f,b,q,r,t;f=/^\#([^!^?]+)(!([^?]+))?(\?(.+))?/;r=void 0;t=!1;j=new i({toHash:q=function(b){var c,d,f,i;c=b.context;d=b.page;b=b.data;c=e.contexts[c]&&c||e.defaultContext;d="#"+c+"!"+(d||e.contexts[c].defaultPagePath);if(b)for(f in c="?",b)i=b[f],d+=""+c+f+"="+encodeURIComponent(i),c="&";return d},parseHash:b=function(b){var c,d,i,j,h,a,g,r,m,t,q;g=f.exec(b);i={};if(j=null!=g?g[5]:void 0){t=j.split("&");for(j=0,
m=t.length;j<m;j++)h=t[j],q=h.split("="),h=q[0],r=q[1],i[h]=decodeURIComponent(r)}return{data:i,hash:b,context:c=(d=null!=g?g[1]:void 0)&&e.contexts[d]&&d||e.defaultContext,page:(a=null!=g?g[3]:void 0)&&"/"!==a.substr(-1)&&a||e.contexts[c].defaultPagePath}},current:function(){var c,e;e=b(d.get());if(e.hash!==(c=q(e)))e.hash=c,t=!0;return new i(e)}(),canBack:function(){var b;return 1<(null!=(b=m[j.current.context])?b.length:void 0)},goBack:function(){var b;b=m[j.current.context];if(1<b.length)return r=
b[1],d.set(r.hash)},goTo:function(b){return d.set("#"+j.current.context+"!"+b)},switchContext:function(b){var c;if("string"===typeof b&&(c=m[b])&&j.current.context!==b)return d.set(q(c[0]||{context:b,page:e.contexts[b].defaultPage}))}});window.ctxHists=m={};for(c in e.contexts)m[c]=[];m[j.current.context].push(j.current);j.bind({"change:current":function(b){var c,d,e;c={};for(d in b)e=b[d],c[d]=e;c.type="change:current[context="+b.cur.context+"]";return j.trigger(c)}});d.onChange(function(){var c,
e,f,q;if(t)t=!1;else if(f=b(d.get()),e=m[f.context],c=r,r=void 0,j.current.context!==f.context)j.set({current:e.length?e[0]:(e.unshift(f=new i(f)),f)},{isBack:!1,isContextSwitch:!0});else if(c){for(q=0;e[q++].hash!==c.hash;);f=c;e.splice(0,q-1);j.set({current:f},{isBack:!0,isContextSwitch:!1})}else if(f.hash===(null!=(q=e[1])?q.hash:void 0))f=e[1],e.splice(0,1),j.set({current:f},{isBack:!0,isContextSwitch:!1});else if(0===e.length||e[0].hash!==f.hash)e.unshift(f=new i(f)),j.set({current:f},{isBack:!1,
isContextSwitch:!1})});t&&d.set(j.current.hash);return j});var __hasProp=Object.prototype.hasOwnProperty,__extends=function(e,d){function i(){this.constructor=e}for(var j in d)__hasProp.call(d,j)&&(e[j]=d[j]);i.prototype=d.prototype;e.prototype=new i;e.__super__=d.prototype;return e};
define("framework/ContextModel",["./Model"],function(e){return function(){function d(i){var j,m,c,f,b,q=this;c=i.id;f=i.initialHash;m=i.hashManager;i=i.defaultPagePath;d.__super__.constructor.call(this,{id:c,defaultPagePath:i,currentPageModel:j=new e(f),pageHistory:b=[j]});(j={})["change:current[context="+c+"]"]=function(c){var d,f;d=c.cur;c=c.prev;if(!(c=d.context!==(null!=c?c.context:void 0)))(null!=(f=b[1])?f.hash:void 0)===d.hash?b.splice(0,1):b.unshift(new e(d));return q.set({currentPageModel:b[0]},
{isContextSwitch:c})};m.bind(j)}__extends(d,e);return d}()});
define("framework/Context",["require","./Model","./Nav","cell!./Page"],function(e,d,i,j){return{tag:function(){return"<div data-ctxid='"+this.options.contextid+"'>"},afterRender:function(){var d,c,e,b,q;q={};e=null;d=this.$el;b=(c={})["change:current[context="+this.options.contextid+"]"]=function(b){var c,i,s,p,y,x;c=b.cur;p=b.prev;s=b.data,b=s.isBack,i=s.isContextSwitch;if(!i){s=q[c.hash];if((y=p&&q[p.hash])&&b)q[p.hash]=void 0,y.$el.bind("webkitAnimationEnd",function(){return y.$el.remove()});s||
(s=q[c.hash]=new j({model:c}));s.$el.prependTo(d);c="Page animate "+((null!=p?p.context:void 0)===c.context?(x=b&&"-reverse"||"",null!=e&&e.$el.attr("class","Page animate headingOut"+x),null!=e&&e.model.trigger("deactivate"),"headingIn"+x):"fadeIn");s.$el.attr("class",c);return(e=s).model.trigger({type:"activate",isback:b})}};i.bind(c);return b({cur:this.options.initialHash,data:{isBack:!1}})}}});
define("framework/Page",["require","./Nav"],function(e,d){return{tag:function(){return"<div data-cellpath='"+this.model.page+"'>"},render:function(d){var j=this;return e(["cell!"+this.model.page],function(e){j.$el.append(d(e,{model:j.model}));return j.pageRendered()})},pageRendered:function(){var d,e,m=this;d=!0;this.model.bind({deactivate:function(){return d=!1}});this.model.bind({activate:function(){d=!0;return m.$el.css("visibility","visible")}});this.$el.bind("webkitAnimationEnd",function(){if(!d)return m.$el.css("visibility",
"hidden")});e=new iScroll(this.el);return this.model.bindAndCall({refreshScroller:function(){return e.refresh()}})},on:{"click *[data-navto]":function(e){return d.goTo($(e.target).closest("[data-navto]").data("navto"))}}}});require(["cell"],function(e){e.__preinstalledCells__={"framework/App":0,"pages/schedule/Schedule":0,"shared/ListView":0,"framework/Context":0,"framework/ContextNavBar":0,"framework/Page":0,"framework/TitleBar":0}});var hideAddressBar,ua;document.addEventListener("touchmove",function(e){return e.preventDefault()});
hideAddressBar=function(){var e,d;e=0;setTimeout(d=function(){if(1===++e)return window.scrollTo(0,1)},500);return $(window).bind("resize",function(){e=0;return d()})};$("body").attr("class",(ua=navigator.userAgent).match(/iPhone/i)||ua.match(/iPod/i)||ua.match(/iPad/i)?window.navigator.standalone?"IOSFullScreen":(hideAddressBar(),"IOS"):(hideAddressBar(),"ANDROID"));
define("framework/App","./Nav,./Model,./ContextModel,cell!./Context,cell!./ContextNavBar,cell!./TitleBar".split(","),function(e,d,i,j,m,c){var f;f={};return{render:function(b){return[b(c),b("#content"),b(m)]},afterRender:function(){var b,c=this;b=this.$("#content");return e.bindAndCall({"change:current":function(d){var e,i,m;e=d.cur;i=d.prev;d=d.data;if(!d||null!=d&&d.isContextSwitch){if(!(d=f[e.context]))d=f[e.context]=new j({contextid:e.context,initialHash:e}),b.append(d.$el);d.$el.toggle(!0);if(i=
null!=i?i.context:void 0)null!=(m=f[i])&&m.$el.toggle(!1);d?(c.$("#content > .activeTab").removeClass("activeTab"),d.$el.toggle(!0).toggleClass("activeTab",!0)):"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log("Could not switch to context = '"+e.context+"'")}}})}}});
define("framework/ContextNavBar",["AppConfig","./Nav"],function(e,d){return{tag:"<ul>",render:function(d){var j,m,c,f;c=e.contexts;f=[];for(j in c)m=c[j].text,f.push(d("<li data-ctxid='"+j+"'>",m||j));return[f]},on:{"click li":function(e){e=e.target;$("li.active").removeClass("active");return d.switchContext($(e).addClass("active").data("ctxid"))}}}});
define("framework/TitleBar",["framework/Nav"],function(e){return{render:function(d){return[d("#backbutton",d("span","Back")),d("#titles",d("#title"),d("#prevtitle")),d("#gobutton",d("span","Do It"))]},afterRender:function(){var d,i,j,m;m=!1;d=this.$("#backbutton");this.$("#backbutton > span");j=this.$("#title");i=this.$("#prevtitle");j.bind("webkitAnimationEnd",function(){j.attr("class","");i.attr("class","");return m=!1});return e.bindAndCall({"change:current.title":function(c){var f,b;f=c.cur;b=
c.prev;c=c.data;c=null!=c?c.isBack:void 0;j.html(f||"");if(!m)return d.css("visibility",e.canBack()&&"visible"||"hidden"),f=c&&"-reverse"||"",b&&i.html(b).attr("class","animate headingOut"+f),j.attr("class","animate headingIn"+f),m=!0}})},on:{"click #backbutton":function(){return e.goBack()}}}});
