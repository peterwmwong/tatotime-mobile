/*
 RequireJS 1.0.2 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/requirejs for details
*/
(function(){var f=Math,e=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",h="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,g="ontouchstart"in window,k=e+"Transform"in document.documentElement.style,d=/iphone|ipad/gi.test(navigator.appVersion),i=/playbook/gi.test(navigator.appVersion),c=d||i,o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),n=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,b="onorientationchange"in window?"orientationchange":"resize",m=g?"touchstart":"mousedown",v=g?"touchmove":"mousemove",q=g?"touchend":"mouseup",y=g?"touchcancel":"mouseup",r="translate"+(h?"3d(":"("),u=h?",0)":")",h=function(a,
p){var s;this.wrapper="object"==typeof a?a:document.getElementById(a);this.wrapper.style.overflow="hidden";this.scroller=this.wrapper.children[0];this.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(s in p)this.options[s]=
p[s];this.x=this.options.x;this.y=this.options.y;this.options.useTransform=k?this.options.useTransform:!1;this.options.hScrollbar=this.options.hScroll&&this.options.hScrollbar;this.options.vScrollbar=this.options.vScroll&&this.options.vScrollbar;this.options.useTransition=c&&this.options.useTransition;this.scroller.style[e+"TransitionProperty"]=this.options.useTransform?"-"+e.toLowerCase()+"-transform":"top left";this.scroller.style[e+"TransitionDuration"]="0";this.scroller.style[e+"TransformOrigin"]=
"0 0";this.options.useTransition&&(this.scroller.style[e+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");this.options.useTransform?this.scroller.style[e+"Transform"]=r+this.x+"px,"+this.y+"px"+u:this.scroller.style.cssText+=";position:absolute;top:"+this.y+"px;left:"+this.x+"px";this.refresh();this._bind(b,window);this._bind(m);g||this._bind("mouseout",this.wrapper)};h.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,handleEvent:function(a){switch(a.type){case m:if(!g&&0!==a.button)break;
this._start(a);break;case v:this._move(a);break;case q:case y:this._end(a);break;case b:this._resize();break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_resize:function(){this.refresh()},_pos:function(a,p){a=this.hScroll?a:0;p=this.vScroll?p:0;this.options.useTransform?this.scroller.style[e+"Transform"]=r+a+"px,"+p+"px"+u+" scale("+this.scale+")":(a=f.round(a),p=f.round(p),this.scroller.style.left=a+"px",this.scroller.style.top=p+"px");this.x=a;this.y=
p},_start:function(a){var p=g?a.touches[0]:a,s,b;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,a);this.options.useTransition&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum&&(this.options.useTransform?(s=getComputedStyle(this.scroller,null)[e+"Transform"].replace(/[^0-9-.,]/g,"").split(","),b=1*s[4],s=1*s[5]):(b=1*getComputedStyle(this.scroller,
null).left.replace(/[^0-9-]/g,""),s=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),b!=this.x||s!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):n(this.aniTime),this.steps=[],this._pos(b,s);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=p.pageX;this.pointY=p.pageY;this.startTime=a.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,a);this._bind(v);this._bind(q);this._bind(y)}},
_move:function(a){var p=g?a.touches[0]:a,s=p.pageX-this.pointX,b=p.pageY-this.pointY,c=this.x+s,d=this.y+b,e=a.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,a);this.pointX=p.pageX;this.pointY=p.pageY;if(0<c||c<this.maxScrollX)c=this.options.bounce?this.x+s/2:0<=c||0<=this.maxScrollX?0:this.maxScrollX;if(0<d||d<this.maxScrollY)d=this.options.bounce?this.y+b/2:0<=d||0<=this.maxScrollY?0:this.maxScrollY;if(6>this.absDistX&&6>this.absDistY)this.distX+=
s,this.distY+=b,this.absDistX=f.abs(this.distX),this.absDistY=f.abs(this.distY);else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)d=this.y,b=0;else if(this.absDistY>this.absDistX+5)c=this.x,s=0;this.moved=!0;this._pos(c,d);this.dirX=0<s?-1:0>s?1:0;this.dirY=0<b?-1:0>b?1:0;if(300<e-this.startTime)this.startTime=e,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}},_end:function(a){if(!(g&&0!=a.touches.length)){var p=g?a.changedTouches[0]:
a,b,c,d={dist:0,time:0},e={dist:0,time:0},h=(a.timeStamp||Date.now())-this.startTime;b=this.x;c=this.y;this._unbind(v);this._unbind(q);this._unbind(y);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,a);if(this.moved){if(300>h&&this.options.momentum){d=b?this._momentum(b-this.startX,h,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):d;e=c?this._momentum(c-this.startY,h,-this.y,0>this.maxScrollY?this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?
this.wrapperH:0):e;b=this.x+d.dist;c=this.y+e.dist;if(0<this.x&&0<b||this.x<this.maxScrollX&&b<this.maxScrollX)d={dist:0,time:0};if(0<this.y&&0<c||this.y<this.maxScrollY&&c<this.maxScrollY)e={dist:0,time:0}}d.dist||e.dist?(p=f.max(f.max(d.time,e.time),10),this.scrollTo(b,c,p)):this._resetPos(200)}else{if(g){for(b=p.target;1!=b.nodeType;)b=b.parentNode;if("SELECT"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName)c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,a.view,1,p.screenX,
p.screenY,p.clientX,p.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),c._fake=!0,b.dispatchEvent(c)}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,a)}},_resetPos:function(a){var b=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,c=0<=this.y||0<this.maxScrollY?0:this.y<this.maxScrollY?this.maxScrollY:this.y;if(b==this.x&&c==this.y){if(this.moved)this.options.onScrollEnd&&this.options.onScrollEnd.call(this),this.moved=!1}else this.scrollTo(b,c,a||0)},
_mouseout:function(a){var b=a.relatedTarget;if(b)for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,b=a.x,c=a.y,d=Date.now(),e,g,h;if(!a.animating)if(a.steps.length){e=a.steps.shift();if(e.x==b&&e.y==c)e.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(e.time),a._pos(e.x,e.y),a.animating=!1,e.time?a._bind("webkitTransitionEnd"):
a._resetPos(0)):(h=function(){var m=Date.now();if(m>=d+e.time)a._pos(e.x,e.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();else if(m=(m-d)/e.time-1,g=f.sqrt(1-m*m),m=(e.x-b)*g+b,a._pos(m,(e.y-c)*g+c),a.animating)a.aniTime=o(h)},h())}else a._resetPos(400)},_transitionTime:function(a){this.scroller.style[e+"TransitionDuration"]=a+"ms"},_momentum:function(a,b,c,e,d){var b=f.abs(a)/b,g=b*b/0.0012,h=0,h=0;0<a&&g>c?(c+=d/(6/(6.0E-4*(g/b))),b=b*c/g,g=c):0>a&&g>
e&&(e+=d/(6/(6.0E-4*(g/b))),b=b*e/g,g=e);return{dist:g*(0>a?-1:1),time:f.round(b/6.0E-4)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){this.scroller.style[e+"Transform"]="";this._unbind(b,window);this._unbind(m);this._unbind(v);this._unbind(q);this._unbind(y);
this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a;this.wrapperW=this.wrapper.clientWidth;this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.hScroll=this.options.hScroll&&0>this.maxScrollX;
this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;this.scroller.style[e+"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(a,b,c,e){var d=a;this.stop();d.length||(d=[{x:a,y:b,time:c,relative:e}]);for(a=0,b=d.length;a<b;a++){if(d[a].relative)d[a].x=this.x-d[a].x,d[a].y=this.y-d[a].y;this.steps.push({x:d[a].x,y:d[a].y,time:d[a].time||0})}this._startAni()},
scrollToElement:function(a,b){var c;if(a=a.nodeType?a:this.scroller.querySelector(a))c=this._offset(a),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,c.left=0<c.left?0:c.left<this.maxScrollX?this.maxScrollX:c.left,c.top=0<c.top?0:c.top<this.maxScrollY?this.maxScrollY:c.top,b=void 0===b?f.max(2*f.abs(c.left),2*f.abs(c.top)):b,this.scrollTo(c.left,c.top,b)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(v);this._unbind(q);this._unbind(y)},enable:function(){this.enabled=
!0},stop:function(){n(this.aniTime);this.steps=[];this.animating=this.moved=!1}};"undefined"!==typeof exports?exports.iScroll=h:window.iScroll=h})();var requirejs,require,define;
(function(){function f(a){return"[object Function]"===v.call(a)}function e(a){return"[object Array]"===v.call(a)}function h(a,b,c){for(var e in b)if(!(e in F)&&(!(e in a)||c))a[e]=b[e];return l}function g(a,b,c){a=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);if(c)a.originalError=c;return a}function k(a,c,e){var d,g,f;for(d=0;f=c[d];d++){f="string"===typeof f?{name:f}:f;g=f.location;if(e&&(!g||0!==g.indexOf("/")&&-1===g.indexOf(":")))g=e+"/"+(g||f.name);a[f.name]={name:f.name,location:g||
f.name,main:(f.main||"main").replace(b,"").replace(m,"")}}}function d(a,b){a.holdReady?a.holdReady(b):b?a.readyWait+=1:a.ready(!0)}function i(b){function c(a,b){var e,d;if(a&&"."===a.charAt(0))if(b){w.pkgs[b]?b=[b]:(b=b.split("/"),b=b.slice(0,b.length-1));e=a=b.concat(a.split("/"));var g;for(d=0;g=e[d];d++)if("."===g)e.splice(d,1),d-=1;else if(".."===g)if(1===d&&(".."===e[2]||".."===e[0]))break;else 0<d&&(e.splice(d-1,2),d-=2);d=w.pkgs[e=a[0]];a=a.join("/");d&&a===e+"/"+d.main&&(a=e)}else 0===a.indexOf("./")&&
(a=a.substring(2));return a}function e(a,b){var d=a?a.indexOf("!"):-1,g=null,f=b?b.name:null,m=a,h,i;-1!==d&&(g=a.substring(0,d),a=a.substring(d+1,a.length));g&&(g=c(g,f));a&&(g?h=(d=t[g])&&d.normalize?d.normalize(a,function(a){return c(a,f)}):c(a,f):(h=c(a,f),i=H[h],i||(i=j.nameToUrl(h,null,b),H[h]=i)));return{prefix:g,name:h,parentMap:b,url:i,originalName:m,fullName:g?g+"!"+(h||""):h}}function m(){var a=!0,b=w.priorityWait,c,e;if(b){for(e=0;c=b[e];e++)if(!C[c]){a=!1;break}a&&delete w.priorityWait}return a}
function i(a,b,c){return function(){var e=y.call(arguments,0),d;if(c&&f(d=e[e.length-1]))d.__requireJsBuild=!0;e.push(b);return a.apply(null,e)}}function p(a,b){var c=i(j.require,a,b);h(c,{nameToUrl:i(j.nameToUrl,a),toUrl:i(j.toUrl,a),defined:i(j.requireDefined,a),specified:i(j.requireSpecified,a),isBrowser:l.isBrowser});return c}function n(a){var b,c,d,h=a.callback,m=a.map,i=m.fullName,r=a.deps;d=a.listeners;if(h&&f(h)){if(w.catchError.define)try{c=l.execCb(i,a.callback,r,t[i])}catch(u){b=u}else c=
l.execCb(i,a.callback,r,t[i]);if(i)(h=a.cjsModule)&&void 0!==h.exports&&h.exports!==t[i]?c=t[i]=a.cjsModule.exports:void 0===c&&a.usingExports?c=t[i]:(t[i]=c,L[i]&&(S[i]=!0))}else i&&(c=t[i]=h,L[i]&&(S[i]=!0));if(J[a.id])delete J[a.id],a.isDone=!0,j.waitCount-=1,0===j.waitCount&&(K=[]);delete T[i];if(l.onResourceLoad&&!a.placeholder)l.onResourceLoad(j,m,a.depArray);if(b)return c=(i?e(i).url:"")||b.fileName||b.sourceURL,d=b.moduleTree,b=g("defineerror",'Error evaluating module "'+i+'" at location "'+
c+'":\n'+b+"\nfileName:"+c+"\nlineNumber: "+(b.lineNumber||b.line),b),b.moduleName=i,b.moduleTree=d,l.onError(b);for(b=0;h=d[b];b++)h(c)}function o(a,b){return function(c){a.depDone[b]||(a.depDone[b]=!0,a.deps[b]=c,a.depCount-=1,a.depCount||n(a))}}function s(a,b){var c=b.map,e=c.fullName,d=c.name,g=O[a]||(O[a]=t[a]),i;if(!b.loading)b.loading=!0,i=function(a){b.callback=function(){return a};n(b);C[b.id]=!0;x()},i.fromText=function(a,b){var c=P;C[a]=!1;j.scriptCount+=1;j.fake[a]=!0;c&&(P=!1);l.exec(b);
c&&(P=!0);j.completeLoad(a)},e in t?i(t[e]):g.load(d,p(c.parentMap,!0),i,w)}function v(a){J[a.id]||(J[a.id]=a,K.push(a),j.waitCount+=1)}function q(a){this.listeners.push(a)}function z(a,b){var c=a.fullName,d=a.prefix,g=d?O[d]||(O[d]=t[d]):null,i,f;c&&(i=T[c]);if(!i&&(f=!0,i={id:(d&&!g?X++ +"__p@:":"")+(c||"__r@"+X++),map:a,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:q},E[i.id]=!0,c&&(!d||O[d])))T[c]=i;d&&!g?(c=z(e(d),!0),c.add(function(){var b=e(a.originalName,a.parentMap),b=z(b,
!0);i.placeholder=!0;b.add(function(a){i.callback=function(){return a};n(i)})})):f&&b&&(C[i.id]=!1,j.paused.push(i),v(i));return i}function G(a,b,c,d){var a=e(a,d),i=a.name,g=a.fullName,f=z(a),h=f.id,m=f.deps,r;if(g){if(g in t||!0===C[h]||"jquery"===g&&w.jQuery&&w.jQuery!==c().fn.jquery)return;E[h]=!0;C[h]=!0;"jquery"===g&&c&&U(c())}f.depArray=b;f.callback=c;for(c=0;c<b.length;c++)if(h=b[c])h=e(h,i?a:d),r=h.fullName,b[c]=r,"require"===r?m[c]=p(a):"exports"===r?(m[c]=t[g]={},f.usingExports=!0):"module"===
r?f.cjsModule=m[c]={id:i,uri:i?j.nameToUrl(i,null,d):void 0,exports:t[g]}:r in t&&!(r in J)&&(!(g in L)||g in L&&S[r])?m[c]=t[r]:(g in L&&(L[r]=!0,delete t[r],V[h.url]=!1),f.depCount+=1,f.depCallbacks[c]=o(f,c),z(h,!0).add(f.depCallbacks[c]));f.depCount?v(f):n(f)}function A(a){G.apply(null,a)}function N(a,b){if(!a.isDone){var c=a.map.fullName,d=a.depArray,g,i,f,h;if(c){if(b[c])return t[c];b[c]=!0}if(d)for(g=0;g<d.length;g++)if(i=d[g])if((f=e(i).prefix)&&(h=J[f])&&N(h,b),(f=J[i])&&!f.isDone&&C[i])i=
N(f,b),a.depCallbacks[g](i);return c?t[c]:void 0}}function D(){var b=1E3*w.waitSeconds,c=b&&j.startTime+b<(new Date).getTime(),b="",d=!1,e=!1,i;if(!(0<j.pausedCount)){if(w.priorityWait)if(m())x();else return;for(i in C)if(!(i in F)&&(d=!0,!C[i]))if(c)b+=i+" ";else{e=!0;break}if(d||j.waitCount){if(c&&b)return i=g("timeout","Load timeout for modules: "+b),i.requireType="timeout",i.requireModules=b,l.onError(i);if(e||j.scriptCount){if((u||a)&&!W)W=setTimeout(function(){W=0;D()},50)}else{if(j.waitCount){for(M=
0;b=K[M];M++)N(b,{});j.paused.length&&x();5>R&&(R+=1,D())}R=0;l.checkReadyState()}}}}var j,x,w={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},B=[],E={require:!0,exports:!0,module:!0},H={},t={},C={},J={},K=[],V={},X=0,T={},O={},L={},S={},Q=0;U=function(a){if(!j.jQuery&&(a=a||("undefined"!==typeof jQuery?jQuery:null))&&!(w.jQuery&&a.fn.jquery!==w.jQuery)&&("holdReady"in a||"readyWait"in a))if(j.jQuery=a,A(["jquery",[],function(){return jQuery}]),j.scriptCount)d(a,!0),j.jQueryIncremented=
!0};x=function(){var a,b,c,d,e,i;Q+=1;if(0>=j.scriptCount)j.scriptCount=0;for(;B.length;){a=B.shift();if(null===a[0])return l.onError(g("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));A(a)}if(!w.priorityWait||m())for(;j.paused.length;){e=j.paused;j.pausedCount+=e.length;j.paused=[];for(d=0;a=e[d];d++)b=a.map,c=b.url,i=b.fullName,b.prefix?s(b.prefix,a):!V[c]&&!C[i]&&(l.load(j,i,c),0!==c.indexOf("empty:")&&(V[c]=!0));j.startTime=(new Date).getTime();j.pausedCount-=e.length}1===Q&&
D();Q-=1};j={contextName:b,config:w,defQueue:B,waiting:J,waitCount:0,specified:E,loaded:C,urlMap:H,urlFetched:V,scriptCount:0,defined:t,paused:[],pausedCount:0,plugins:O,needFullExec:L,fake:{},fullExec:S,managerCallbacks:T,makeModuleMap:e,normalize:c,configure:function(a){var b,c,d;a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");b=w.paths;d=w.pkgs;h(w,a,!0);if(a.paths){for(c in a.paths)c in F||(b[c]=a.paths[c]);w.paths=b}if((b=a.packagePaths)||a.packages){if(b)for(c in b)c in
F||k(d,b[c],c);a.packages&&k(d,a.packages);w.pkgs=d}if(a.priority)c=j.requireWait,j.requireWait=!1,j.takeGlobalQueue(),x(),j.require(a.priority),x(),j.requireWait=c,w.priorityWait=a.priority;if(a.deps||a.callback)j.require(a.deps||[],a.callback)},requireDefined:function(a,b){return e(a,b).fullName in t},requireSpecified:function(a,b){return e(a,b).fullName in E},require:function(a,c,d){if("string"===typeof a){if(f(c))return l.onError(g("requireargs","Invalid require call"));if(l.get)return l.get(j,
a,c);c=e(a,c);a=c.fullName;return!(a in t)?l.onError(g("notloaded","Module name '"+c.fullName+"' has not been loaded yet for context: "+b)):t[a]}(a&&a.length||c)&&G(null,a,c,d);if(!j.requireWait)for(;!j.scriptCount&&j.paused.length;)j.takeGlobalQueue(),x();return j.require},takeGlobalQueue:function(){I.length&&(r.apply(j.defQueue,[j.defQueue.length-1,0].concat(I)),I=[])},completeLoad:function(a){var b;for(j.takeGlobalQueue();B.length;)if(b=B.shift(),null===b[0]){b[0]=a;break}else if(b[0]===a)break;
else A(b),b=null;b?A(b):A([a,[],"jquery"===a&&"undefined"!==typeof jQuery?function(){return jQuery}:null]);U();l.isAsync&&(j.scriptCount-=1);x();l.isAsync||(j.scriptCount-=1)},toUrl:function(a,b){var c=a.lastIndexOf("."),d=null;-1!==c&&(d=a.substring(c,a.length),a=a.substring(0,c));return j.nameToUrl(a,d,b)},nameToUrl:function(a,b,d){var e,i,g,f,h=j.config,a=c(a,d&&d.fullName);if(l.jsExtRegExp.test(a))b=a+(b?b:"");else{e=h.paths;i=h.pkgs;d=a.split("/");for(f=d.length;0<f;f--)if(g=d.slice(0,f).join("/"),
e[g]){d.splice(0,f,e[g]);break}else if(g=i[g]){a=a===g.name?g.location+"/"+g.main:g.location;d.splice(0,f,a);break}b=d.join("/")+(b||".js");b=("/"===b.charAt(0)||b.match(/^\w+:/)?"":h.baseUrl)+b}return h.urlArgs?b+((-1===b.indexOf("?")?"?":"&")+h.urlArgs):b}};j.jQueryCheck=U;j.resume=x;return j}function c(){var a,b,c;if(G&&"interactive"===G.readyState)return G;a=document.getElementsByTagName("script");for(b=a.length-1;-1<b&&(c=a[b]);b--)if("interactive"===c.readyState)return G=c;return null}var o=
/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,n=/require\(\s*["']([^'"\s]+)["']\s*\)/g,b=/^\.\//,m=/\.js$/,v=Object.prototype.toString,q=Array.prototype,y=q.slice,r=q.splice,u=!!("undefined"!==typeof window&&navigator&&document),a=!u&&"undefined"!==typeof importScripts,p=u&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,s="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),F={},z={},I=[],G=null,R=0,P=!1,l,q={},N,A,D,K,x,E,H,M,B,U,W;if("undefined"===typeof define){if("undefined"!==
typeof requirejs){if(f(requirejs))return;q=requirejs;requirejs=void 0}"undefined"!==typeof require&&!f(require)&&(q=require,require=void 0);l=requirejs=function(a,b,c){var d="_",g;!e(a)&&"string"!==typeof a&&(g=a,e(b)?(a=b,b=c):a=[]);if(g&&g.context)d=g.context;c=z[d]||(z[d]=i(d));g&&c.configure(g);return c.require(a,b)};l.config=function(a){return l(a)};require||(require=l);l.toUrl=function(a){return z._.toUrl(a)};l.version="1.0.2";l.jsExtRegExp=/^\/|:|\?|\.js$/;A=l.s={contexts:z,skipAsync:{}};if(l.isAsync=
l.isBrowser=u)if(D=A.head=document.getElementsByTagName("head")[0],K=document.getElementsByTagName("base")[0])D=A.head=K.parentNode;l.onError=function(a){throw a;};l.load=function(a,b,c){l.resourcesReady(!1);a.scriptCount+=1;l.attach(c,a,b);if(a.jQuery&&!a.jQueryIncremented)d(a.jQuery,!0),a.jQueryIncremented=!0};define=function(a,b,d){var g,i;"string"!==typeof a&&(d=b,b=a,a=null);e(b)||(d=b,b=[]);!b.length&&f(d)&&d.length&&(d.toString().replace(o,"").replace(n,function(a,c){b.push(c)}),b=(1===d.length?
["require"]:["require","exports","module"]).concat(b));if(P&&(g=N||c()))a||(a=g.getAttribute("data-requiremodule")),i=z[g.getAttribute("data-requirecontext")];(i?i.defQueue:I).push([a,b,d])};define.amd={multiversion:!0,plugins:!0,jQuery:!0};l.exec=function(a){return eval(a)};l.execCb=function(a,b,c,d){return b.apply(d,c)};l.addScriptToDom=function(a){N=a;K?D.insertBefore(a,K):D.appendChild(a);N=null};l.onScriptLoad=function(a){var b=a.currentTarget||a.srcElement,c;if("load"===a.type||b&&p.test(b.readyState))G=
null,a=b.getAttribute("data-requirecontext"),c=b.getAttribute("data-requiremodule"),z[a].completeLoad(c),b.detachEvent&&!s?b.detachEvent("onreadystatechange",l.onScriptLoad):b.removeEventListener("load",l.onScriptLoad,!1)};l.attach=function(b,c,d,e,g,i){var f;if(u)return e=e||l.onScriptLoad,f=c&&c.config&&c.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),f.type=g||"text/javascript",f.charset="utf-8",f.async=!A.skipAsync[b],c&&f.setAttribute("data-requirecontext",
c.contextName),f.setAttribute("data-requiremodule",d),f.attachEvent&&!s?(P=!0,i?f.onreadystatechange=function(){if("loaded"===f.readyState)f.onreadystatechange=null,f.attachEvent("onreadystatechange",e),i(f)}:f.attachEvent("onreadystatechange",e)):f.addEventListener("load",e,!1),f.src=b,i||l.addScriptToDom(f),f;a&&(importScripts(b),c.completeLoad(d));return null};if(u){x=document.getElementsByTagName("script");for(M=x.length-1;-1<M&&(E=x[M]);M--){if(!D)D=E.parentNode;if(H=E.getAttribute("data-main")){if(!q.baseUrl)x=
H.split("/"),E=x.pop(),x=x.length?x.join("/")+"/":"./",q.baseUrl=x,H=E.replace(m,"");q.deps=q.deps?q.deps.concat(H):[H];break}}}l.checkReadyState=function(){var a=A.contexts,b;for(b in a)if(!(b in F)&&a[b].waitCount)return;l.resourcesReady(!0)};l.resourcesReady=function(a){var b,c;l.resourcesDone=a;if(l.resourcesDone)for(c in a=A.contexts,a)if(!(c in F)&&(b=a[c],b.jQueryIncremented))d(b.jQuery,!1),b.jQueryIncremented=!1};l.pageLoaded=function(){if("complete"!==document.readyState)document.readyState=
"complete"};if(u&&document.addEventListener&&!document.readyState)document.readyState="loading",window.addEventListener("load",l.pageLoaded,!1);l(q);if(l.isAsync&&"undefined"!==typeof setTimeout)B=A.contexts[q.context||"_"],B.requireWait=!0,setTimeout(function(){B.requireWait=!1;B.takeGlobalQueue();B.jQueryCheck();B.scriptCount||B.resume();l.checkReadyState()},0)}})();define("requireLib",function(){});
(function(){var f,e,h,g,k,d,i,c,o,n,b,m,v=Array.prototype.slice,q=Object.prototype.hasOwnProperty,y=function(b,c){function a(){this.constructor=b}for(var d in c)q.call(c,d)&&(b[d]=c[d]);a.prototype=c.prototype;b.prototype=new a;b.__super__=c.prototype;return b};f="function"===typeof("undefined"!==typeof console&&null!==console?console.error:void 0)&&function(b){return console.error(b)}||function(){};k=this;h=k.document||{createElement:function(){}};o="object"===typeof Node?function(b){return b instanceof
Node}:function(b){return"object"===typeof b&&"number"===typeof b.nodeType&&"string"===typeof b.nodeName};c=Array.isArray?Array.isArray:function(){return function(b){return b.push===push&&null!=b.length}}();d=Function.prototype.bind?function(b,c){return b.bind(c)}:function(b,c){return function(){return b.apply(c,arguments)}};i=function(){return h.createElement("div")};b=h.createRange();m=function(b,d){for(var a,e;0<d.length;)if(null!=(a=d.shift()))o(a)?b.appendChild(a):"string"===(e=typeof a)||"number"===
e?b.appendChild(h.createTextNode(a)):c(a)?Array.prototype.unshift.apply(d,a):f("renderNodes: unsupported child type = "+a);return b};k.cell=e=function(){function e(b){var a,g,i,f,h,n,k;this.options=null!=b?b:{};if(null!=this.options.model)this.model=this.options.model;"function"===typeof this.init&&this.init(this.options);this.$el=jQuery(this.el=this._tag());if(b=this.options.id)this.el.id=b;k=[this.cell.prototype.name,this["class"],this.options["class"]];for(b=0,n=k.length;b<n;b++)if(h=k[b])this.el.className+=
b&&" "+h||h;m(this.el,c(i="function"===typeof this.render?this.render(this.$R):void 0)&&i||[]);b=this.on;for(a in b)if(i=b[a],"function"===typeof i&&(f=/^([A-z]+)(\s(.*))?$/.exec(a))&&(g=f[1]))this.$el.on(g,f[3],d(i,this));"function"===typeof this.afterRender&&this.afterRender()}e.prototype.$=function(b){return jQuery(b,this.el)};e.prototype.$R=function(){var c,a,d,e,i,g,n,k;c=arguments[0];a=arguments[1];d=3<=arguments.length?v.call(arguments,2):[];if(c){if((null!=a?a.constructor:void 0)!==Object)d.unshift(a),
a=void 0;return(n=function(){if("string"===typeof c){if(g=/^(\w+)?(#([\w\-]+))*(\.[\w\.\-]+)?$/.exec(c)){e=h.createElement(g[1]||"div");(k=g[3])&&e.setAttribute("id",k);if(a)for(i in"class"in a&&(e.className+=a["class"],a["class"]=void 0),a)k=a[i],e.setAttribute(i,k);if(k=g[4])e.className+=k.replace(/\./g," ");return e}return/^<[A-z]/.test(c)?b.createContextualFragment(c).childNodes[0]:f("renderParent: unsupported parent string = '"+c+"'")}return c.prototype.cell===c?(new c(a)).el:o(c)?c:f("renderParent: unsupported parent type = "+
c)}())&&m(n,d)}};return e}();e.extend=function(c){var d,a,g,f,m;null==c&&(c={});if("object"!==typeof c)throw"cell.extend(): expects an object {render,init,name}";if(c.init&&"function"!==typeof c.init||c.render&&"function"!==typeof c.render)throw"cell.extend(): expects {render,init} to be functions";d=function(){function a(){a.__super__.constructor.apply(this,arguments)}y(a,e);return a}();for(a in c)m=c[a],d.prototype[a]=m;d.prototype.cell=d;d.prototype._tag="string"===(f=typeof c.tag)?function(){var a;
a=b.createContextualFragment(c.tag).childNodes[0];return 1===a.nodeType&&a||i()}:"function"===f?function(){var a;a=b.createContextualFragment(this.tag()).childNodes[0];return 1===a.nodeType&&a||i()}:i;if("string"===typeof(a=c.css))g=h.createElement("style"),g.innerHTML=a;else if("string"===typeof(a=c.css_href))g=h.createElement("link"),g.href=a,g.rel="stylesheet";if(g)g.type="text/css",$("head")[0].appendChild(g);return d};"function"===typeof define&&"function"===typeof require&&(n=/(.*\/)?(.*)$/,
define("cell",[],g={pluginBuilder:"cell-builder-plugin",load:function(b,c,a){c([b],function(d){var i;if("object"!==typeof d)f("Couldn't load "+b+" cell. cell definitions should be objects, but instead was "+typeof d);else{d.name=n.exec(b)[2];if(null==(null!=(i=g.__preinstalledCells__)?i[b]:void 0)&&null==d.css_href)d.css_href=c.toUrl(""+b+".css");"string"===typeof d["extends"]?c(["cell!"+d["extends"]],function(b){b.prototype.name&&(d["class"]=b.prototype.name+(" "+d["class"])||"");a(b.extend(d))}):
a(e.extend(d))}})}}),jQuery(h).ready(function(){b.selectNode(h.body);jQuery("[data-cell]").each(function(){var b,c,a,d,e=this;if(a=this.getAttribute("data-cell")){d={};b=/(^\?cachebust)|(&cachebust)/.test(k.location.search);if((null!==(c=this.getAttribute("data-cell-cachebust"))||b)&&"false"!==c)d.urlArgs="bust="+(new Date).getTime();if(b=this.getAttribute("data-cell-baseurl"))d.baseUrl=b;require(d,["cell!"+a],function(a){jQuery(e).append((new a).el)})}})}))}).call(this);
define("AppConfig",["cell!pages/schedule/Schedule"],function(){return{contexts:{Schedule:{defaultPagePath:"pages/schedule/Schedule"},Watch:{defaultPagePath:"pages/watch/Watch"},Search:{defaultPagePath:"pages/watch/Watch"}},defaultContext:"Schedule"}});var __slice=Array.prototype.slice;
define("data/JSONP",[],function(){var f,e,h,g;e=function(e){return e};g=0;h=function(e){var d,i;d="__jsonp"+ ++g;window[d]=function(c){e.success(c);window[d]=void 0;return $("#"+d).remove()};if(null==e.callback)e.callback="callback";i=document.createElement("script");i.id=d;i.setAttribute("type","text/javascript");i.setAttribute("src",""+e.url+(-1===e.url.indexOf("?")&&"?"||"&")+e.callback+"="+d);return $("head").append(i)};f=-1<window.location.search.indexOf("mock-service=true")?function(e,d){var g,
c;g=e.mock;c=e.real;return setTimeout(function(){return require([g],function(e){return d("function"===typeof e?e(c):e)})},0)}:function(e,d){return h({callback:"jsonp",url:e.real,success:d||function(){}})};return{JSONPService:function(){return function(g,d){var i,c,h,n,b,m,v=this;i=d.baseURL;b=d.process;c=d.methods;null==b&&(b=e);m=function(c,d){var h,m,a;m=b;h=e;if("object"===(a=typeof d)&&"function"!==a){if(null!=d.process)m=d.process;d=d.path;if(null!=d.getCache)h=d.getCache}"string"===typeof d&&
function(){var a;a=d;return d=function(){return a}}();return v[c]=function(){var a,b,n,o;a=2<=arguments.length?__slice.call(arguments,0,o=arguments.length-1):(o=0,[]);n=arguments[o++];null==n&&(n=e);void 0!==(b=h())?n(b):f({mock:"data/mock/"+g+"/"+c,real:i+d.apply(null,a)},function(a){a=m(a);n(a)})}};for(h in c)n=c[h],m(h,n)}}()}});
define("data/UserService",["data/JSONP"],function(f){return new f.JSONPService("users",{baseURL:"api/users/",methods:{getWatchedShows:function(){return"pwong/watched-shows"},getShows:function(e){return"pwong/schedule/"+(e.getYear()+1900)+"-"+e.getMonth()+"-"+e.getDate()}}})});define("data/ActorService",["data/JSONP"],function(f){return new f.JSONPService("actors",{baseURL:"api/actors/",methods:{getDetails:function(e){return""+e}}})});
define("data/ShowService",["data/JSONP"],function(f){return new f.JSONPService("shows",{baseURL:"api/shows/",methods:{getDetails:function(e){return""+e}}})});define("Services",["data/UserService","data/ActorService","data/ShowService"],function(f,e,h){return{user:f,show:h,actor:e}});
define("shared/DateHelper",[],function(){var f,e,h;h=new Date;e=["Today","Yesterday"].concat(function(){var e;e=[];for(f=2;7>f;f++)e.push(""+f+" days ago");return e}(),"a week ago");return{getDisplayable:function(g){return h.getYear()===g.getYear()&&h.getMonth()===g.getMonth()?e[h.getDate()-g.getDate()]:g.toLocaleDateString()}}});
define("pages/schedule/Schedule",["require","Services","shared/DateHelper","cell!shared/ListView"],function(f,e,h,g){return{init:function(){var e=this;return this.model.bind({activate:function(){e.model.set({title:h.getDisplayable(new Date)});return e.$("#ShowList").trigger("resetActive")}})},render:function(h){var d=this;return e.user.getShows(new Date,function(e){var c;d.$el.append(h(g,{id:"ShowList",list:function(){var d,g,b;b=[];for(d=0,g=e.length;d<g;d++)c=e[d],b.push({link:this.pageURI("pages/showdetails/ShowDetails",
{id:c.id,title:c.title}),text:c.title});return b}.call(d)}));d.model.trigger("refreshScroller");return f(["pages/showdetails/ShowDetails"],function(){})})}}});
define("shared/ListView",{tag:"<ul>",render:function(f){var e,h,g,k,d,i,c,o;if(g=this.options.list){o=[];for(d=0,i=g.length;d<i;d++)if(c=g[d],k=c.text,h=c.link,e=c.dividerText,k||e)k?o.push(f("<li data-navto='"+h+"'>",f("div"),k)):o.push(f("li.divider",e));return o}},on:{resetActive:function(){return this.$("li.active").removeClass("active").addClass("deactive")},"webkitAnimationEnd li > div":function(){return this.$("li.deactive").removeClass("deactive")},"click li":function(f){f=f.target;this.$("li.active").removeClass("active");
return $(f).closest("li").addClass("active")}}});define("HashDelegate",{set:function(f){return window.location.hash=f},get:function(){return window.location.hash},onChange:function(f){return $(window).on("hashchange",f)}});
define("framework/Model",[],function(){var f,e;f=/^change:(.*)/;e=function(e,g){var f,d,i;for(d=0,i=e.length;d<i;d++)if(f=e[d],f===g)return;return e.unshift(g)};return function(){function h(d){var e,c;this._ls={};for(e in d)c=d[e],this[e]=c}var g,k;h.pathObj=k=function(d,e){var c,g;if(d){g=e.length;for(c=0;c<g&&null!=(d=d[e[c++]]););return d}};h.parsePropChange=g=function(d){var e,c;return null!=(e=f.exec(d))?null!=(c=e[1])?c.split("."):void 0:void 0};h.prototype.set=function(d,e){var c,g,f;for(c in d)if(f=
d[c],this[c]!==f){g=this[c];try{this.trigger({cur:this[c]=f,prev:g,property:c,type:"change:"+c,data:e})}catch(b){}}};h.prototype.trigger=function(d,e){var c,g,f,b,h;c="string"===typeof d?{type:d,data:e}:d;c.model=this;if(f=this._ls[c.type])for(b=0,h=f.length;b<h;b++){g=f[b];try{g(c)}catch(k){}}};h.prototype.bindAndCall=function(d){var f,c,o,n;c=this;n=function(b){var d,f,i,n,r,u,a,p,s,F,z;if(u=g(o)){f=u.length-1;s=u[f];r=u.slice(0,f);a=function(a,b){var c,d,g;return e(null!=(g=(c=b._ls)[d="change:"+
u[a]])?g:c[d]=[],p[a])};i=c;p=[];F=function(c){p[c]=function(d){for(var e=c,g=d.cur,i=d.prev,m=d.model;e++<f;g=(m=g)&&g[u[e]],i=i&&i[u[e]])g instanceof h&&a(e,g);e={cur:g,prev:i,property:s,type:"change:"+s,model:m,data:d.data};if(c!==f)e.parentEvent=d;return b(e)};if(i instanceof h)return a(c,i),i=i[n]};for(d=0,z=u.length;d<z;d++)n=u[d],F(d);try{return b({cur:i,property:s,type:o,model:k(c,r)})}catch(I){return console.error((null!=I?I.stack:void 0)||I)}}else{e(null!=(r=(d=c._ls)[o])?r:d[o]=[],b);try{return b({type:o,
model:c})}catch(G){}}};for(o in d)f=d[o],n(f)};h.prototype.bind=function(d){var f,c,k,n,b,m,v,q,y,r;for(n in d){c=d[n];if(f=g(n)){y=f.slice(0,-1);for(v=0,q=y.length;v<q;v++)if(k=y[v],(b=this[k])instanceof h)f={},f["change:"+k]=function(){},b.bind(f)}e(null!=(r=(m=this._ls)[n])?r:m[n]=[],c)}};h.prototype.unbind=function(d){var e,c,g,f,b,h;for(b in d)if(e=d[b],f=this._ls[b])for(c=0,h=f.length;c<h;c++)g=f[c],g===e&&delete f[c]};return h}()});
define("framework/Nav",["AppConfig","HashDelegate","./Model"],function(f,e,h){var g,k,d,i,c,o,n;i=/^\#([^!^?]+)(!([^?]+))?(\?(.+))?/;c=!1;g=new h({_toHash:n=function(b){var c,d;c=b.context;d=b.page;b=b.data;c=f.contexts[c]&&c||f.defaultContext;return"#"+c+"!"+(d||f.contexts[c].defaultPagePath)+(b&&"?"+encodeURIComponent(JSON.stringify(b))||"")},_parseHash:o=function(b){var c,d,e,g,h;h=i.exec(b);return{hash:b,context:c=(d=null!=h?h[1]:void 0)&&f.contexts[d]&&d||f.defaultContext,page:(g=null!=h?h[3]:
void 0)&&"/"!==g.substr(-1)&&g||f.contexts[c].defaultPagePath,data:(e=null!=h?h[5]:void 0)&&JSON.parse(decodeURIComponent(e))}},current:function(){var b,d;d=o(e.get());if(d.hash!==(b=n(d)))d.hash=b,c=!0;return new h(d)}(),canBack:function(){var b;return 1<(null!=(b=k[g.current.context])?b.length:void 0)},goBack:function(){var b,c;if(b=null!=(c=k[g.current.context][1])?c.hash:void 0)return e.set(b)},pageHash:function(b,c){return n({context:g.current.context,page:b,data:c})},switchContext:function(b){var c;
if("string"===typeof b&&(c=k[b])&&g.current.context!==b)return e.set(n(c[0]||{context:b,page:f.contexts[b].defaultPage}))}});k={};for(d in f.contexts)k[d]=[];k[g.current.context].push(g.current);g.bind({"change:current":function(b){var c,d,e;c={};for(d in b)e=b[d],c[d]=e;c.type="change:current[context="+b.cur.context+"]";return g.trigger(c)}});e.onChange(function(){var b,d,f;if(c)c=!1;else if(d=o(e.get()),b=k[d.context],g.current.context!==d.context)g.set({current:b.length?b[0]:(b.unshift(d=new h(d)),
d)},{isBack:!1,isContextSwitch:!0});else if(d.hash===(null!=(f=b[1])?f.hash:void 0))d=b[1],b.shift(),g.set({current:d},{isBack:!0,isContextSwitch:!1});else if(0===b.length||b[0].hash!==d.hash)b.unshift(d=new h(d)),g.set({current:d},{isBack:!1,isContextSwitch:!1})});c&&e.set(g.current.hash);return g});
var __hasProp=Object.prototype.hasOwnProperty,__extends=function(f,e){function h(){this.constructor=f}for(var g in e)__hasProp.call(e,g)&&(f[g]=e[g]);h.prototype=e.prototype;f.prototype=new h;f.__super__=e.prototype;return f};
define("framework/ContextModel",["./Model"],function(f){return function(){function e(h){var g,k,d,i,c,o=this;d=h.id;i=h.initialHash;k=h.hashManager;h=h.defaultPagePath;e.__super__.constructor.call(this,{id:d,defaultPagePath:h,currentPageModel:g=new f(i),pageHistory:c=[g]});(g={})["change:current[context="+d+"]"]=function(d){var b,e;b=d.cur;d=d.prev;if(!(d=b.context!==(null!=d?d.context:void 0)))(null!=(e=c[1])?e.hash:void 0)===b.hash?c.splice(0,1):c.unshift(new f(b));return o.set({currentPageModel:c[0]},
{isContextSwitch:d})};k.bind(g)}__extends(e,f);return e}()});
define("framework/Context",["require","./Model","./Nav","cell!./Page"],function(f,e,h,g){return{tag:function(){return"<div data-ctxid='"+this.options.contextid+"'>"},afterRender:function(){var e,d,f,c,o;o={};f=null;e=this.$el;c=(d={})["change:current[context="+this.options.contextid+"]"]=function(c){var b,d,h,q,y,r;b=c.cur;q=c.prev;h=c.data,c=h.isBack,d=h.isContextSwitch;if(!d){h=o[b.hash];if((y=q&&o[q.hash])&&c)o[q.hash]=void 0,y.$el.bind("webkitAnimationEnd",function(){return y.$el.remove()});h||
(h=o[b.hash]=new g({model:b}));h.$el.prependTo(e);b="Page animate "+((null!=q?q.context:void 0)===b.context?(r=c&&"-reverse"||"",null!=f&&f.$el.attr("class","Page animate headingOut"+r),null!=f&&f.model.trigger("deactivate"),"headingIn"+r):"fadeIn");h.$el.attr("class",b);return(f=h).model.trigger({type:"activate",isback:c})}};h.bind(d);return c({cur:this.options.initialHash,data:{isBack:!1}})}}});
define("framework/Page",["require","./Nav"],function(f,e){return{tag:function(){return"<div data-cellpath='"+this.model.page+"'>"},render:function(h){var g=this;return f(["cell!"+this.model.page],function(f){f.prototype.pageURI=e.pageHash;g.$el.append(h(f,{model:g.model}));return g.pageRendered()})},pageRendered:function(){var e,g,f=this;e=!0;this.model.bind({deactivate:function(){return e=!1}});this.model.bind({activate:function(){e=!0;return f.$el.css("visibility","visible")}});this.$el.bind("webkitAnimationEnd",
function(){if(!e)return f.$el.css("visibility","hidden")});g=new iScroll(this.el);return this.model.bindAndCall({refreshScroller:function(){return g.refresh()}})}}});require(["cell"],function(f){f.__preinstalledCells__={"framework/App":0,"pages/schedule/Schedule":0,"shared/ListView":0,"framework/Context":0,"framework/ContextNavBar":0,"framework/Page":0,"framework/TitleBar":0}});var hideAddressBar,ua;document.addEventListener("touchmove",function(f){return f.preventDefault()});
hideAddressBar=function(){var f,e;f=0;setTimeout(e=function(){if(1===++f)return window.scrollTo(0,1)},500);return $(window).bind("resize",function(){f=0;return e()})};$("body").attr("class",(ua=navigator.userAgent).match(/iPhone/i)||ua.match(/iPod/i)||ua.match(/iPad/i)?window.navigator.standalone?"IOSFullScreen":(hideAddressBar(),"IOS"):(hideAddressBar(),"ANDROID"));
define("framework/App","./Nav,./Model,./ContextModel,cell!./Context,cell!./ContextNavBar,cell!./TitleBar".split(","),function(f,e,h,g,k,d){var i;i={};return{render:function(c){return[c(d),c("#content"),c(k)]},afterRender:function(){var c,d=this;c=this.$("#content");return f.bindAndCall({"change:current":function(e){var b,f,h;b=e.cur;f=e.prev;e=e.data;if(!e||null!=e&&e.isContextSwitch){if(!(e=i[b.context]))e=i[b.context]=new g({contextid:b.context,initialHash:b}),c.append(e.$el);e.$el.toggle(!0);if(f=
null!=f?f.context:void 0)null!=(h=i[f])&&h.$el.toggle(!1);e?(d.$("#content > .activeTab").removeClass("activeTab"),e.$el.toggle(!0).toggleClass("activeTab",!0)):"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log("Could not switch to context = '"+b.context+"'")}}})},on:{"click [data-navto]":function(c){return location.hash=$(c.target).closest("[data-navto]").data("navto")}}}});
define("framework/ContextNavBar",["AppConfig","./Nav"],function(f,e){return{tag:"<ul>",render:function(e){var g,k,d,i;d=f.contexts;i=[];for(g in d)k=d[g].text,i.push(e("<li data-ctxid='"+g+"'>",k||g));return[i]},on:{"click li":function(f){f=f.target;$("li.active").removeClass("active");return e.switchContext($(f).addClass("active").data("ctxid"))}}}});
define("framework/TitleBar",["framework/Nav"],function(f){return{render:function(e){return[e("#backbutton",e("span","Back")),e("#titles",e("#title"),e("#prevtitle")),e("#gobutton",e("span","Do It"))]},afterRender:function(){var e,h,g,k;k=!1;e=this.$("#backbutton");this.$("#backbutton > span");g=this.$("#title");h=this.$("#prevtitle");g.bind("webkitAnimationEnd",function(){g.attr("class","");h.attr("class","");return k=!1});return f.bindAndCall({"change:current.title":function(d){var i,c;i=d.cur;c=
d.prev;d=d.data;d=null!=d?d.isBack:void 0;g.html(i||"");if(!k)return e.css("visibility",f.canBack()&&"visible"||"hidden"),i=d&&"-reverse"||"",c&&h.html(c).attr("class","animate headingOut"+i),g.attr("class","animate headingIn"+i),k=!0}})},on:{"click #backbutton":function(){return f.goBack()}}}});
